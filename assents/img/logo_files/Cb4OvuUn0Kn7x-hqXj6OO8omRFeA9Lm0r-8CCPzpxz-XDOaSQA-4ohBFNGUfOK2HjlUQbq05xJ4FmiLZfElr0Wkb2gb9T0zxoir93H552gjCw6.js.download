if (self.CavalryLogger) { CavalryLogger.start_js(["ZvXYPYF"]); }

__d("MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"source_type"}],b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],c=[{alias:null,args:null,kind:"ScalarField",name:"service_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_domain",storageKey:null}];b=[{alias:null,args:null,concreteType:"MediaUploadConfiguration",kind:"LinkedField",name:"media_upload_config",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"source_type",variableName:"source_type"}],concreteType:"MediaUploadVideoMetadataValidation",kind:"LinkedField",name:"video_metadata_validation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_size_kb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size_kb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_duration_secs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_duration_secs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_aspect_ration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_aspect_ration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowed_extensions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accept_dimensions_from_player",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkStart",kind:"LinkedField",name:"network_start",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkReceive",kind:"LinkedField",name:"network_receive",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadService",kind:"LinkedField",name:"network_upload_service",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTarget",kind:"LinkedField",name:"default",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTarget",kind:"LinkedField",name:"targeted",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTracing",kind:"LinkedField",name:"tracing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_file_size_kb",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkMonitor",kind:"LinkedField",name:"network_monitor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"network_probe_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"internet_probe_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"internet_probe_timeout_ms",storageKey:null},{alias:null,args:null,concreteType:"MediaUploadBackoffPolicy",kind:"LinkedField",name:"internet_probe_backoff",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backoff_initial_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_jitter_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_exp_base_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_exp_multiplier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_max_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limits_total_retry_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limits_total_time_ms",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stall_detection_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stall_detection_timeout_ms",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",selections:b},params:{id:"4094129890651883",metadata:{},name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComposerVideoPublishingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPublishResponsePayload",kind:"LinkedField",name:"video_publish",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_asset_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComposerVideoPublishingMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComposerVideoPublishingMutation",selections:b},params:{id:"5343496179025842",metadata:{},name:"VideoComposerVideoPublishingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FileHasher",["FileHashWorkerResource","WebWorker","emptyFunction","fileSliceName"],(function(a,b,c,d,e,f){a=function(){"use strict";a.isSupported=function(){return b("WebWorker").isSupported()};function a(){var a=this,c=b("FileHashWorkerResource");b("WebWorker").prepareResource(c);this.$1=new(b("WebWorker"))(c).setMessageHandler(function(b){a.$2(b)}).execute()}var c=a.prototype;c.hash=function(a,c){this.$2=c;this.$1.postMessage({file:a,fileSliceName:b("fileSliceName")});return this};c.destroy=function(){this.$2=b("emptyFunction"),this.$1.terminate()};return a}();e.exports=a}),null);
__d("MediaUploadAssetEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ASSET_ADDED","ASSET_STARTED","ASSET_REMOVED","ASSET_FAILED","ASSET_SUCCEED","ASSET_PROGRESS","ASSET_STALL"]);c=a;f["default"]=c}),66);
__d("MediaUploadBytesSummary",["MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.reset=function(){this.$2=null};b.updateForUploadStart=function(a){var b=this.$1.currentTimeProvider();this.$2={fullyCompleted:!1,startedAt:b,updatedAt:b,totalBytes:a,uploadedBytes:0,skippedUpload:!1}};b.updateForUploadSkip=function(a){var b=this.$1.currentTimeProvider();this.$2={fullyCompleted:!0,startedAt:b,updatedAt:b,finishedAt:b,totalBytes:a,uploadedBytes:a,skippedUpload:!0}};b.updateForProgress=function(a){var b=this.$2;if(b==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}b.uploadedBytes=a;b.updatedAt=this.$1.currentTimeProvider()};b.updateForUploadComplete=function(){var a=this.$2;if(a==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}this.updateForProgress(a.totalBytes);a.fullyCompleted=!0;a.uploadedBytes=a.totalBytes};b.updateForUploadAbandoned=function(){var a=this.$2;if(a==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}a.finishedAt=this.$1.currentTimeProvider()};b.computeSpeedBps=function(){var a=this.$2;if(a==null||a.skippedUpload)return null;else{var b=d("MediaUploadTime").timeToSeconds(d("MediaUploadTime").subtractTime(a.updatedAt,a.startedAt));return b>.1?a.uploadedBytes/b:0}};b.computeUploadedPortion=function(){var a=this.$2;if(a==null)return null;else if(a.fullyCompleted)return 1;else if(a.totalBytes===0)return 0;else return 1*a.uploadedBytes/a.totalBytes};b.computeSnapshot=function(){var a=this.$2;if(a==null)return null;else return{uploadedBytes:a.uploadedBytes,speedBps:this.computeSpeedBps(),skippedUpload:a.skippedUpload,startedAtMs:d("MediaUploadTime").timeToMilliseconds(a.startedAt),finishedAtMs:d("MediaUploadTime").maybeTimeToMilliseconds(a.finishedAt)}};return a}();g["default"]=a}),98);
__d("MediaUploadOperationOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCELED","FAILED_NON_TRANSIENT","FAILED_NO_MORE_RETRIES","FAILED_OUT_OF_TIME"]);c=a;f["default"]=c}),66);
__d("MediaUploadStageEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["STAGE_STARTED","STAGE_PROGRESS","STAGE_SUCCEED","STAGE_FAILED","STAGE_CANCELED"]);c=a;f["default"]=c}),66);
__d("MediaUploadAssetContext",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadBytesSummary","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.sessionContext,d=a.assetRequest,e=a.emitter,f=a.progressCalculator,g=a.retryState;a=a.params;this.sessionContext=b;this.request=d;this.assetID=d.assetID;this.asset=d.asset;this.retryState=g;this.$2=e;this.$3=f;this.$1=a.currentTimeProvider;this.$4=c("MediaUploadAssetStatus").REQUESTED;this.createdAt=this.$1();this.uploadSummary=new(c("MediaUploadBytesSummary"))(a);this.progress={completedStages:new Set(),calculated:{rawValue:0,percentageComplete:0}}}var b=a.prototype;b.emitAssetEvent=function(a){this.$2.emitAssetEvent(a,this),(a===c("MediaUploadAssetEvent").ASSET_SUCCEED||a===c("MediaUploadAssetEvent").ASSET_REMOVED)&&this.recalculateProgressAndEmit()};b.emitStageEvent=function(a,b){this.$2.emitStageEvent(a,this,b),a===c("MediaUploadStageEvent").STAGE_SUCCEED&&(this.progress.completedStages.add(b),this.recalculateProgressAndEmit()),a===c("MediaUploadStageEvent").STAGE_PROGRESS&&this.recalculateProgressAndEmit()};b.emitStageEventForOperationOutcome=function(a,b){a===c("MediaUploadOperationOutcome").SUCCESS?this.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,b):a===c("MediaUploadOperationOutcome").CANCELED?this.emitStageEvent(c("MediaUploadStageEvent").STAGE_CANCELED,b):this.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,b)};b.recalculateProgressAndEmit=function(){var a=this.$3.calculateAssetProgress(this);this.sessionContext.recalculateProgressAndEmit();a&&this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_PROGRESS)};b.$5=function(){this.uploadSummary.reset(),this.progress.completedStages.clear(),this.recalculateProgressAndEmit()};b.updateStatusAndEmit=function(a){if(this.$4===a)return;this.$4=a;switch(a){case c("MediaUploadAssetStatus").REMOVED:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_REMOVED);break;case c("MediaUploadAssetStatus").FAILED:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_FAILED);break;case c("MediaUploadAssetStatus").COMPLETED:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_SUCCEED);break;case c("MediaUploadAssetStatus").PROCESSING:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_STARTED);break;case c("MediaUploadAssetStatus").UPLOADING:this.progress.lastAttemptStartedAt=this.$1();break;case c("MediaUploadAssetStatus").REQUESTED:case c("MediaUploadAssetStatus").SCHEDULED:this.$5();break}};b.isCompleted=function(){return this.$4===c("MediaUploadAssetStatus").COMPLETED};b.isSchedulable=function(){return this.$4===c("MediaUploadAssetStatus").REQUESTED||this.$4===c("MediaUploadAssetStatus").FAILED};b.isRemoved=function(){return this.$4===c("MediaUploadAssetStatus").REMOVED};b.isFailed=function(){return this.$4===c("MediaUploadAssetStatus").FAILED};b.__composeBaseSnapshot=function(){return{asset:this.asset,assetID:this.assetID,status:this.$4,createdAtMs:d("MediaUploadTime").timeToMilliseconds(this.createdAt),lastUploadStartedAtMs:d("MediaUploadTime").maybeTimeToMilliseconds(this.progress.lastAttemptStartedAt),metadata:this.metadata==null?void 0:{width:this.metadata.width,height:this.metadata.height,isSpherical:this.metadata.isSpherical,durationMs:d("MediaUploadTime").maybeTimeToMilliseconds(this.metadata.duration)},retries:{totalRetryAttempts:this.retryState.getRetryAttempts()},uploadSummary:this.uploadSummary.computeSnapshot(),percentageComplete:this.progress.calculated.percentageComplete}};return a}();g["default"]=a}),98);
__d("MediaUploadExtrasStorage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=new Map(),this.$1=a}var b=a.prototype;b.setFromObject=function(a){var b=Object.keys(a);for(var c=0;c<b.length;c++){var d=b[c];this.set(d,a[d])}return this};b.set=function(a,b){this.$2.set(a,b);return this};b.getNumber=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="number")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as number, but it was "+typeof b);return null}};b.getString=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="string")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as string, but it was "+typeof b);return null}};b.getBoolean=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="boolean")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as boolean, but it was "+typeof b);return null}};b.getUnsafe=function(a){return this.$2.get(a)};b.getClassInstance=function(a,b){var c=this.getUnsafe(a);if(c==null||c instanceof b)return c;else{this.$1.reportRecoverableError("Requested key "+a+" as "+String(b)+", but it was something else");return null}};return a}();f["default"]=a}),66);
__d("MediaUploadFBAssetContext",["ErrorNormalizeUtils","MediaUploadAssetContext","MediaUploadExtrasStorage","MediaUploadStageEvent","MediaUploadTime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b)||this;d.request=b.assetRequest;d.sessionContext=b.sessionContext;d.processing={rawData:new(c("MediaUploadExtrasStorage"))(b.params)};return d}var e=b.prototype;e.recordStageOutcome=function(a){var b=a.stage,d=a.outcome,e=a.rawErrorCode,f=a.rawErrorObject,g=a.displayError,h=a.errorAttributes;a=a.networkRequestID;f=f==null?void 0:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(f));this.$MediaUploadFBAssetContext1={stage:b,outcome:d,rawErrorCode:e,errorObject:f,displayError:g,errorAttributes:h,networkRequestID:a}};e.emitStageEvent=function(b,d){b===c("MediaUploadStageEvent").STAGE_STARTED&&(this.$MediaUploadFBAssetContext1=null),a.prototype.emitStageEvent.call(this,b,d)};e.composeSnapshot=function(){var a=this.__composeBaseSnapshot();return babelHelpers["extends"]({},a,{videoID:this.videoID,request:this.request,uploadServiceDomain:this.processing.uploadServiceDomain,hash:this.processing.pseudoHash==null?null:{hashValue:this.processing.pseudoHash.hashValue,calculationTimeCostMs:d("MediaUploadTime").timeToMilliseconds(this.processing.pseudoHash.calculationTimeCost)},lastAction:this.$MediaUploadFBAssetContext1})};b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided asset context has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadAssetContext"));g["default"]=a}),98);
__d("MediaUploadAssetRequest",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a.assetID,c=a.asset;a=a.extras;this.assetID=b;this.asset=c;this.extras=a};f["default"]=a}),66);
__d("MediaUploadFBAssetRequest",["MediaUploadAssetRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c=b.assetID,d=b.asset,e=b.extras;b=b.attributes;c=a.call(this,{assetID:c,asset:d,extras:e})||this;c.attributes={targetID:b.targetID,actorID:b.actorID,hasFileBeenReplaced:b.hasFileBeenReplaced,composerDialogVersion:b.composerDialogVersion,publisherActionSource:b.publisherActionSource,creatorProduct:b.creatorProduct,composerSessionID:b.composerSessionID};return c}b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided asset request has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadAssetRequest"));g["default"]=a}),98);
__d("MediaUploadEntryPointID",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.key=a};f["default"]=a}),66);
__d("MediaUploadFBEntryPointID",["MediaUploadEntryPointID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,b+"\\"+c)||this;d.sourceType=b;d.entryPointRef=c;return d}b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided entry point ID has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadEntryPointID"));g["default"]=a}),98);
__d("MediaUploadSessionEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SESSION_CONFIRMED","SESSION_SUCCEED","SESSION_FAILED","SESSION_CANCELED","SESSION_FINISHED","SESSION_PROGRESS","PUBLISH_STARTED","PUBLISH_SUCCEED","PUBLISH_FAILED"]);c=a;f["default"]=c}),66);
__d("MediaUploadSessionStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UNCONFIRMED","CONFIRMED","FAILED","PUBLISHING","COMPLETED","CANCELED"]);c=a;f["default"]=c}),66);
__d("MediaUploadSessionContext",["MediaUploadExtrasStorage","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([c("MediaUploadSessionStatus").COMPLETED,c("MediaUploadSessionStatus").CANCELED,c("MediaUploadSessionStatus").FAILED]);a=function(){function a(a){var b=a.sessionID,d=a.emitter,e=a.progressCalculator;a=a.params;this.assetsByID=new Map();this.sessionID=b;this.$1=d;this.$2=e;this.extras=new(c("MediaUploadExtrasStorage"))(a);this.$4=a.currentTimeProvider;this.$5=a.randomStringProvider;this.$6=c("MediaUploadSessionStatus").UNCONFIRMED;this.$3={createdAt:this.$4()};this.progress={retryID:this.$5(),publishingExtrasProvided:!1,publishingDone:!1,percentageComplete:0};this.releaseOnFinish=[]}var b=a.prototype;b.emitSessionEvent=function(a){this.$1.emitSessionEvent(a,this),a===c("MediaUploadSessionEvent").PUBLISH_SUCCEED&&(this.progress.publishingDone=!0,this.recalculateProgressAndEmit()),a===c("MediaUploadSessionEvent").SESSION_FINISHED&&this.$7()};b.renewRetryID=function(){this.progress.retryID=this.$5()};b.updateLastError=function(a){this.__lastError=a};b.recalculateProgressAndEmit=function(){this.$2.calculateSessionProgress(this)&&this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_PROGRESS)};b.$7=function(){while(this.releaseOnFinish.length>0){var a=this.releaseOnFinish.pop();a.cancel()}};b.updateStatusAndEmit=function(a){if(this.$6===a)return;this.$6=a;this.progress.terminalStatus==null&&h.has(a)&&(this.progress.terminalStatus=a,this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_FINISHED));switch(a){case c("MediaUploadSessionStatus").CONFIRMED:this.progress.terminalStatus=void 0;this.$3.confirmedAt=this.$4();this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_CONFIRMED);break;case c("MediaUploadSessionStatus").COMPLETED:this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_SUCCEED);break;case c("MediaUploadSessionStatus").CANCELED:this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_CANCELED);break;case c("MediaUploadSessionStatus").FAILED:this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_FAILED);break;case c("MediaUploadSessionStatus").PUBLISHING:this.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_STARTED);break;default:}};b.getActiveAssets=function(){var a=[];for(var b=this.assetsByID.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.isRemoved()||a.push(e)}return a};b.isCanceled=function(){return this.$6===c("MediaUploadSessionStatus").CANCELED};b.isPublished=function(){return this.$6===c("MediaUploadSessionStatus").COMPLETED};b.isPublishing=function(){return this.$6===c("MediaUploadSessionStatus").PUBLISHING};b.isConfirmed=function(){return this.$6===c("MediaUploadSessionStatus").CONFIRMED};b.isFailed=function(){return this.$6===c("MediaUploadSessionStatus").FAILED};b.__composeBaseSnapshot=function(){return{sessionID:this.sessionID,retryID:this.progress.retryID,status:this.$6,extras:this.extras,timing:{createdAtMs:d("MediaUploadTime").timeToMilliseconds(this.$3.createdAt),confirmedAtMs:d("MediaUploadTime").maybeTimeToMilliseconds(this.$3.confirmedAt)},terminalStatus:this.progress.terminalStatus,percentageComplete:this.progress.percentageComplete,publishingResponse:this.progress.publishingResponse,cancelReason:this.progress.cancelReason}};return a}();g["default"]=a}),98);
__d("MediaUploadFBSessionContext",["ErrorNormalizeUtils","MediaUploadSessionContext","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{sessionID:b.sessionID,emitter:b.emitter,progressCalculator:b.progressCalculator,params:b.params})||this;c.entryPoint=b.entryPoint;return c}var d=b.prototype;d.composeSnapshot=function(){var a=this.__composeBaseSnapshot();return babelHelpers["extends"]({},a,{entryPoint:this.entryPoint,lastError:this.__lastError==null?null:{errorObject:this.__lastError.rawErrorObject==null?null:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(this.__lastError.rawErrorObject)),rawErrorCode:this.__lastError.rawErrorCode}})};b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided session context has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadSessionContext"));g["default"]=a}),98);
__d("MediaUploadFBStage",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["METADATA_EXTRACTION","METADATA_VALIDATION","HASHING","START_REQUEST","BYTES_UPLOAD","RECEIVE_REQUEST"]);c=a;f["default"]=c}),66);
__d("MediaUploadFBStageOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCEL","EXCEPTION","INTERNAL_FAILURE","UNSUPPORTED_FEATURE","ASSET_IS_NOT_FILE","ASSET_IS_NOT_SUPPORTED","REQUEST_ERROR","INVALID_SERVER_RESPONSE","MISSING_MANDATORY_DATA"]);c=a;f["default"]=c}),66);
__d("MediaUploadClientEventContext",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){this.startedAt=a.currentTimeProvider(),this.entryPoint=b};f["default"]=a}),66);
__d("MediaUploadFBClientEventContext",["ErrorNormalizeUtils","MediaUploadClientEventContext","MediaUploadFBAssetContext","MediaUploadFBSessionContext","MediaUploadTime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b.envParams,b.entryPoint)||this;d.entryPoint=b.entryPoint;b.context!=null&&b.context instanceof c("MediaUploadFBSessionContext")?d.sessionContext=b.context:b.context!=null&&b.context instanceof c("MediaUploadFBAssetContext")&&(d.sessionContext=b.context.sessionContext,d.assetContext=b.context);return d}b.castOrThrow=function(a,c){if(a instanceof b)return a;else{throw c.createThrowableError('Provided client event context has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};var e=b.prototype;e.composerSnapshot=function(){var a,b;a=((a=this.errorInfo)==null?void 0:a.rawErrorObject)==null?void 0:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")((a=this.errorInfo)==null?void 0:a.rawErrorObject));return{entryPoint:this.entryPoint,startedAtMs:d("MediaUploadTime").timeToMilliseconds(this.startedAt),sessionSnapshot:(b=this.sessionContext)==null?void 0:b.composeSnapshot(),assetSnapshot:(b=this.assetContext)==null?void 0:b.composeSnapshot(),errorObject:a}};return b}(c("MediaUploadClientEventContext"));g["default"]=a}),98);
__d("MediaUploadEventEmitterAdapter",["EventEmitter","MediaUploadFBAssetContext","MediaUploadFBClientEventContext","MediaUploadFBSessionContext","MediaUploadFBStage"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a};a=function(){function a(a){this.$2=new(c("EventEmitter"))(),this.$1=a,this.emitter=this.$3(),this.subscriber=this.$4()}var b=a.prototype;b.$3=function(){var a=this,b=function(b){b=c("MediaUploadFBSessionContext").castOrThrow(b,a.$1);return b.composeSnapshot()},d=function(b){b=c("MediaUploadFBAssetContext").castOrThrow(b,a.$1);return b.composeSnapshot()},e=this.$2,f=function(b){try{for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];e.emit.apply(e,[h(b)].concat(d))}catch(c){a.$1.reportRecoverableError("Session pub/sub chain failed for event "+String(b),c)}};return{emitClientEvent:function(b,d){f(b,c("MediaUploadFBClientEventContext").castOrThrow(d,a.$1).composerSnapshot())},emitSessionEvent:function(a,c){f(a,b(c))},emitAssetEvent:function(a,c){f(a,b(c.sessionContext),d(c))},emitStageEvent:function(e,g,h){h=c("MediaUploadFBStage").cast(String(h));if(h==null){a.$1.reportRecoverableError("Invalid stage value, it must be MediaUploadFBStage, ignoring");return}f(e,b(g.sessionContext),d(g),h)}}};b.$4=function(){var a=this,b=function(b,c){try{b()}catch(b){a.$1.reportRecoverableError("Stage pub/sub chain failed for event "+c(),b)}};return{addClientEventListener:function(c,d){var e=a.$2.addListener(h(c),function(a){return b(function(){return d(a)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addSessionEventListener:function(c,d){var e=a.$2.addListener(h(c),function(a){return b(function(){return d(a)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addAssetEventListener:function(c,d){var e=a.$2.addListener(h(c),function(a,e){return b(function(){return d(a,e)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addStageEventListener:function(c,d,e){var f=a.$2.addListener(h(c),function(a,f,g){d===g&&b(function(){return e(a,f)},function(){return String(c)+"  "+String(g)})});return{cancel:function(){return f.remove()}}}}};return a}();g["default"]=a}),98);
__d("MediaUploadClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["CLIENT_CREATED","CLIENT_CONFIG_REQUESTED","CLIENT_CONFIG_RECEIVED","CLIENT_CONFIG_FAILED","CLIENT_CONFIG_CACHED","CLIENT_INTERNET_ONLINE","CLIENT_INTERNET_OFFLINE","CLIENT_INTERNET_UNKNOWN"]);c=a;f["default"]=c}),66);
__d("MediaUploadFalcoLogger",["CurrentUser","MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadStageEvent","MediaUploadTime","logVideoUploadViaFalco"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([[c("MediaUploadClientEvent").CLIENT_CONFIG_REQUESTED,"upload.client.started_client_config_fetch"],[c("MediaUploadClientEvent").CLIENT_CONFIG_RECEIVED,"upload.client.finished_client_config_fetch"],[c("MediaUploadClientEvent").CLIENT_CONFIG_FAILED,"upload.client.failed_client_config_fetch"],[c("MediaUploadClientEvent").CLIENT_CONFIG_CACHED,"upload.client.cached_client_config_fetch"]]),i=new Map([[c("MediaUploadSessionEvent").SESSION_CONFIRMED,"upload.client.started_flow"],[c("MediaUploadSessionEvent").PUBLISH_STARTED,"upload.client.started_sending_post_request"],[c("MediaUploadSessionEvent").PUBLISH_SUCCEED,"upload.client.finished_sending_post_request"],[c("MediaUploadSessionEvent").PUBLISH_FAILED,"upload.client.failed_sending_post_request"]]),j=new Map([[c("MediaUploadSessionStatus").FAILED,"upload.client.failed_flow"],[c("MediaUploadSessionStatus").CANCELED,"upload.client.canceled_flow"],[c("MediaUploadSessionStatus").COMPLETED,"upload.client.finished_flow"]]),k=new Map([[c("MediaUploadAssetEvent").ASSET_ADDED,"upload.client.requested_uploading"],[c("MediaUploadAssetEvent").ASSET_STARTED,"upload.client.started_uploading"],[c("MediaUploadAssetEvent").ASSET_FAILED,"upload.client.failed_uploading"],[c("MediaUploadAssetEvent").ASSET_REMOVED,"upload.client.canceled_uploading"],[c("MediaUploadAssetEvent").ASSET_SUCCEED,"upload.client.finished_uploading"],[c("MediaUploadAssetEvent").ASSET_STALL,"upload.client.stall_detected"]]),l=new Map([[c("MediaUploadStageEvent").STAGE_STARTED,new Map([[c("MediaUploadFBStage").START_REQUEST,"upload.client.started_sending_start_request"],[c("MediaUploadFBStage").BYTES_UPLOAD,"upload.client.started_sending_bytes"],[c("MediaUploadFBStage").RECEIVE_REQUEST,"upload.client.started_sending_receive_request"]])],[c("MediaUploadStageEvent").STAGE_SUCCEED,new Map([[c("MediaUploadFBStage").START_REQUEST,"upload.client.finished_sending_start_request"],[c("MediaUploadFBStage").BYTES_UPLOAD,"upload.client.finished_sending_bytes"],[c("MediaUploadFBStage").RECEIVE_REQUEST,"upload.client.finished_sending_receive_request"]])],[c("MediaUploadStageEvent").STAGE_FAILED,new Map([[c("MediaUploadFBStage").START_REQUEST,"upload.client.failed_sending_start_request"],[c("MediaUploadFBStage").RECEIVE_REQUEST,"upload.client.failed_sending_receive_request"],[c("MediaUploadFBStage").BYTES_UPLOAD,"upload.client.failed_sending_bytes"],[c("MediaUploadFBStage").METADATA_VALIDATION,"upload.client.invalidated_uploading"]])],[c("MediaUploadStageEvent").STAGE_CANCELED,new Map([[c("MediaUploadFBStage").START_REQUEST,"upload.client.canceled_sending_start_request"],[c("MediaUploadFBStage").BYTES_UPLOAD,"upload.client.canceled_sending_bytes"],[c("MediaUploadFBStage").RECEIVE_REQUEST,"upload.client.canceled_sending_receive_request"]])]]);a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.subscribe=function(a,b){var d=this;h.forEach(function(c,e){a.addClientEventListener(e,function(a){return d.$3(b,c,a)})});i.forEach(function(c,e){a.addSessionEventListener(e,function(a){return d.$4(b,c,a)})});j.forEach(function(e,f){a.addSessionEventListener(c("MediaUploadSessionEvent").SESSION_FINISHED,function(a){a.terminalStatus===f&&a.timing.confirmedAtMs!=null&&d.$4(b,e,a)})});k.forEach(function(c,e){a.addAssetEventListener(e,function(a,e){return d.$5(b,c,a,e)})});l.forEach(function(c,e){c.forEach(function(c,f){a.addStageEventListener(e,f,function(a,e){d.$5(b,c,a,e)})})})};b.$6=function(a){return a==null?null:d("MediaUploadTime").timeToMilliseconds(this.$1.currentTimeProvider())-a};b.$7=function(a,b){return{event:a,application_state:"www_v2",is_chunked_upload:!0,file_can_read:this.$1.features.supportFileManipulation,network_status:(a=this.$2)==null?void 0:(a=a.injectNetworkStatus)==null?void 0:a.getNetworkStatus(),internet_status:(a=this.$2)==null?void 0:(a=a.injectNetworkStatus)==null?void 0:a.getInternetStatus(),trigger_time:this.$1.currentTimeProvider(),app_id:c("CurrentUser").getAppID(),source:b.sourceType,composer_entry_point_ref:b.entryPointRef}};b.$8=function(a){var b=(a==null?void 0:a.rawErrorCode)!=null&&typeof (a==null?void 0:a.rawErrorCode)==="string"?a==null?void 0:a.rawErrorCode:void 0,d=(a==null?void 0:a.rawErrorCode)!=null&&typeof (a==null?void 0:a.rawErrorCode)==="number"?a==null?void 0:a.rawErrorCode:void 0;return{error:(b=b)!=null?b:a==null?void 0:(b=a.displayError)==null?void 0:b.summary,error_inner:(a==null?void 0:a.outcome)===c("MediaUploadFBStageOutcome").SUCCESS?void 0:a==null?void 0:a.outcome,error_description:(b=a==null?void 0:(b=a.errorObject)==null?void 0:b.message)!=null?b:a==null?void 0:(b=a.displayError)==null?void 0:b.description,error_trace:a==null?void 0:(b=a.errorObject)==null?void 0:b.stack,error_code:d}};b.$9=function(a){return{event_reason:a.cancelReason,elapsed_time:this.$6(a.timing.confirmedAtMs),waterfall_id:a.sessionID,retry_id:a.retryID}};b.$10=function(a){var b;return{elapsed_time:this.$6(a.lastUploadStartedAtMs),asset_id:a.assetID,video_id:a.videoID,composer_session_id:a.request.attributes.composerSessionID,target_id:a.request.attributes.targetID,composer_dialog_version:a.request.attributes.composerDialogVersion,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,source_width:(b=a.metadata)==null?void 0:b.width,source_height:(b=a.metadata)==null?void 0:b.height,duration:(b=a.metadata)==null?void 0:b.durationMs,file_size:(b=a.asset.dataAsFile())==null?void 0:b.size,video_original_file_path:a.asset.data.name,hash:(b=a.hash)==null?void 0:b.hashValue,hash_time:(b=a.hash)==null?void 0:b.calculationTimeCostMs,retries:a.retries.totalRetryAttempts,upload_domain:a.uploadServiceDomain,upload_speed:(b=a.uploadSummary)==null?void 0:b.speedBps,skip_upload:(b=a.uploadSummary)==null?void 0:b.skippedUpload}};b.$11=function(a){var b;return((b=this.$2)==null?void 0:b.injectExtraSessionFields)!=null?(b=this.$2)==null?void 0:b.injectExtraSessionFields(a):null};b.$12=function(a,b){var c;return((c=this.$2)==null?void 0:c.injectExtraAssetFields)!=null?(c=this.$2)==null?void 0:c.injectExtraAssetFields(a,b):null};b.$13=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.map(function(a){return(a=a)!=null?a:{}});return Object.assign.apply(Object,[{}].concat(d))};b.$3=function(a,b,c){var d=c.assetSnapshot,e=c.sessionSnapshot;b=this.$13(e==null?null:this.$11(e),e==null||d==null?null:this.$12(e,d),this.$7(b,a),e==null?null:this.$9(e),e==null||d==null?null:this.$10(d),this.$8(c),{elapsed_time:this.$6(c.startedAtMs)});this.$14(b)};b.$4=function(a,b,c){b=this.$13(this.$11(c),this.$7(b,a),this.$9(c),this.$8(c.lastError));this.$14(b)};b.$5=function(a,b,c,d){b=this.$13(this.$11(c),this.$12(c,d),this.$7(b,a),this.$9(c),this.$10(d),this.$8(d.lastAction));this.$14(b)};b.$14=function(a){c("logVideoUploadViaFalco")(a)};return a}();g["default"]=a}),98);
__d("mediaUploadLogStackTrace",["ErrorNormalizeUtils","err","gkx","logVideoUploadViaFalco"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("gkx")("1816889")){var b=c("ErrorNormalizeUtils").normalizeError(c("err")("no-op"));b=b.stack;b={event:"upload.client.media_debug_info",waterfall_id:a.waterfallID,source:a.sourceType,composer_entry_point_ref:a.composerEntryPointRef,error_trace:b,application_state:a.applicationState};c("logVideoUploadViaFalco")(b)}}g["default"]=a}),98);
__d("MediaUploadFBFileHasher",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=c("MediaUploadFBStage").HASHING,this.$2=a.pseudoHasher,this.$3=a.fullHasher}var d=a.prototype;d.process=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,this.$1);d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(this.$4(a));case 4:d.next=9;break;case 6:d.prev=6,d.t0=d["catch"](1),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:d.t0});case 9:a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return d.abrupt("return",c("MediaUploadOperationOutcome").SUCCESS);case 11:case"end":return d.stop()}},null,this,[[1,6]])};d.$5=function(a,c,d){return c==null?b("Promise").resolve():c.hash(a.file).then(function(a){a.outcome==="SUCCESS"&&d(a.value);return a})};d.$4=function(a){var d=this,e,f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:e=a.asset.dataAsFile();if(!(e==null)){l.next=4;break}a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA});return l.abrupt("return");case 4:l.next=6;return b("regeneratorRuntime").awrap(this.$5(e,this.$3,function(b){return a.processing.fullHash=b}).then(function(c){return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!((c==null?void 0:c.outcome)==="SUCCESS")){f.next=5;break}a.processing.pseudoHash=a.processing.fullHash;return f.abrupt("return",[c,c]);case 5:f.t0=c;f.next=8;return b("regeneratorRuntime").awrap(d.$5(e,d.$2,function(b){return a.processing.pseudoHash=b}));case 8:f.t1=f.sent;return f.abrupt("return",[f.t0,f.t1]);case 10:case"end":return f.stop()}},null,this)}));case 6:f=l.sent,(g=f,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 8:if(!h){l.next=14;break}if(!(i>=g.length)){l.next=11;break}return l.abrupt("break",29);case 11:j=g[i++];l.next=18;break;case 14:i=g.next();if(!i.done){l.next=17;break}return l.abrupt("break",29);case 17:j=i.value;case 18:k=j;if(!((k==null?void 0:k.outcome)==="FILE_TOO_LARGE")){l.next=24;break}a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").ASSET_IS_NOT_SUPPORTED});return l.abrupt("return");case 24:if(!((k==null?void 0:k.outcome)==="FAILURE")){l.next=27;break}a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").INTERNAL_FAILURE,rawErrorCode:k==null?void 0:k.rawErrorCode,rawErrorObject:k==null?void 0:k.rawErrorObject});return l.abrupt("return");case 27:l.next=8;break;case 29:a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});case 30:case"end":return l.stop()}},null,this)};return a}();g["default"]=a}),98);
__d("MediaUploadCancelablePromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g={cancel:function(){}};a=function(){function a(a){var c=this;this.$1=!1;this.promise=new(b("Promise"))(function(b,d){c.$2=a(b,d),c.$2==null&&(c.$2=g),c.$1&&c.$2.cancel()})}a.resolve=function(b){return new a(function(a){a(b)})};var c=a.prototype;c.then=function(b){var c=this;return new a(function(d,e){var f={cancelable:c};c.promise.then(function(d){f.cancelable=g;if(c.$1)return d;else{d=b(d);if(d instanceof a){f.cancelable=d;return d.promise}else return d}}).then(d)["catch"](function(){f.cancelable=g,e.apply(void 0,arguments)});return{cancel:function(){f.cancelable.cancel()}}})};c.isCanceled=function(){return this.$1};c.cancel=function(){if(!this.$1){var a;this.$1=!0;(a=this.$2)==null?void 0:a.cancel()}};return a}();f["default"]=a}),66);
__d("MediaUploadPipeline",["MediaUploadCancelablePromise","MediaUploadOperationOutcome"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){var d=this;this.$2=[];this.$3=null;this.$2=a;this.$1=b;this.cancelablePromise=new(c("MediaUploadCancelablePromise"))(function(a,b){d.$4(a,b,[].concat(d.$2));return{cancel:function(){var b;(b=d.$3)==null?void 0:b.cancel();d.$3=null;a(c("MediaUploadOperationOutcome").CANCELED)}}})}var b=a.prototype;b.$4=function(a,b,d){var e=this;if(d.length===0)this.$3=null,a(c("MediaUploadOperationOutcome").SUCCESS);else{var f=d.shift();f=f();this.$1.promiseTerminator(f.promise.then(function(f){e.cancelablePromise.isCanceled()?a(c("MediaUploadOperationOutcome").CANCELED):f===c("MediaUploadOperationOutcome").SUCCESS?e.$4(a,b,d):a(f)})["catch"](b));this.$3=f}};return a}();a=function(){function a(a){this.$2=[],this.$1=a}var b=a.prototype;b.addCancelableStep=function(a){this.$2.push(a)};b.addPlainStep=function(a){this.$2.push(function(){return new(c("MediaUploadCancelablePromise"))(function(b){b(a())})})};b.run=function(){var a=new h(this.$2,this.$1);return a.cancelablePromise};return a}();g["default"]=a}),98);
__d("MediaUploadFBLocalAssetStrategy",["MediaUploadPipeline"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.envParams,this.metadataParser=a.metadataParser,this.metadataValidator=a.metadataValidator,this.fileHasher=a.fileHasher}var b=a.prototype;b.run=function(a){var b=this,d=new(c("MediaUploadPipeline"))(this.$1);d.addPlainStep(function(){return b.metadataParser.parse(a)});d.addPlainStep(function(){return b.metadataValidator.validate(a,b.metadataParser.retriveRawMetadata(a))});var e=this.fileHasher;e!=null&&d.addPlainStep(function(){return e.process(a)});return d.run()};return a}();g["default"]=a}),98);
__d("MediaUploadFBMetadataParser",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime","Promise","VideoUploadFile","VideoUploadMetadataParser","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="MediaUploadMetadataParser";a=function(){function a(){this.$1=c("MediaUploadFBStage").METADATA_EXTRACTION}var e=a.prototype;e.parse=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,this.$1);d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(this.$2(a));case 4:d.next=9;break;case 6:d.prev=6,d.t0=d["catch"](1),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:d.t0});case 9:a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return d.abrupt("return",c("MediaUploadOperationOutcome").SUCCESS);case 11:case"end":return d.stop()}},null,this,[[1,6]])};e.retriveRawMetadata=function(a){return a.processing.rawData.getUnsafe(h)};e.$2=function(a){var d=this,e=a.asset;e=e.dataAsFile();if(e==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").ASSET_IS_NOT_FILE});return b("Promise").resolve()}var f=new(c("VideoUploadFile"))(null,e.file,e.size,e.extension);return new(b("Promise"))(function(b){var e=new(c("VideoUploadMetadataParser"))(f,null,!1,function(e){e.success?d.$3(a,e.metadata):e.errorObject!=null?a.recordStageOutcome({stage:d.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorCode:String(e.errorCode),rawErrorObject:e.errorObject}):a.recordStageOutcome({stage:d.$1,outcome:c("MediaUploadFBStageOutcome").INTERNAL_FAILURE,rawErrorCode:String(e.errorCode)}),b()});e.parse()})};e.$3=function(a,b){var c,e,f,g;a.processing.rawData.set(h,b);c=(c=b.format)==null?void 0:c.duration;c=c==null?void 0:d("MediaUploadTime").secondsToTime(c);e=(e=b.streams)==null?void 0:(e=e.primaryVideo)==null?void 0:e.width;f=(f=b.streams)==null?void 0:(f=f.primaryVideo)==null?void 0:f.height;b.videoPlayerData!=null&&((g=b.videoPlayerData)==null?void 0:g.width)>0&&((g=b.videoPlayerData)==null?void 0:g.height)>0&&(e=b.videoPlayerData.width,f=b.videoPlayerData.height);b=(g=b.format)==null?void 0:g.isSpherical;a.metadata={duration:c,width:e,height:f,isSpherical:b}};return a}();g["default"]=a}),98);
__d("MediaUploadFBMetadataValidator",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime","Promise","VideoUploadFile","VideoUploadFileValidator"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=c("MediaUploadFBStage").METADATA_VALIDATION,this.$2=a}var e=a.prototype;e.validate=function(a,d){a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,this.$1);try{d=this.$3(a,d)}catch(b){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:b}),d=c("MediaUploadOperationOutcome").SUCCESS}a.emitStageEventForOperationOutcome(d,this.$1);return b("Promise").resolve(d)};e.$4=function(a){var b={};a.extensions.forEach(function(a){return b[a]=1});return{minSize:a.minSizeKB*1024,maxSize:a.maxSizeKB*1024,maxLength:d("MediaUploadTime").timeToSeconds(a.maxDuration),minLength:d("MediaUploadTime").timeToSeconds(a.minDuration),acceptDimensionsFromPlayer:a.acceptDimensionsFromPlayer,minWidth:a.minWidth,minHeight:a.minHeight,require16to9AspectRatio:!1,minAspectRatio:a.minAspectRatio,maxAspectRatio:a.maxAspectRatio,source:a.sourceType,extensions:b}};e.$3=function(a,b){var d=a.asset.dataAsFile();if(d==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").ASSET_IS_NOT_FILE});return c("MediaUploadOperationOutcome").SUCCESS}if(this.configuration==null)throw this.$2.createThrowableError("Missing configuration in the MediaUploadFBMetadataValidator");d=new(c("VideoUploadFile"))(null,d.file,d.size,d.extension);var e=this.$4(this.configuration);e=new(c("VideoUploadFileValidator"))(e);e=e.getValidationErrorMessage(d,b);if(e!=null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").INTERNAL_FAILURE,displayError:e});return c("MediaUploadOperationOutcome").FAILED_NON_TRANSIENT}else{a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});return c("MediaUploadOperationOutcome").SUCCESS}};return a}();g["default"]=a}),98);
__d("MediaUploadOperationAttemptOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCELED","TRANSIENT_FAILURE","TRANSIENT_FAILURE_IMMEDIATE_RETRY","NON_TRANSIENT_FAILURE"]);c=a;f["default"]=c}),66);
__d("MediaUploadFBEndpointRequest",["AsyncRequest","MediaUploadCancelablePromise","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.send=function(a,b){var d=this;return new(c("MediaUploadCancelablePromise"))(function(e){b.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,a.stage);var f=a.createPayload();if(f==null){b.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,a.stage);e(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);return}var g=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(a.uri).setData(f).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",b.sessionContext.sessionID).setProgressHandler(function(){a.networkNotifier.notifyOnProgress(b,a.stage)}).setHandler(function(c){e(d.$1(a,b,c))}).setErrorHandler(function(c){e(d.$2(a,b,c))});if(g.send()){a.networkNotifier.notifyOnNewRequest(b,a.stage);return{cancel:function(){a.networkNotifier.notifyOnAbandon(b,a.stage),g.abort()}}}else e(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE)})};b.$1=function(a,b,d){var e;a.networkNotifier.notifyOnResponse(b,a.stage);(e=b.retryState)==null?void 0:e.resetBackoff();a.acceptSuccessfulResponse(d);b.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,a.stage);return c("MediaUploadOperationAttemptOutcome").SUCCESS};b.$2=function(a,b,d){var e=d.error<1e3,f=d.error>9999;e||f?a.networkNotifier.notifyOnResponse(b,a.stage):a.networkNotifier.notifyOnTransportError(b,a.stage);a.acceptErrorResponse(d);b.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,a.stage);b=e&&d.error>=400&&d.error<500||f&&!d.transientError;return b?c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE};return a}();g["default"]=a}),98);
__d("MediaUploadNetworkStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:"Unknown",CONNECTED:"Connected",DISCONNECTED:"Disconnected",TIMEOUT:"TimedOut"});c=a;f["default"]=c}),66);
__d("MediaUploadFBInternetProbe",["AsyncRequest","MediaUploadCancelablePromise","MediaUploadNetworkStatus","Promise","regeneratorRuntime","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h="https://rupload.facebook.com/fb_video/ping-";a=function(){function a(a,b){this.$2=a,this.$1=b,this.$3=[""+h+c("uuid")()]}var d=a.prototype;d.$4=function(a){return new(c("MediaUploadCancelablePromise"))(function(b){var d=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a).setReadOnly(!0).setOption("suppressEvaluation",!0).setHandler(function(a){a=a==null?void 0:(a=a.payload)==null?void 0:a.status;b(a===200?c("MediaUploadNetworkStatus").CONNECTED:c("MediaUploadNetworkStatus").DISCONNECTED)}).setTransportErrorHandler(function(){b(c("MediaUploadNetworkStatus").DISCONNECTED)}).setErrorHandler(function(){b(c("MediaUploadNetworkStatus").DISCONNECTED)});d.send()||b(c("MediaUploadNetworkStatus").DISCONNECTED);return{cancel:function(){d.abort()}}})};d.$5=function(){var a=this;return new(b("Promise"))(function(b){a.$1.delayedExecutor(a.$2.timeout,function(){return b(c("MediaUploadNetworkStatus").TIMEOUT)})})};d.probe=function(){var a=this,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=this.$3.map(function(b){return a.$4(b)});d=b("Promise").race([this.$5()].concat(c.map(function(a){return a.promise})));f.next=4;return b("regeneratorRuntime").awrap(d);case 4:e=f.sent;c.forEach(function(a){return a.cancel()});return f.abrupt("return",e);case 7:case"end":return f.stop()}},null,this)};return a}();g["default"]=a}),98);
__d("MediaUploadRetryableOperation",["MediaUploadCancelablePromise","MediaUploadOperationAttemptOutcome","MediaUploadOperationOutcome"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){var e=this;this.$4=null;this.$1=a;this.$2=b;this.$3=d;this.cancelablePromise=new(c("MediaUploadCancelablePromise"))(function(a){e.$5(a);return{cancel:function(){var b;(b=e.$4)==null?void 0:b.cancel();e.$4=null;a(c("MediaUploadOperationOutcome").CANCELED)}}})}a.createAsPromise=function(b,c,d){b=new a(b,c,d);return b.cancelablePromise};var b=a.prototype;b.$5=function(a){var b=this,d=this.$1();this.$4=d;this.$3.promiseTerminator(d.promise.then(function(c){b.$4=null,b.$6(a,c)},function(d){b.$4=null;b.$6(a,c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);throw d}))};b.$6=function(a,b){switch(b){case c("MediaUploadOperationAttemptOutcome").CANCELED:a(c("MediaUploadOperationOutcome").CANCELED);break;case c("MediaUploadOperationAttemptOutcome").SUCCESS:a(c("MediaUploadOperationOutcome").SUCCESS);break;case c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:a(c("MediaUploadOperationOutcome").FAILED_NON_TRANSIENT);break;case c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE:this.$7(a,!1);break;case c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE_IMMEDIATE_RETRY:this.$7(a,!0);break}};b.$7=function(a,b){var d=this;this.$2.increaseRetryAttemptCounter();if(this.$2.exceedTotalDuration())a(c("MediaUploadOperationOutcome").FAILED_OUT_OF_TIME);else if(this.$2.exceedTotalRetries())a(c("MediaUploadOperationOutcome").FAILED_NO_MORE_RETRIES);else if(b)this.$5(a);else{b=this.$2.calculateBackoffDelay();this.$4=this.$3.delayedExecutor(b,function(){return d.$5(a)},function(){return a(c("MediaUploadOperationOutcome").CANCELED)})}};return a}();g["default"]=a}),98);
__d("MediaUploadFBNetworkAssetStrategy",["MediaUploadPipeline","MediaUploadRetryableOperation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d){this.$1=a,this.startRequest=b,this.uploadServiceRequest=c,this.receiveRequest=d}var b=a.prototype;b.run=function(a){var b=this,d=a.asset.dataAsFile();if(d==null)throw this.$1.createThrowableError("Browser is not compatible with current version of the SDK");else{var e=new(c("MediaUploadPipeline"))(this.$1);e.addCancelableStep(function(){return c("MediaUploadRetryableOperation").createAsPromise(function(){return b.startRequest.send(a)},a.retryState,b.$1)});e.addCancelableStep(function(){return c("MediaUploadRetryableOperation").createAsPromise(function(){return b.uploadServiceRequest.send(a,d,b.startRequest.retriveResponse(a))},a.retryState,b.$1)});e.addCancelableStep(function(){return c("MediaUploadRetryableOperation").createAsPromise(function(){return b.receiveRequest.send(a,b.startRequest.retriveResponse(a),b.uploadServiceRequest.retriveResponse(a))},a.retryState,b.$1)});return e.run()}};b.cancel=function(){};return a}();g["default"]=a}),98);
__d("MediaUploadFBNetworkProbe",["MediaUploadNetworkStatus","Network"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.probe=function(){return c("Network").isOnline()?c("MediaUploadNetworkStatus").CONNECTED:c("MediaUploadNetworkStatus").DISCONNECTED};return a}();g["default"]=a}),98);
__d("MediaUploadFBReceiveRequest",["ActorURI","MediaUploadCancelablePromise","MediaUploadFBEndpointRequest","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent"],(function(a,b,c,d,e,f,g){"use strict";var h="MediaUploadFBReceiveRequest";a=function(){function a(a){this.$1=c("MediaUploadFBStage").RECEIVE_REQUEST,this.$2=a.entryPoint,this.$3=a.payloadHook,this.$4=a.customHeadersHook,this.$5=a.envParams,this.$6=new(c("MediaUploadFBEndpointRequest"))(),this.$7=a.networkNotifier}var b=a.prototype;b.send=function(a,b,e){var f=this;if(this.configuration==null)throw this.$5.createThrowableError("Missing configuration in the MediaUploadFBReceiveRequest");if((b==null?void 0:b.skip_upload)===!0){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return c("MediaUploadCancelablePromise").resolve(c("MediaUploadOperationAttemptOutcome").SUCCESS)}return this.$6.send({stage:this.$1,networkNotifier:this.$7,uri:a.request.attributes.actorID==null?this.configuration.baseURI:d("ActorURI").create(this.configuration.baseURI,a.request.attributes.actorID),createPayload:function(){return f.$8(a,b,e)},createCustomHeaders:function(){return f.$9(a)},acceptSuccessfulResponse:function(b){a.processing.rawData.set(h,b.payload),a.recordStageOutcome({stage:f.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS})},acceptErrorResponse:function(b){a.recordStageOutcome({stage:f.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:b.error,displayError:{summary:b.errorSummary,description:b.errorDescription},errorAttributes:{silentError:b.silentError,transientError:b.transientError},networkRequestID:(b=b.payload)==null?void 0:b.__www_request_id__})}},a)};b.$9=function(a){var b=this.$4;if(b)return b({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot()});else return null};b.$8=function(a,b,d){if(b==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_START_CALL_RESPONSE"});return null}if(d==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_UPLOAD_SERVICE_RESPONSE"});return null}var e=a.asset.dataAsFile();e={waterfall_id:a.sessionContext.sessionID,target_id:a.request.attributes.targetID,video_id:b.video_id,source:this.$2.sourceType,composer_entry_point_ref:this.$2.entryPointRef,supports_chunking:!0,supports_upload_service:!0,partition_start_offset:0,partition_end_offset:e==null?void 0:e.size,start_offset:0,end_offset:e==null?void 0:e.size,upload_speed:a.uploadSummary.computeSpeedBps(),fbuploader_video_file_chunk:d.everstoreHandle,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,composer_dialog_version:a.request.attributes.composerDialogVersion,composer_work_shared_draft_mode:a.request.attributes.workSharedDraftMode};d=this.$3;d!=null&&d({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot(),startCallResponse:b,payload:e});return e};return a}();g["default"]=a}),98);
__d("MediaUploadFBStartRequest",["ActorURI","MediaUploadFBEndpointRequest","MediaUploadFBStage","MediaUploadFBStageOutcome"],(function(a,b,c,d,e,f,g){"use strict";var h="MediaUploadFBStartRequest";a=function(){function a(a){this.$1=c("MediaUploadFBStage").START_REQUEST,this.$2=a.entryPoint,this.$3=a.payloadHook,this.$4=a.customHeadersHook,this.$5=a.envParams,this.$6=new(c("MediaUploadFBEndpointRequest"))(),this.$7=a.networkNotifier}var b=a.prototype;b.retriveResponse=function(a){return a.processing.rawData.getUnsafe(h)};b.send=function(a){var b=this;if(this.configuration==null)throw this.$5.createThrowableError("Missing configuration in the MediaUploadFBStartRequest");return this.$6.send({stage:this.$1,networkNotifier:this.$7,uri:a.request.attributes.actorID==null?this.configuration.baseURI:d("ActorURI").create(this.configuration.baseURI,a.request.attributes.actorID),createPayload:function(){return b.$8(a)},createCustomHeaders:function(){return b.$9(a)},acceptSuccessfulResponse:function(d){var e=d.payload;if(e.video_id!=null)a.processing.rawData.set(h,e),a.videoID=e.video_id,a.recordStageOutcome({stage:b.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});else{a.recordStageOutcome({stage:b.$1,outcome:c("MediaUploadFBStageOutcome").INVALID_SERVER_RESPONSE,networkRequestID:(e=d.payload)==null?void 0:e.__www_request_id__})}},acceptErrorResponse:function(d){a.recordStageOutcome({stage:b.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:d.error,displayError:{summary:d.errorSummary,description:d.errorDescription},errorAttributes:{silentError:d.silentError,transientError:d.transientError},networkRequestID:(d=d.payload)==null?void 0:d.__www_request_id__})}},a)};b.$9=function(a){var b=this.$4;if(b!=null)return b({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot()});else return null};b.$8=function(a){var b,c=a.asset.dataAsFile();b={waterfall_id:a.sessionContext.sessionID,target_id:a.request.attributes.targetID,source:this.$2.sourceType,composer_entry_point_ref:this.$2.entryPointRef,supports_chunking:c!=null,supports_file_api:c!=null,file_size:c==null?0:c.size,file_extension:String(a.asset.data.extension),spherical:(b=a.metadata)==null?void 0:b.isSpherical,partition_start_offset:0,partition_end_offset:c==null?void 0:c.size,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,composer_dialog_version:a.request.attributes.composerDialogVersion,video_publisher_action_source:a.request.attributes.publisherActionSource,composer_work_shared_draft_mode:a.request.attributes.workSharedDraftMode};c=this.$3;c!=null&&c({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot(),payload:b});return b};return a}();g["default"]=a}),98);
__d("MediaUploadFBUploadServiceRequest",["AsyncResponse","MediaUploadCancelablePromise","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent","ResumableUploadService","ResumableUploadServiceState.enum","md5"],(function(a,b,c,d,e,f,g){"use strict";var h="MediaUploadFBUploadServiceRequest";a=function(){function a(a){this.$1=c("MediaUploadFBStage").BYTES_UPLOAD,this.$2=a.envParams,this.$3=a.networkNotifier}var b=a.prototype;b.send=function(a,b,d){var e=this;return new(c("MediaUploadCancelablePromise"))(function(f){a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,e.$1);var g=e.configuration;if(g==null)throw e.$2.createThrowableError("Missing configuration in the MediaUploadFBUploadServiceRequest");if(d==null){a.recordStageOutcome({stage:e.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_START_CALL_RESPONSE"});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,e.$1);f(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);return}if(d.skip_upload){a.uploadSummary.updateForUploadSkip(b.size);a.recordStageOutcome({stage:e.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,e.$1);f(c("MediaUploadOperationAttemptOutcome").SUCCESS);return}a.uploadSummary.updateForUploadStart(b.size);a.recalculateProgressAndEmit();g=e.$4(a,b,g,d);var h=c("ResumableUploadService").create(g);a.processing.uploadServiceDomain=h.getServiceName();e.$5(a,h,f);h.resume(b.file);e.$3.notifyOnNewRequest(a,e.$1);return{cancel:function(){h.cancel()}}})};b.retriveResponse=function(a){return a.processing.rawData.getUnsafe(h)};b.$6=function(a,b,d){this.$3.notifyOnResponse(a,this.$1),typeof d==="string"?(a.processing.rawData.set(h,{everstoreHandle:d}),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1),b(c("MediaUploadOperationAttemptOutcome").SUCCESS)):(a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").INVALID_SERVER_RESPONSE,rawErrorCode:"RECEIVED_HANDLE_IS_NOT_STRING"}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,this.$1),b(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE))};b.$7=function(a,b,d){d.error<1e3?this.$3.notifyOnResponse(a,this.$1):this.$3.notifyOnTransportError(a,this.$1);a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:d.error,displayError:{summary:d.errorSummary,description:d.errorDescription},errorAttributes:{silentError:d.silentError,transientError:d.transientError}});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,this.$1);a=d.error>=400&&d.error<500;b(a?c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE)};b.$8=function(a,b,d){d instanceof c("AsyncResponse")?this.$7(a,b,d):(this.$3.notifyOnAbandon(a,this.$1),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorObject:d}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,this.$1),b(c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE))};b.$9=function(a,b){this.$3.notifyOnAbandon(a,this.$1),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").CANCEL}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_CANCELED,this.$1),b(c("MediaUploadOperationAttemptOutcome").CANCELED)};b.$10=function(a,b){this.$3.notifyOnProgress(a,this.$1),(b==null?void 0:b.loaded)!=null&&(a.uploadSummary.updateForProgress(b.loaded),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_PROGRESS,this.$1))};b.$5=function(a,b,d){var e=this;b.addListener(c("ResumableUploadServiceState.enum").SUCCESS,function(b){return e.$6(a,d,b)});b.addListener(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(b){return e.$7(a,d,b)});b.addListener(c("ResumableUploadServiceState.enum").FAIL,function(b){return e.$8(a,d,b)});b.addListener(c("ResumableUploadServiceState.enum").CANCEL,function(){return e.$9(a,d)});b.addListener(c("ResumableUploadServiceState.enum").PROGRESS,function(b){return e.$10(a,b)})};b.$4=function(a,b,d,e){var f;b=b.file;f=[String(b.lastModified),b.name,b.type,String(b.size),(f=(f=a.processing.pseudoHash)==null?void 0:f.hashValue)!=null?f:[a.sessionContext.sessionID,a.assetID].join("-")].join("-");f=[c("md5")(f),String(e.start_offset),String(e.end_offset)].join("-");var g=d.tracing.enabled&&d.tracing.minFileSizeKB<b.size/1024?["video_upload_www",[a.assetID,String(a.retryState.getRetryAttempts())].join("_"),[String(a.sessionContext.sessionID),String(e.video_id)].join("_")].join(":"):null,h=d.defaultService,i=h.serviceName;h=h.serviceDomain;a.retryState.getRetryAttemptsSinceLastReset()<10&&d.targetedService!=null&&(i=d.targetedService.serviceName,h=d.targetedService.serviceDomain);return{consumer:"fb_video",accessToken:"",sessionKey:f,serviceName:i,serviceDomain:h,tracingHeaderValue:g,receiveParameters:{start_offset:String(e.start_offset),end_offset:String(e.end_offset),composer_session_id:a.sessionContext.sessionID,upload_session_id:String(e.upload_session_id),product_media_id:e.video_id,xpv_asset_id:e.xpv_asset_id,is_xpv_single_prod:e.is_xpv_single_prod,fb_region:e.fb_region,total_file_size:String(b.size),target_id:a.request.attributes.targetID,video_waterfall_id:a.sessionContext.sessionID}}};return a}();g["default"]=a}),98);
__d("GraphQLVideoPublisherInputDataHandlerBase",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){this.postData=a,this.extraData=b}var b=a.prototype;b.mapPostDataToGraphQLInputObject=function(){h(0,85)};b.hasAPISupport=function(){return i(this.postData)};b.uploadables=function(){h(0,85)};return a}();function i(a){return!0}g.GraphQLVideoPublisherInputDataHandlerBase=a;g.hasAPISupport=i}),98);
__d("BrandedContentSharedToSponsorStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_SHARED:0,ALL_SHARED:1});f["default"]=a}),66);
__d("ExpirationType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DELETE:1,HIDE:2,ONLY_ME:3,HIDE_LONG_DURATION:4});f["default"]=a}),66);
__d("VideoAssetMatureContentRating",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,SUITABLE_FOR_ALL:1,FOURTEEN_PLUS:2,EIGHTEEN_PLUS:3});f["default"]=a}),66);
__d("VideoCommentatingPermission",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:"unset",ALLOW:"allow",DISALLOW:"disallow"});f["default"]=a}),66);
__d("VideoFundedContentFlagProgram",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,IS_FUNDED_CONTENT:1,NOT_FUNDED_CONTENT:2});f["default"]=a}),66);
__d("GraphQLVideoPublisherVideoUploaderInputDataHandler",["BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","CallToActionTypes","ClientIDs","ExpirationType","GraphQLVideoPublisherInputDataHandlerBase","VideoAssetMatureContentRating","VideoCommentatingPermission","VideoFundedContentFlagProgram","VideoProjection","VideoStereoFormat","enumUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.mapPostDataToGraphQLInputObject=function(){var a=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler1(),b=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler2(),c=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler3(),e=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler4(),f=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler5(),g=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler6(),h=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler7(),i=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler8(),j=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler9(),k=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler10(),l=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler11(),m=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler12(),n=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler13(),o=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler14(),p=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler15(),q=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler16();return{actor_id:this.extraData.target_id,basic_data:a,client_mutation_id:d("ClientIDs").getNewClientID(),thumbnail_data:b,ad_break_data:e,vu_editor_data:i,post_status_data:c,main_composer_tab_data:f,distribution_data:g,stars_data:h,questions_data:j,polls_data:k,tracking_data:l,captions_data:m,spherical_data:n,live_premiere_data:o,video_editor_config_json:this.postData.video_editor_config_json,location_preset_data:p,video_abtesting_data:q}};e.uploadables=function(){return babelHelpers["extends"]({},this.$GraphQLVideoPublisherVideoUploaderInputDataHandler17(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler18(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler19())};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler1=function(){var a;return{source:this.extraData.source,target_id:this.extraData.target_id,video_id:this.extraData.video_id,video_title:this.postData.video_title,waterfall_id:this.extraData.waterfall_id,xhpc_message:this.postData.xhpc_message,creator_product:(a=this.extraData.creator_product)==null?void 0:a.toString(),composer_entry_point_ref:this.extraData.composer_entry_point_ref,composer_dialog_version:this.extraData.composer_dialog_version,has_file_been_replaced:this.extraData.has_file_been_replaced,supports_chunking:this.extraData.supports_chunking}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler2=function(){return{thumbnail_type:this.postData.thumbnail_type}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler18=function(){return this.postData.thumbnail_uploadable};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler19=function(){var a={},b=this.postData.schedule_custom_background_image,c=this.postData.schedule_custom_profile_image,d=this.postData.schedule_feed_background_image;b!=null&&(a.schedule_custom_background_image=b);c!=null&&(a.schedule_custom_profile_image=c);d!=null&&(a.schedule_feed_background_image=d);return a};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler4=function(){var a;a=(a=this.postData.ad_breaks)==null?void 0:a.map(function(a){return{time_offset:parseInt(a.time_offset,10),status:a.status}});return{ad_breaks:a,ad_break_prereview:this.postData.ad_break_prereview,ad_breaks_experiment_revenue_loss_threshold:this.postData.ad_breaks_experiment_revenue_loss_threshold,ad_breaks_creator_chosen_contextual_category:this.postData.ad_breaks_creator_chosen_contextual_category,enable_ad_breaks_experiment:this.postData.enable_ad_breaks_experiment,ad_breaks_block_lists:this.postData.ad_breaks_block_lists,has_ad_breaks_block_lists:this.postData.has_ad_breaks_block_lists,is_in_stream_enabled:this.postData.is_in_stream_enabled,self_cert_answers:this.postData.self_cert_answers,self_cert_educational_form:this.postData.self_cert_educational_form,self_cert_selected_no_sensitive:this.postData.self_cert_selected_no_sensitive,self_cert_predicted_status:this.postData.self_cert_predicted_status,should_auto_adjust_manual_ad_breaks:this.postData.should_auto_adjust_manual_ad_breaks,should_auto_insert_ad_breaks:this.postData.should_auto_insert_ad_breaks,should_use_image_ads:this.postData.should_use_image_ads,monetization_pre_check_options:this.postData.monetization_pre_check_options}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler3=function(){return{dogfooding:this.postData.dogfooding,draft:this.postData.draft,is_reviewable_branded_content:this.postData.is_reviewable_branded_content,scheduled:this.postData.scheduled,future_date:this.postData.future_date,future_time:this.postData.future_time,expiring:this.postData.expiring,expire_type:this.postData.expire_type!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.expire_type,c("ExpirationType")):null,expire_time:this.postData.expire_time,backdated_date:this.postData.backdated_date,hide_from_newsfeed:this.postData.hide_from_newsfeed}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler20=function(){var a=this.postData.branded_content_data;if(a==null)return null;var b=a.tagging_data;b!=null&&(b=babelHelpers["extends"]({},b,{shared_to_sponsor_status:b.shared_to_sponsor_status!=null?d("enumUtils").enumValueToKeyEnforcing(b.shared_to_sponsor_status,c("BrandedContentSharedToSponsorStatus")):null,sponsor_relationship:b.sponsor_relationship!=null?d("enumUtils").enumValueToKeyEnforcing(b.sponsor_relationship,c("BrandedContentSponsorRelationship")):null}));return babelHelpers["extends"]({},a,{tagging_data:b})};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler5=function(){return{action_type_id:this.postData.action_type_id,branded_content_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler20(),composertags_place_name:this.postData.composertags_place_name,composertags_place:this.postData.composertags_place,composertags_product_items:this.postData.composertags_product_items,composertags_sponsor:this.postData.composertags_sponsor,composertags_with:this.postData.composertags_with,content_tags:this.postData.content_tags,cta_type:this.postData.cta_type!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.cta_type,c("CallToActionTypes")):null,deal_id:this.postData.deal_id,direct_share_status:this.postData.direct_share_status!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.direct_share_status,c("BrandedContentSharedToSponsorStatus")):null,episode_data_json:this.postData.episode_data_json,external_movie_data:this.postData.external_movie_data,feed_targeted_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler21(),fan_funding_promotion_metadata:this.postData.fan_funding_promotion_metadata,free_form_tags:this.postData.free_form_tags,funded_content_program:this.postData.funded_content_program?d("enumUtils").enumValueToKeyEnforcing(this.postData.funded_content_program,c("VideoFundedContentFlagProgram")):null,fundraiser_for_story_charity_id:this.postData.fundraiser_for_story_charity_id,fundraiser_for_story_charity_type:this.postData.fundraiser_for_story_charity_type,game_id:this.postData.game_id,icon_id:this.postData.icon_id,is_explicitly_tagged_as_gaming_video:this.postData.is_explicitly_tagged_as_gaming_video,is_rewards_enabled:this.postData.is_rewards_enabled,is_stars_enabled_for_post:this.postData.is_stars_enabled_for_post,multilingual_specified_lang:this.postData.multilingual_specified_lang,multilingual_status_langs:this.postData.multilingual_status_langs,multilingual_statuses:this.postData.multilingual_statuses,object_id:this.postData.object_id,object_str:this.postData.object_str,playlistIDs:this.postData.playlistIDs,share_to_parent_page_option_selected:this.postData.share_to_parent_page_option_selected,sponsor_relationship:this.postData.sponsor_relationship?d("enumUtils").enumValueToKeyEnforcing(this.postData.sponsor_relationship,c("BrandedContentSponsorRelationship")):null,targeted_privacy_data:JSON.stringify(this.postData.targeted_privacy_data)}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler21=function(){var a=babelHelpers["extends"]({},this.postData.feed_targeted_data);this.postData.relevant_until_date!=null&&(a["relevant-until-date"]=this.postData.relevant_until_date);this.postData.relevant_until_time!=null&&(a["relevant-until-time"]=this.postData.relevant_until_time);Object.keys(a).length===0&&(a=void 0);return JSON.stringify(a)};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler6=function(){return{commentating_permission:this.postData.commentating_permission!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.commentating_permission,c("VideoCommentatingPermission")):null,crossposting_config:this.postData.crossposting_config,disturbing:this.postData.disturbing,embeddable:this.postData.embeddable,enable_drm:this.postData.enable_drm,exclude_from_watch:this.postData.exclude_from_watch,mature_content_rating:this.postData.mature_content_rating!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.mature_content_rating,c("VideoAssetMatureContentRating")):null,no_story:this.postData.no_story,secret:this.postData.secret,shows_v2_episode_data:this.postData.shows_v2_episode_data,social_actions:this.postData.social_actions}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler7=function(){return{is_receiving_stars_enabled:this.postData.is_receiving_stars_enabled,stars_goal_id:this.postData.stars_goal_id,stars_cue_trigger_timestamp:this.postData.stars_cue_trigger_timestamp}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler11=function(){return{custom_labels:this.postData.custom_labels,external_video_id:this.postData.external_video_id}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler9=function(){return{questions:this.postData.questions}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler10=function(){return{polls:this.postData.polls}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler22=function(a){return a.getIsDefault()?"captions_default":"captions_file"};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler12=function(){var a,b=this;a=(a=this.postData.captions)==null?void 0:a.map(function(a,c){return b.$GraphQLVideoPublisherVideoUploaderInputDataHandler22(a)+c});return{autopublish_captions:this.postData.autopublish_captions,captions:a,should_review_all_captions:this.postData.should_review_all_captions,spoken_locale:this.postData.spoken_locale,autopublish_subtitles:this.postData.autopublish_subtitles}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler17=function(){var a,b=this,c={};(a=this.postData.captions)==null?void 0:a.forEach(function(a,d){c[b.$GraphQLVideoPublisherVideoUploaderInputDataHandler22(a)+d]=a.getFile()});return c};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler8=function(){return{auto_reframe_aspect_ratios:this.postData.auto_reframe_aspect_ratios,auto_reframe_publish_mode:this.postData.auto_reframe_publish_mode,trailer_review_required:this.postData.trailer_review_required,trailer_generate_on:this.postData.trailer_generate_on,auto_reframe_mobile_only:this.postData.auto_reframe_mobile_only||!1}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler13=function(){return{initialHeading:this.postData.initialHeading,initialPitch:this.postData.initialPitch,fov:this.postData.fov,guide_enabled:this.postData.guide_enabled,guide_keyframes:this.postData.guide_keyframes,enable_omnistab:this.postData.enable_omnistab,spherical:this.postData.spherical,projection:this.postData.projection!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.projection,c("VideoProjection")):null,stereoMode:this.postData.stereoMode!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.stereoMode,c("VideoStereoFormat")):null}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler14=function(){return{premiere_time_ms:this.postData.premiere_time_ms,should_premiere:this.postData.should_premiere,premiere_in_living_room_video_ids:this.postData.premiere_in_living_room_video_ids,premiere_custom_profile_image_focus:this.postData.premiere_custom_profile_image_focus,feed_background_focus:this.postData.feed_background_focus,premiere_audience:this.postData.premiere_audience,premiere_is_loe:this.postData.premiere_is_loe,premiere_event_category_id:this.postData.premiere_event_category_id}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler15=function(){return{location_preset_id:this.postData.location_preset_id}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler16=function(){return{is_abtesting:this.postData.is_abtesting}};return b}(d("GraphQLVideoPublisherInputDataHandlerBase").GraphQLVideoPublisherInputDataHandlerBase);g["default"]=a}),98);
__d("VideoComposerVideoPublishingMutation",["RelayAPIConfig","RelayRuntime","VideoComposerVideoPublishingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=1e3*90,j=h!==void 0?h:h=b("VideoComposerVideoPublishingMutation.graphql");function a(a,b,d,e,f){var g=c("RelayAPIConfig").fetchTimeout;c("RelayAPIConfig").fetchTimeout=i;return c("RelayRuntime").commitMutation(b,{uploadables:d,mutation:j,variables:{input:a},onCompleted:function(a){c("RelayAPIConfig").fetchTimeout=g,e(a)},onError:function(a){c("RelayAPIConfig").fetchTimeout=g,f(a)}})}g.commit=a}),98);
__d("VideoComposerVideoPublisher",["RelayFBEnvironmentFactory","VideoComposerVideoPublishingMutation","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.mapPostDataToGraphQLInputObject(),this.$3=a.hasAPISupport(),this.$2=a.uploadables()}var b=a.prototype;b.publish=function(a,b){if(!this.$3)throw c("err")("This api does not support your publishing use case");d("VideoComposerVideoPublishingMutation").commit(this.$1,c("RelayFBEnvironmentFactory").getForActorID(this.$1.basic_data.target_id),this.$2,a,b)};return a}();g["default"]=a}),98);
__d("VideoUploadGraphQLPostRequestManager",["FBLogger","GraphQLVideoPublisherInputDataHandlerBase","GraphQLVideoPublisherVideoUploaderInputDataHandler","VideoComposerVideoPublisher","clearTimeout","cr:909282","err","mixin","setTimeout"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this)||this;f.$VideoUploadGraphQLPostRequestManager1=0;f.$VideoUploadGraphQLPostRequestManager2=0;f.$VideoUploadGraphQLPostRequestManager3=0;f.$VideoUploadGraphQLPostRequestManager4=0;f.$VideoUploadGraphQLPostRequestManager5=0;f.$VideoUploadGraphQLPostRequestManager6=0;f.$VideoUploadGraphQLPostRequestManager7=null;f.$VideoUploadGraphQLPostRequestManager8=null;f.$VideoUploadGraphQLPostRequestManager9=!1;f.$VideoUploadGraphQLPostRequestManager1=b;f.$VideoUploadGraphQLPostRequestManager2=c;f.$VideoUploadGraphQLPostRequestManager3=0;f.$VideoUploadGraphQLPostRequestManager4=d;f.$VideoUploadGraphQLPostRequestManager5=e;f.$VideoUploadGraphQLPostRequestManager6=0;return f}var e=b.prototype;e.sendRequest=function(a){this.$VideoUploadGraphQLPostRequestManager8=a;if(this.$VideoUploadGraphQLPostRequestManager9){c("FBLogger")("video_publish_graphql").info("Sending publishing request again while processing another request");return}this.$VideoUploadGraphQLPostRequestManager10();this.inform("request-started")};e.clearRequest=function(){this.$VideoUploadGraphQLPostRequestManager9=!1,this.$VideoUploadGraphQLPostRequestManager6=0,this.$VideoUploadGraphQLPostRequestManager3=0};e.$VideoUploadGraphQLPostRequestManager10=function(){var a=this.$VideoUploadGraphQLPostRequestManager8;if(a==null)return;c("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager7);this.$VideoUploadGraphQLPostRequestManager7=null;var b=a.getMetadata();a=this.__createRequestData(a);b=new(c("GraphQLVideoPublisherVideoUploaderInputDataHandler"))(b,a);this.$VideoUploadGraphQLPostRequestManager9=!0;a=new(c("VideoComposerVideoPublisher"))(b);a.publish(this.$VideoUploadGraphQLPostRequestManager11.bind(this),this.$VideoUploadGraphQLPostRequestManager12.bind(this))};e.__createRequestData=function(a){var b=a.getVideoID(),d=a.getTargetID();if(b==null)throw c("err")("Video id cannot be null");if(d==null)throw c("err")("Target id cannot be null");return{video_id:b,target_id:d,source:"COMPOSER",waterfall_id:a.getWaterfallID()||"",creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};e.$VideoUploadGraphQLPostRequestManager11=function(a){this.inform("request-finished",{video_asset_id:(a=a.video_publish)==null?void 0:a.video_asset_id});this.clearRequest()};e.$VideoUploadGraphQLPostRequestManager13=function(a){this.inform("request-failed",{error_code:a.number,error_description:a.message,error_summary:a.name,error_object:a}),this.clearRequest()};e.$VideoUploadGraphQLPostRequestManager12=function(a){this.$VideoUploadGraphQLPostRequestManager14(a)&&this.$VideoUploadGraphQLPostRequestManager6<this.$VideoUploadGraphQLPostRequestManager4?(c("FBLogger")("video_publish_graphql").info("retry publishing for error: %s",a.stack),this.$VideoUploadGraphQLPostRequestManager6++,this.$VideoUploadGraphQLPostRequestManager15(this.$VideoUploadGraphQLPostRequestManager16(this.$VideoUploadGraphQLPostRequestManager5,this.$VideoUploadGraphQLPostRequestManager6))):this.$VideoUploadGraphQLPostRequestManager13(a)};e.$VideoUploadGraphQLPostRequestManager16=function(a,b){return Math.pow(a,b)*1e3};e.$VideoUploadGraphQLPostRequestManager15=function(a){c("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager7),this.$VideoUploadGraphQLPostRequestManager7=c("setTimeout")(this.$VideoUploadGraphQLPostRequestManager10.bind(this),a)};e.$VideoUploadGraphQLPostRequestManager14=function(a){a=a.toString();return a.includes("NetworkTransportError")||a.includes("NetworkTimeoutError")||a.includes("NetworkRequestError")?!0:!1};e.hasAPISupport=function(a){return d("GraphQLVideoPublisherInputDataHandlerBase").hasAPISupport(a)};return b}(c("mixin")(b("cr:909282")));g["default"]=a}),98);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","VideoUploadFeatureDetector","emptyFunction","flattenPHPQueryData","submitForm"],(function(a,b,c,d,e,f){var g="video";a=function(){"use strict";function a(a){this.$1=a;this.$2=null;this.$3=!1;this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$8=a=b("emptyFunction");this.$9=a;this.$10=a;this.$11=a;this.$12=null}var c=a.prototype;c.setAllowCrossOrigin=function(a){this.$3=a;return this};c.setData=function(a){this.$4=a;return this};c.setWaterfallID=function(a){this.$6=a;return this};c.setSuccessHandler=function(a){this.$8=a;return this};c.setErrorHandler=function(a){this.$9=a;return this};c.setTransportErrorHandler=function(a){this.$10=a;return this};c.setUploadProgressHandler=function(a){this.$11=a;return this};c.setTimeoutHandler=function(a,b){this.$7=a;this.$12=b;return this};c.setThumbnail=function(a){this.$13=a;return this};c.setCustomProfileImage=function(a){this.$14=a;return this};c.setCustomBackgroundImage=function(a){this.$15=a;return this};c.setFeedBackgroundImage=function(a){this.$16=a;return this};c.setHandle=function(a){this.$5=a;return this};c.setCaptions=function(a){this.$17=a;return this};c.setPollOptionImages=function(a){this.$18=a;return this};c.send=function(){if(this.$2)throw new Error("An upload request is already in progress.");if(b("VideoUploadFeatureDetector").supportsXHR()){this.$2=this.$19();if(this.$13||this.$17||this.$14||this.$15||this.$16||this.$18){var a=new FormData();this.$13&&a.append("thumb",this.$13);this.$14&&a.append("schedule_custom_profile_image",this.$14);this.$15&&a.append("schedule_custom_background_image",this.$15);this.$16&&a.append("schedule_feed_background_image",this.$16);this.$17&&this.$17.forEach(function(b,c){c=b.getIsDefault()?"captions_default":"captions_file"+c;a.append(c,b.getFile())});if(this.$18){var c=this.$18;Object.keys(c).forEach(function(b){a.append(b,c[b])})}if(this.$4){var d=b("flattenPHPQueryData")(this.$4);Object.keys(d).forEach(function(b){a.append(b,d[b])})}this.$2.setRawData(a)}this.$2.send()}else this.$2=this.$20(),this.$21(this.$2)};c.sendChunk=function(a){if(this.$2)throw new Error("An upload request is already in progress.");var b=new FormData();this.$5?b.append("fbuploader_video_file_chunk",this.$5):b.append("video_file_chunk",a);this.$2=this.$19();this.$2.setRawData(b);this.$2.send()};c.sendFile=function(a){if(this.$2)throw new Error("An upload request is already in progress.");this.$2=this.$20();var c=a.cloneNode(!1);a.name=g;b("DOM").replace(a,c);b("DOM").appendContent(this.$2.getRoot(),a);this.$21(this.$2);a.name=c.name;b("DOM").replace(c,a)};c.abort=function(){if(!this.$2)return;this.$2.abort();this.$2=null};c.$19=function(){var a=this.__getAsyncRequest().setAllowCrossOrigin(this.$3).setURI(this.$1).setData(this.$4).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",this.$6).setHandler(this.$8).setErrorHandler(this.$9).setTransportErrorHandler(this.$10).setUploadProgressHandler(this.$11);this.$12&&a.setTimeoutHandler(this.$7,this.$12);return a};c.__getAsyncRequest=function(){return new(b("AsyncRequest"))()};c.$20=function(){var a=b("DOM").create("form",{action:this.$1,method:"POST"});b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this.$4),a);a=new(b("FileForm"))(a,null,{allowCrossOrigin:this.$3});a.subscribe("success",this.$22.bind(this));a.subscribe("failure",this.$23.bind(this));a.subscribe("progress",this.$24.bind(this));return a};c.$21=function(a){b("DOM").appendContent(document.body,a.getRoot()),b("submitForm")(a.getRoot())};c.$22=function(a,b){this.$8(b.response)};c.$23=function(a,b){this.$9(b.response)};c.$24=function(a,b){this.$11(b.event)};return a}();e.exports=a}),null);
__d("VideoUploadPostRequestManager",["VideoUploadLogger","VideoUploadRequest","clearTimeout","cr:909282","mixin","setTimeout"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f){var g;g=a.call(this)||this;g.$VideoUploadPostRequestManager2=b;g.$VideoUploadPostRequestManager3=c;g.$VideoUploadPostRequestManager4=d;g.$VideoUploadPostRequestManager5=0;g.$VideoUploadPostRequestManager6=e;g.$VideoUploadPostRequestManager7=f;g.$VideoUploadPostRequestManager8=0;return g}var d=b.prototype;d.$VideoUploadPostRequestManager9=function(){return this.$VideoUploadPostRequestManager1?new(c("VideoUploadLogger"))({source:this.$VideoUploadPostRequestManager1.getSource(),waterfall_id:this.$VideoUploadPostRequestManager1.getWaterfallID(),target_id:this.$VideoUploadPostRequestManager1.getTargetID(),composer_entry_point_ref:this.$VideoUploadPostRequestManager1.getComposerEntryPointRef&&this.$VideoUploadPostRequestManager1.getComposerEntryPointRef()}):null};d.getRequest=function(){return this.$VideoUploadPostRequestManager10};d.sendRequest=function(a){this.$VideoUploadPostRequestManager1=a;if(this.$VideoUploadPostRequestManager10){var b=this.$VideoUploadPostRequestManager9();b&&b.logEvent(c("VideoUploadLogger").EVENT_DUPLICATE_POST_REQUEST);return}this.$VideoUploadPostRequestManager11=babelHelpers["extends"]({},a.getMetadata(),this.__createRequestData(a));this.$VideoUploadPostRequestManager12=this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager13=this.$VideoUploadPostRequestManager11.schedule_custom_profile_image;this.$VideoUploadPostRequestManager14=this.$VideoUploadPostRequestManager11.schedule_custom_background_image;this.$VideoUploadPostRequestManager15=this.$VideoUploadPostRequestManager11.schedule_feed_background_image;delete this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager16=this.$VideoUploadPostRequestManager11.captions;delete this.$VideoUploadPostRequestManager11.captions;this.$VideoUploadPostRequestManager17=a.getWaterfallID();this.$VideoUploadPostRequestManager18=this.$VideoUploadPostRequestManager11.pollImages;this.$VideoUploadPostRequestManager19();this.inform("request-started")};d.$VideoUploadPostRequestManager19=function(){c("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=null,this.$VideoUploadPostRequestManager10=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager2).setAllowCrossOrigin(!0).setData(this.$VideoUploadPostRequestManager11).setThumbnail(this.$VideoUploadPostRequestManager12).setCustomProfileImage(this.$VideoUploadPostRequestManager13).setCustomBackgroundImage(this.$VideoUploadPostRequestManager14).setFeedBackgroundImage(this.$VideoUploadPostRequestManager15).setCaptions(this.$VideoUploadPostRequestManager16).setWaterfallID(this.$VideoUploadPostRequestManager17).setPollOptionImages(this.$VideoUploadPostRequestManager18).setSuccessHandler(this.$VideoUploadPostRequestManager21.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager22.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager23.bind(this)),this.$VideoUploadPostRequestManager10.send()};d.__createRequestData=function(a){return{video_id:a.getVideoID(),target_id:a.getTargetID(),source:a.getSource(),waterfall_id:a.getWaterfallID(),creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};d.__getVideoUploadRequest=function(a){return new(c("VideoUploadRequest"))(a)};d.clearRequest=function(){this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager8=0,this.$VideoUploadPostRequestManager5=0};d.isInProgress=function(){return!!this.$VideoUploadPostRequestManager10};d.$VideoUploadPostRequestManager24=function(a){c("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=c("setTimeout")(this.$VideoUploadPostRequestManager19.bind(this),a)};d.$VideoUploadPostRequestManager25=function(a,b){return Math.pow(a,b)*1e3};d.$VideoUploadPostRequestManager21=function(a){a=a.getPayload();this.inform("request-finished",{video_id:a.video_id,video_asset_id:a.video_asset_id,container_type:a.container_type,transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,premiere_destination_video_id:a.premiere_destination_video_id});this.clearRequest()};d.$VideoUploadPostRequestManager26=function(a){this.inform("request-failed",{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,error_is_silent:a.isSilent(),error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__});this.clearRequest()};d.$VideoUploadPostRequestManager22=function(a){this.$VideoUploadPostRequestManager10=null;this.$VideoUploadPostRequestManager5=0;var b=this.$VideoUploadPostRequestManager9();if(b){var d={server_retries:this.$VideoUploadPostRequestManager8,extra_data:{failure_is_transient:a.isTransient()}};b.logEvent(c("VideoUploadLogger").EVENT_HANDLING_SERVER_FAILURE_RESPONSE,d)}a.isTransient()&&this.$VideoUploadPostRequestManager8<this.$VideoUploadPostRequestManager6?(this.$VideoUploadPostRequestManager8++,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager7,this.$VideoUploadPostRequestManager8))):this.$VideoUploadPostRequestManager26(a)};d.$VideoUploadPostRequestManager23=function(a){var b=this.$VideoUploadPostRequestManager9();if(b){var d={extra_data:{transport_retries:this.$VideoUploadPostRequestManager5}};b.logEvent(c("VideoUploadLogger").EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE,d)}this.$VideoUploadPostRequestManager3===0||this.$VideoUploadPostRequestManager5>=this.$VideoUploadPostRequestManager3?this.$VideoUploadPostRequestManager26(a):(this.$VideoUploadPostRequestManager5++,this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager4,this.$VideoUploadPostRequestManager5)))};return b}(c("mixin")(b("cr:909282")));d=a;g["default"]=d}),98);
__d("VideoUploadRequestContext",[],(function(a,b,c,d,e,f){a=function(){function a(){var a=this;this.$14=!1;this.$21=0;this.$22=!1;this.$23=!1;this.$26=!1;this.getComposerEntryPointRef=function(){return a.$11};this.reset()}var b=a.prototype;b.setFile=function(a){this.$1=a;return this};b.getFile=function(){return this.$1};b.setMetadata=function(a){this.$24=a;return this};b.getMetadata=function(){return this.$24};b.setVideoID=function(a){this.$2=a;return this};b.getVideoID=function(){return this.$2};b.setXPVAssetID=function(a){this.$29=a;return this};b.getXPVAssetID=function(){return this.$29};b.setIsXPVSingleProd=function(a){this.$30=a;return this};b.getIsXPVSingleProd=function(){return this.$30};b.setUploadSessionID=function(a){this.$3=a;return this};b.getUploadSessionID=function(){return this.$3};b.setFbRegion=function(a){this.$4=a;return this};b.getFbRegion=function(){return this.$4};b.setStartOffset=function(a){this.$5=a;return this};b.getStartOffset=function(){return this.$5};b.setEndOffset=function(a){this.$6=a;return this};b.getEndOffset=function(){return this.$6};b.setPartitionStartOffset=function(a){this.$17=a;return this};b.getPartitionStartOffset=function(){return this.$17};b.setPartitionEndOffset=function(a){this.$18=a;return this};b.getPartitionEndOffset=function(){return this.$18};b.setPartitionNo=function(a){this.$19=a;return this};b.getPartitionNo=function(){return this.$19};b.setTargetID=function(a){this.$7=a;return this};b.getTargetID=function(){return this.$7};b.setSource=function(a){this.$8=a;return this};b.setComposerDialogVersion=function(a){this.$9=a;return this};b.getComposerDialogVersion=function(){return this.$9};b.getSource=function(){return this.$8};b.setWaterfallID=function(a){this.$10=a;return this};b.getWaterfallID=function(){return this.$10};b.setComposerEntryPointRef=function(a){this.$11=a;return this};b.setComposerWorkSharedDraftMode=function(a){this.$12=a;return this};b.getComposerWorkSharedDraftMode=function(){return this.$12};b.setHasFileBeenReplaced=function(a){this.$14=a;return this};b.getHasFileBeenReplaced=function(){return this.$14};b.setSupportsChunking=function(a){this.$15=a;return this};b.getSupportsChunking=function(){return this.$15};b.setSupportsFileAPI=function(a){this.$16=a;return this};b.getSupportsFileAPI=function(){return this.$16};b.setCreatorProduct=function(a){this.$20=a;return this};b.getCreatorProduct=function(){return this.$20};b.setLastKnownUploadSpeed=function(a){this.$21=a;return this};b.getLastKnownUploadSpeed=function(){return this.$21||0};b.setUseParallelChunks=function(a){this.$22=a;return this};b.getUseParallelChunks=function(){return this.$22};b.setIsSphericalVideo=function(a){this.$23=a;return this};b.getIsSphericalVideo=function(){return this.$23};b.setSphericalMetadata=function(a){this.$25=a;return this};b.getSphericalMetadata=function(){return this.$25};b.setEnableOmnistab=function(a){this.$26=a;return this};b.getEnableOmnistab=function(){return this.$26};b.setClientChunkSize=function(a){this.$27=a;return this};b.getClientChunkSize=function(){return this.$27};b.setVideoPublisherActionSource=function(a){this.$28=a;return this};b.getVideoPublisherActionSource=function(){return this.$28};b.setComposerSessionID=function(a){this.$13=a;return this};b.getComposerSessionID=function(){return this.$13};b.setRetryState=function(a){this.$31=a;return this};b.getRetryState=function(){return this.$31};b.setCreativeTools=function(a){this.$32=a;return this};b.getCreativeTools=function(){return this.$32};b.reset=function(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null,this.$14=!1,this.$15=null,this.$16=null,this.$17=null,this.$18=null,this.$19=null,this.$20=null,this.$21=0,this.$22=!1,this.$23=!1,this.$24={},this.$25={},this.$26=!1,this.$27=null,this.$28={},this.$13=null,this.$31=null,this.$32=null};return a}();f["default"]=a}),66);
__d("MediaUploadSingleAssetPublisher",["Promise","VideoUploadGraphQLPostRequestManager","VideoUploadPostRequestManager","VideoUploadRequestContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.publish=function(b){a.$1==null&&(a.$1=new a());return a.$1.publish(b)};var d=a.prototype;d.publish=function(a){var c=this;return new(b("Promise"))(function(b){var d=c.$2(a.sessionSnapshot,a.assetSnapshot,a.postData),e,f=c.$3(a.postRequestManagerParams);f.hasAPISupport(a.postData)&&(e=f);e==null&&(e=c.$4(a.postRequestManagerParams));c.$5(e,b);e.sendRequest(d)})};d.$4=function(a){return new(c("VideoUploadPostRequestManager"))(a==null?void 0:a.chunk_post_uri,a==null?void 0:a.post_max_transport_retries,a==null?void 0:a.post_transport_retry_interval_base,a==null?void 0:a.post_max_server_retries,a==null?void 0:a.post_server_retry_interval_base)};d.$3=function(a){var b;return new(c("VideoUploadGraphQLPostRequestManager"))((b=a==null?void 0:a.post_max_transport_retries)!=null?b:0,(b=a==null?void 0:a.post_transport_retry_interval_base)!=null?b:0,(b=a==null?void 0:a.post_max_server_retries)!=null?b:0,(b=a==null?void 0:a.post_server_retry_interval_base)!=null?b:0)};d.$5=function(a,b){a.subscribe("request-finished",function(a,c){a={event:a,payload:c};b({isSuccessful:!0,rawResponse:a})}),a.subscribe("request-failed",function(a,c){a={event:a,payload:c};var d=(c==null?void 0:c.error_code)==null||(c==null?void 0:c.error_code)==0?"PublishError":c==null?void 0:c.error_code;b({isSuccessful:!1,errorCode:d,rawErrorObject:c==null?void 0:c.error_object,rawResponse:a})})};d.$2=function(a,b,d){return new(c("VideoUploadRequestContext"))().setVideoID(b.videoID).setTargetID(b.request.attributes.targetID).setSource(a.entryPoint.sourceType).setWaterfallID(a.sessionID).setCreatorProduct(b.request.attributes.creatorProduct).setComposerEntryPointRef(a.entryPoint.entryPointRef).setComposerDialogVersion(b.request.attributes.composerDialogVersion).setHasFileBeenReplaced((a=b.request.attributes.hasFileBeenReplaced)!=null?a:!1).setSupportsChunking(!0).setMetadata(d)};return a}();g["default"]=a}),98);
__d("MediaUploadClientResult",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ACCEPTED","SESSION_NOT_FOUND","ASSET_NOT_FOUND","ASSET_ALREADY_EXISTS","SESSION_ALREADY_CANCELED","SESSION_ALREADY_PUBLISHING","SESSION_ALREADY_PUBLISHED","SESSION_NOT_FAILED","INVALID_TYPE","UNSUPPORTED_BROWSER"]);c=a;f["default"]=c}),66);
__d("MediaUploadClient",["MediaUploadClientResult"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=new Map(),this.$1=a.implementation,this.$2=a.sessionStrategy,this.$3=a.envParams,this.$1.subscribeToHooks(),this.$3.isSupported()||this.$3.reportRecoverableError("This browser does not support this version of the Media Upload SDK")}var b=a.prototype;b.cancelSession=function(a,b){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?c("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.cancel(a,b)};b.cleanSession=function(a){return!this.$3.isSupported()?c("MediaUploadClientResult").UNSUPPORTED_BROWSER:this.$4["delete"](a)?c("MediaUploadClientResult").ACCEPTED:c("MediaUploadClientResult").SESSION_NOT_FOUND};b.retrySession=function(a){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?c("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.retry(a)};b.$5=function(a){var b=this.$4.get(a);b==null&&(b=this.$1.createSessionContext(a),this.$4.set(a,b));return b};b.updateSessionExtras=function(a,b){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$5(a);return this.$2.updateSessionExtras(a,b,!1)};b.confirmSession=function(a,b,d){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$5(a);if(d!=null){d=this.$2.updateSessionExtras(a,d,!0);if(d!==c("MediaUploadClientResult").ACCEPTED)return d}d=this.$2.syncAssetUploads(a,b);return d!==c("MediaUploadClientResult").ACCEPTED?d:this.$2.confirm(a)};b.startUploads=function(a,b){if(!this.$3.isSupported()){var d={};b.forEach(function(a){return d[a.assetID]=c("MediaUploadClientResult").UNSUPPORTED_BROWSER});return d}a=this.$5(a);return this.$2.uploadAssets(a,b)};b.removeUpload=function(a,b){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?c("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.removeAsset(a,b)};return a}();g["default"]=a}),98);
__d("MediaUploadFBClient",["MediaUploadClient"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}return b}(c("MediaUploadClient"));g["default"]=a}),98);
__d("MediaUploadAsset",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.mediaType=a.mediaType,this.data=a.data}var b=a.prototype;b.dataAsFile=function(){var a=this.data;if(a.mode==="File")return a;else return null};b.dataAsHTMLInput=function(){var a=this.data;if(a.mode==="HTMLInput")return a;else return null};return a}();f["default"]=a}),66);
__d("MediaUploadMediaType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["VIDEO"]);c=a;f["default"]=c}),66);
__d("MediaUploadAssetFactory",["MediaUploadAsset","MediaUploadMediaType","MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return null;else{a=/\.([^.]+)$/.exec(a);if(a==null||a.length<2)return null;else return a[1]}}a=function(){function a(a){a=a.features;this.$1=a}var b=a.prototype;b.$2=function(a){return{mode:"File",file:a,lastModified:d("MediaUploadTime").millisecondsToTime(a.lastModified),name:a.name,size:a.size,mimeType:a.type,extension:h(a.name)}};b.$3=function(a){return{mode:"HTMLInput",inputElement:a,name:a.value,extension:h(a.value)}};b.createFromFile=function(a,b){b===void 0&&(b=c("MediaUploadMediaType").VIDEO);return new(c("MediaUploadAsset"))({mediaType:b,data:this.$2(a)})};b.createFromHTMLInput=function(a,b){var d;b===void 0&&(b=c("MediaUploadMediaType").VIDEO);if(this.$1.supportFileFromHTML&&((d=a.files)==null?void 0:d.length)>0){d=a.files[0];d=this.$2(d)}else d=this.$3(a);return new(c("MediaUploadAsset"))({mediaType:b,data:d})};return a}();g["default"]=a}),98);
__d("MediaUploadSDK",["MediaUploadAssetFactory"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.currentTimeProvider=a.currentTimeProvider,this.randomNumberProvider=a.randomNumberProvider,this.randomStringProvider=a.randomStringProvider,this.retryPolicyProvider=a.retryPolicyProvider,this.promiseTerminator=a.promiseTerminator,this.delayedExecutor=a.delayedExecutor,this.reportRecoverableError=a.reportRecoverableError,this.createThrowableError=a.createThrowableError,this.features=a.featureDetector(),this.registerUnloadHook=a.registerUnloadHook,this.factories={assets:new(c("MediaUploadAssetFactory"))(this)}}var b=a.prototype;b.isSupported=function(){return this.features.supportFileManipulation&&this.features.supportFileFromHTML};return a}();g["default"]=a}),98);
__d("mediaUploadFBRetryPolicyProvider",["MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";var h={backoff:{initial:d("MediaUploadTime").millisecondsToTime(400),jitter:d("MediaUploadTime").millisecondsToTime(100),expBase:d("MediaUploadTime").millisecondsToTime(100),expMultiplier:1.5,max:d("MediaUploadTime").secondsToTime(8)},limits:{totalRetryCount:3e3,totalTime:d("MediaUploadTime").hoursToTime(6)}};function a(){return h}g["default"]=a}),98);
__d("MediaUploadFBSDK",["Banzai","FBLogger","MediaUploadSDK","MediaUploadTime","Random","SubscriptionsHandler","WaterfallIDGenerator","clearTimeout","fileSlice","getErrorSafe","mediaUploadFBRetryPolicyProvider","promiseDone","recoverableViolation","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="media_upload";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,{currentTimeProvider:function(){return d("MediaUploadTime").millisecondsToTime(Date.now())},randomNumberProvider:function(a,b){return(b-a)*c("Random").random()+a},randomStringProvider:function(){return d("WaterfallIDGenerator").generate()},retryPolicyProvider:c("mediaUploadFBRetryPolicyProvider"),promiseTerminator:function(a){return c("promiseDone")(a)},delayedExecutor:function(a,b,e){var f=c("setTimeout")(b,d("MediaUploadTime").timeToMilliseconds(a));return{cancel:function(){e!=null&&e(),c("clearTimeout")(f)}}},reportRecoverableError:function(a,b){b!=null?c("FBLogger")(h).catching(c("getErrorSafe")(b)).mustfix(a):c("recoverableViolation")(a,h)},createThrowableError:function(a){throw c("unrecoverableViolation")(a,h)},featureDetector:function(){return{supportFileFromHTML:"FileList"in window,supportFileManipulation:"FileReader"in window&&"DataView"in window&&"FormData"in window&&typeof c("fileSlice")==="function"}},registerUnloadHook:function(a){var b=new(c("SubscriptionsHandler"))();a=c("Banzai").subscribe(c("Banzai").SHUTDOWN,a);a!=null?b.addSubscriptions():c("recoverableViolation")("Banzai did not return handle for unsubscribing from the unload hook; logging quality will be bad",h);return{cancel:function(){try{b.release()}catch(a){c("FBLogger")(h).catching(c("getErrorSafe")(a)).mustfix("Failed to unsubscribe from the unload hook")}}}}})||this}return b}(c("MediaUploadSDK"));b=new a();e=b;g["default"]=e}),98);
__d("MediaUploadSurface",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.sdk=a}var b=a.prototype;b.isClientSupported=function(a){a=this.$1.get(a.key);return a!=null};b.getClient=function(a){var b=this.$1.get(a.key);if(b==null)throw this.sdk.createThrowableError("Client configuration was not provided for the entry point "+a.key);else return b()};return a}();f["default"]=a}),66);
__d("MediaUploadFBSurface",["MediaUploadExtrasStorage","MediaUploadFBAssetRequest","MediaUploadSurface"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c)||this}var d=b.prototype;d.createAssetRequest=function(a,b,d,e){a=a(this.sdk.factories.assets);var f;e!=null&&(f=new(c("MediaUploadExtrasStorage"))(this.sdk),e(f));typeof d==="function"?e=d(a):e=d;return new(c("MediaUploadFBAssetRequest"))({asset:a,assetID:b,attributes:e,extras:f})};return b}(c("MediaUploadSurface"));g["default"]=a}),98);
__d("MediaUploadAssetStrategy",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadOperationOutcome","MediaUploadPipeline","Promise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.implementation,this.$2=a.executor,this.$3=a.params}var d=a.prototype;d.removeAsset=function(a){a.updateStatusAndEmit(c("MediaUploadAssetStatus").REMOVED);(a=a.inFlightUpload)==null?void 0:a.cancel()};d.addAsset=function(a){a.sessionContext.assetsByID.set(a.assetID,a),a.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_ADDED)};d.scheduleUpload=function(a){var b=this;a.updateStatusAndEmit(c("MediaUploadAssetStatus").SCHEDULED);return this.$2.schedule(function(){return b.$4(a)})};d.$4=function(a){var d=this;if(a.isRemoved())return b("Promise").resolve();a.updateStatusAndEmit(c("MediaUploadAssetStatus").PROCESSING);var e=new(c("MediaUploadPipeline"))(this.$3);e.addCancelableStep(function(){return d.$1.runClientLazyLoading(a)});e.addCancelableStep(function(){return d.$1.runLocalAssetStategy(a)});e.addCancelableStep(function(){a.updateStatusAndEmit(c("MediaUploadAssetStatus").UPLOADING);return d.$1.runNetworkAssetStategy(a)});e=e.run();a.inFlightUpload=e;return e.promise.then(function(b){return d.$5(a,b)})["catch"](function(b){d.$3.reportRecoverableError("Unexpected failure during asset pipeline execution",b),a.updateStatusAndEmit(c("MediaUploadAssetStatus").FAILED)})};d.$5=function(a,b){if(a.isRemoved())return;switch(b){case c("MediaUploadOperationOutcome").SUCCESS:a.updateStatusAndEmit(c("MediaUploadAssetStatus").COMPLETED);break;case c("MediaUploadOperationOutcome").CANCELED:a.updateStatusAndEmit(c("MediaUploadAssetStatus").REMOVED);break;default:a.updateStatusAndEmit(c("MediaUploadAssetStatus").FAILED)}};return a}();g["default"]=a}),98);
__d("MediaUploadRetryState",["MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.retryPolicy=a,this.$3=0,this.$4=0,this.$1=b.currentTimeProvider,this.$2=b.randomNumberProvider,this.$5=this.$1()}var b=a.prototype;b.resetBackoff=function(){this.$3=0};b.getRetryAttempts=function(){return this.$4};b.getRetryAttemptsSinceLastReset=function(){return this.$3};b.calculateBackoffDelay=function(){var a=this.retryPolicy.backoff,b=d("MediaUploadTime").timeToMilliseconds(a.initial),c=a.expBase,e=a.expMultiplier;this.$3>0&&c!=null&&e!=null&&(b+=d("MediaUploadTime").timeToMilliseconds(c)*Math.pow(e,this.$3-1));a.max!=null&&(b=Math.min(b,d("MediaUploadTime").timeToMilliseconds(a.max)));c=a.jitter==null?0:d("MediaUploadTime").timeToMilliseconds(a.jitter);c>0&&(b+=this.$2(-.5*c,.5*c));return d("MediaUploadTime").millisecondsToTime(Math.round(b))};b.exceedTotalRetries=function(){var a;return((a=this.retryPolicy.limits)==null?void 0:a.totalRetryCount)!=null&&this.$4>this.retryPolicy.limits.totalRetryCount};b.exceedTotalDuration=function(){var a;return((a=this.retryPolicy.limits)==null?void 0:a.totalTime)!=null&&d("MediaUploadTime").compareTime((a=this.retryPolicy.limits)==null?void 0:a.totalTime,d("MediaUploadTime").subtractTime(this.$1(),this.$5))<=0};b.increaseRetryAttemptCounter=function(){this.$3++,this.$4++};return a}();g["default"]=a}),98);
__d("MediaUploadCancelReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["USER_REQUEST","NAVIGATION_AWAY","UNLOAD_HOOK"]);c=a;f["default"]=c}),66);
__d("MediaUploadSessionStrategy",["MediaUploadCancelReason","MediaUploadClientResult","MediaUploadSessionEvent","MediaUploadSessionStatus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.implementation,this.$2=a.assetStrategy,this.$3=a.params}var b=a.prototype;b.$4=function(a){if(a.isConfirmed()&&a.progress.publishingExtrasProvided){var b=a.getActiveAssets();for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(g.isFailed()){a.updateStatusAndEmit(c("MediaUploadSessionStatus").FAILED);return}}b.every(function(a){return a.isCompleted()})&&this.$5(a)}};b.$5=function(a){a.updateStatusAndEmit(c("MediaUploadSessionStatus").PUBLISHING);var b=[];for(var d=a.assetsByID.values(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g.isCompleted()&&b.push(g)}g=this.$1.publish(a,b).then(function(b){a.progress.publishingResponse=b.rawResponse,b.isSuccessful?(a.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_SUCCEED),a.updateStatusAndEmit(c("MediaUploadSessionStatus").COMPLETED)):(a.updateLastError({rawErrorCode:b.errorCode,rawErrorObject:b.rawErrorObject}),a.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_FAILED),a.updateStatusAndEmit(c("MediaUploadSessionStatus").FAILED),a.updateLastError())})["catch"](function(b){a.updateLastError({rawErrorObject:b}),a.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_FAILED),a.updateStatusAndEmit(c("MediaUploadSessionStatus").FAILED),a.updateLastError()});this.$3.promiseTerminator(g)};b.$6=function(a,b){var c=this;this.$2.scheduleUpload(b)["finally"](function(){return c.$4(a)})};b.$7=function(a){if(a.isPublished())return c("MediaUploadClientResult").SESSION_ALREADY_PUBLISHED;else if(a.isPublishing())return c("MediaUploadClientResult").SESSION_ALREADY_PUBLISHING;else if(a.isCanceled())return c("MediaUploadClientResult").SESSION_ALREADY_CANCELED;else return c("MediaUploadClientResult").ACCEPTED};b.$8=function(a){var b=this;a.releaseOnFinish.push(this.$3.registerUnloadHook(function(){b.cancel(a,c("MediaUploadCancelReason").UNLOAD_HOOK)}));a.updateStatusAndEmit(c("MediaUploadSessionStatus").CONFIRMED)};b.cancel=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;a.progress.cancelReason=b;a.updateStatusAndEmit(c("MediaUploadSessionStatus").CANCELED);for(var d=a.assetsByID.values(),b=Array.isArray(d),a=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(a>=d.length)break;e=d[a++]}else{a=d.next();if(a.done)break;e=a.value}e=e;this.$2.removeAsset(e)}return c("MediaUploadClientResult").ACCEPTED};b.removeAsset=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;d=a.assetsByID.get(b);if(d==null)return c("MediaUploadClientResult").ASSET_NOT_FOUND;this.$2.removeAsset(d);this.$4(a);return c("MediaUploadClientResult").ACCEPTED};b.uploadAsset=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;d=a.assetsByID.get(b.assetID);if(d!=null&&!d.isRemoved())return c("MediaUploadClientResult").ASSET_ALREADY_EXISTS;d=this.$1.createAssetContext(a,b);this.$2.addAsset(d);this.$6(a,d);return c("MediaUploadClientResult").ACCEPTED};b.syncAssetUploads=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;d=new Set(b.map(function(a){return a.assetID}));var e=new Set(a.assetsByID.keys());for(var f in e)if(!d.has(f)){e=a.assetsByID.get(f);e!=null&&this.$2.removeAsset(e)}this.uploadAssets(a,b);return c("MediaUploadClientResult").ACCEPTED};b.uploadAssets=function(a,b){var c=this,d={};b.forEach(function(b){return d[b.assetID]=c.uploadAsset(a,b)});return d};b.updateSessionExtras=function(a,b,d){var e=this.$7(a);if(e!==c("MediaUploadClientResult").ACCEPTED)return e;b(a.extras);d&&(a.progress.publishingExtrasProvided=!0);return c("MediaUploadClientResult").ACCEPTED};b.retry=function(a){var b=this.$7(a);if(b!==c("MediaUploadClientResult").ACCEPTED)return b;else if(!a.isFailed())return c("MediaUploadClientResult").SESSION_NOT_FAILED;a.renewRetryID();this.$8(a);for(var b=a.assetsByID.values(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f.isSchedulable()&&this.$6(a,f)}this.$4(a);return c("MediaUploadClientResult").ACCEPTED};b.confirm=function(a){var b=this.$7(a);if(b!==c("MediaUploadClientResult").ACCEPTED)return b;else if(a.isFailed())return this.retry(a);else if(a.isConfirmed()){this.$4(a);return c("MediaUploadClientResult").ACCEPTED}this.$8(a);this.$4(a);return c("MediaUploadClientResult").ACCEPTED};return a}();g["default"]=a}),98);
__d("MediaUploadClientContext",["MediaUploadAssetStrategy","MediaUploadRetryState","MediaUploadSessionStrategy"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.sdk=a.sdk,this.emitter=a.emitter,this.executor=a.executor,this.progressCalculator=a.progressCalculator,this.assetStrategy=new(c("MediaUploadAssetStrategy"))({implementation:this,executor:this.executor,params:this.sdk}),this.sessionStrategy=new(c("MediaUploadSessionStrategy"))({implementation:this,assetStrategy:this.assetStrategy,params:this.sdk})}var b=a.prototype;b.runLocalAssetStategy=function(a){throw this.sdk.createThrowableError("Not implemented")};b.runNetworkAssetStategy=function(a){throw this.sdk.createThrowableError("Not implemented")};b.runClientLazyLoading=function(a){throw this.sdk.createThrowableError("Not implemented")};b.createSessionContext=function(a){throw this.sdk.createThrowableError("Not implemented")};b.createAssetContext=function(a,b){throw this.sdk.createThrowableError("Not implemented")};b.publish=function(a,b){throw this.sdk.createThrowableError("Not implemented")};b.subscribeToHooks=function(){throw this.sdk.createThrowableError("Not implemented")};b.createRetryState=function(){return new(c("MediaUploadRetryState"))(this.sdk.retryPolicyProvider(),this.sdk)};return a}();g["default"]=a}),98);
__d("MediaUploadExecutor",["Promise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a=1),this.$1=[],this.$3=0,this.$2=a}var c=a.prototype;c.schedule=function(a){var c=this;return new(b("Promise"))(function(b){var d=function(){var c=a();c["finally"](b);return c};c.$1.push(d);c.$4()})};c.$4=function(){var a=this;if(this.$3>=this.$2)return;var b=this.$1.shift();b()["finally"](function(){a.$3--,a.$4()});this.$3++};return a}();f["default"]=a}),66);
__d("MediaUploadFBDefaultServerConfigurationRetriever",["MediaUploadCancelablePromise","MediaUploadClientEvent","MediaUploadFBClientEventContext","MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql","MediaUploadOperationOutcome","MediaUploadTime","RelayFBEnvironment","RelayHooks","URI"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql"),j={metadataValidation:{minSizeKB:1,maxSizeKB:10*1024*1024,minDuration:d("MediaUploadTime").secondsToTime(1),maxDuration:d("MediaUploadTime").hoursToTime(24),minWidth:100,minHeight:100,minAspectRatio:.5,maxAspectRatio:4,extensions:new Set(["3g2","3gp","3gpp","asf","avi","dat","divx","dv","f4v","flv","gif","m2ts","m4v","mkv","mod","mov","mp4","mpe","mpeg","mpeg4","mpg","mts","nsv","ogm","ogv","qt","rmvb","tmp","tod","ts","vob","webm","wmv"]),acceptDimensionsFromPlayer:!1},startRequest:{baseURI:new(c("URI"))("https://vupload-edge.facebook.com/ajax/video/upload/requests/start/")},receiveRequest:{baseURI:new(c("URI"))("https://vupload-edge.facebook.com/ajax/video/upload/requests/receive/")},uploadService:{defaultService:{serviceName:"rupload",serviceDomain:"facebook.com"},targetedService:null,tracing:{enabled:!1,minFileSizeKB:102400}},networkMonitor:{networkProbe:{enabled:!0},internetProbe:{enabled:!1,timeout:d("MediaUploadTime").secondsToTime(2),backoffPolicy:{backoff:{initial:d("MediaUploadTime").secondsToTime(10),jitter:d("MediaUploadTime").secondsToTime(0),expBase:d("MediaUploadTime").secondsToTime(1),expMultiplier:2,max:d("MediaUploadTime").secondsToTime(60)},limits:{}}},stallDetector:{enabled:!1,timeout:d("MediaUploadTime").secondsToTime(30)}}};a=function(){function a(a){this.$5=!0,this.$1=a.entryPoint,this.$3=a.emitter,this.$2=a.setters,this.$4=a.envParams}var b=a.prototype;b.$6=function(){return d("RelayHooks").fetchQuery(c("RelayFBEnvironment"),i,{source_type:this.$1.sourceType})};b.run=function(a){var b=this,d=new(c("MediaUploadFBClientEventContext"))({entryPoint:this.$1,envParams:this.$4,context:a});if(this.$5){this.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_REQUESTED,d);return new(c("MediaUploadCancelablePromise"))(function(a){try{var e=b.$6().subscribe({error:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(e){b.$4.reportRecoverableError("Error getting client configuration",e),b.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_FAILED,d),b.$7(null),a(c("MediaUploadOperationOutcome").SUCCESS)}),next:function(e){b.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_RECEIVED,d),b.$7(e),b.$5=!1,a(c("MediaUploadOperationOutcome").SUCCESS)}});return{cancel:function(){e.unsubscribe()}}}catch(e){b.$4.reportRecoverableError("Error requesting client configuration",e),b.$7(null),b.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_FAILED,d),a(c("MediaUploadOperationOutcome").SUCCESS)}})}else{this.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_CACHED,d);return c("MediaUploadCancelablePromise").resolve(c("MediaUploadOperationOutcome").SUCCESS)}};b.$8=function(a){var b,c;if((a==null?void 0:(b=a["default"])==null?void 0:b.service_name)==null||(a==null?void 0:(b=a["default"])==null?void 0:b.service_domain)==null)this.$4.reportRecoverableError("Invalid configuration for default endpoint of the Upload Service, falling back to default"),b=j.uploadService.defaultService;else{var d;b={serviceName:a==null?void 0:(d=a["default"])==null?void 0:d.service_name,serviceDomain:a==null?void 0:(d=a["default"])==null?void 0:d.service_domain}}if((a==null?void 0:(d=a.targeted)==null?void 0:d.service_name)!=null&&(a==null?void 0:(d=a.targeted)==null?void 0:d.service_domain)!=null){d={serviceName:a==null?void 0:(d=a.targeted)==null?void 0:d.service_name,serviceDomain:a==null?void 0:(d=a.targeted)==null?void 0:d.service_domain}}else(a==null?void 0:a.targeted)==null?d=null:(this.$4.reportRecoverableError("Invalid configuration for target endpoint of the Upload Service, falling back to default"),d=j.uploadService.targetedService);if((a==null?void 0:(c=a.tracing)==null?void 0:c.enabled)!=null&&(a==null?void 0:(c=a.tracing)==null?void 0:c.min_file_size_kb)!=null){a={enabled:a==null?void 0:(c=a.tracing)==null?void 0:c.enabled,minFileSizeKB:a==null?void 0:(c=a.tracing)==null?void 0:c.min_file_size_kb}}else this.$4.reportRecoverableError("Invalid configuration for tracing in the Upload Service, falling back to default"),a=j.uploadService.tracing;this.$2.uploadService({defaultService:b,targetedService:d,tracing:a})};b.$9=function(a){var b;if((a==null?void 0:a.min_size_kb)==null||(a==null?void 0:a.max_size_kb)==null||(a==null?void 0:a.min_width)==null||(a==null?void 0:a.min_height)==null||(a==null?void 0:a.min_duration_secs)==null||(a==null?void 0:a.max_duration_secs)==null||(a==null?void 0:a.min_aspect_ration)==null||(a==null?void 0:a.max_aspect_ration)==null||(a==null?void 0:a.allowed_extensions)==null||(a==null?void 0:a.accept_dimensions_from_player)==null)this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),b=babelHelpers["extends"]({sourceType:this.$1.sourceType},j.metadataValidation);else{var c=a==null?void 0:a.max_duration_secs;b={sourceType:this.$1.sourceType,minSizeKB:a==null?void 0:a.min_size_kb,maxSizeKB:a==null?void 0:a.max_size_kb,minWidth:a==null?void 0:a.min_width,minHeight:a==null?void 0:a.min_height,minAspectRatio:a==null?void 0:a.min_aspect_ration,maxAspectRatio:a==null?void 0:a.max_aspect_ration,extensions:new Set(a==null?void 0:a.allowed_extensions),acceptDimensionsFromPlayer:a==null?void 0:a.accept_dimensions_from_player,minDuration:d("MediaUploadTime").secondsToTime(a==null?void 0:a.min_duration_secs),maxDuration:d("MediaUploadTime").secondsToTime(c)}}this.$2.metadataValidation(b)};b.$10=function(a){return(a==null?void 0:a.backoff_initial_ms)==null?null:{backoff:{initial:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_initial_ms),jitter:(a==null?void 0:a.backoff_jitter_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_jitter_ms),expBase:(a==null?void 0:a.backoff_exp_base_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_exp_base_ms),expMultiplier:a==null?void 0:a.backoff_exp_multiplier,max:(a==null?void 0:a.backoff_max_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_max_ms)},limits:{totalRetryCount:a==null?void 0:a.limits_total_retry_count,totalTime:(a==null?void 0:a.limits_total_time_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.limits_total_time_ms)}}};b.$11=function(a){var b,c=this.$10(a==null?void 0:a.internet_probe_backoff);if((a==null?void 0:a.network_probe_enabled)==null||(a==null?void 0:a.internet_probe_enabled)==null||(a==null?void 0:a.internet_probe_timeout_ms)==null||c==null||(a==null?void 0:a.stall_detection_enabled)==null||(a==null?void 0:a.stall_detection_timeout_ms)==null)this.$4.reportRecoverableError("Invalid network monitor configuration, falling back to default"),b=j.networkMonitor;else{var e=a.network_probe_enabled,f=a.internet_probe_enabled,g=a.internet_probe_timeout_ms,h=a.stall_detection_enabled;a=a.stall_detection_timeout_ms;b={networkProbe:{enabled:e},internetProbe:{enabled:f,timeout:d("MediaUploadTime").millisecondsToTime(g),backoffPolicy:c},stallDetector:{enabled:h,timeout:d("MediaUploadTime").millisecondsToTime(a)}}}this.$2.networkMonitor(b)};b.$12=function(a){var b;(a==null?void 0:a.uri)==null?(this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),b=j.startRequest):b={baseURI:new(c("URI"))(a==null?void 0:a.uri)};this.$2.startRequest(b)};b.$13=function(a){var b;(a==null?void 0:a.uri)==null?(this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),b=j.receiveRequest):b={baseURI:new(c("URI"))(a==null?void 0:a.uri)};this.$2.receiveRequest(b)};b.$7=function(a){var b;this.$12(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_start);this.$13(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_receive);this.$8(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_upload_service);this.$9(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.video_metadata_validation);this.$11(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_monitor)};return a}();g["default"]=a}),98);
__d("MediaUploadLinearProgressCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=this.$4(),this.$3=this.$1.sessionWeights.assets+this.$1.sessionWeights.publishing}var b=a.prototype;b.$4=function(){var a=this.$1.assetWeights.uploadBytes;this.$1.assetWeights.singleOperations.forEach(function(b){return a+=b});return a};b.$5=function(a,b){a=Math.floor(a*100/this.$1.percentagePrecision)*this.$1.percentagePrecision;b=Math.abs(a-b)>=this.$1.percentagePrecision;return{percentageProgress:a,isDifferent:b}};b.calculateAssetProgress=function(a){var b=this.$1.assetWeights,c=0;if(a.isCompleted())c=1;else{for(var d=a.progress.completedStages.values(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=b.singleOperations.get(g);g!=null&&(c+=g)}g=a.uploadSummary.computeUploadedPortion();g!=null&&(c+=b.uploadBytes*g);c/=this.$2}f=this.$5(c,a.progress.calculated.percentageComplete);a.progress.calculated.rawValue=c;a.progress.calculated.percentageComplete=f.percentageProgress;a.progress.calculated.rawValue=c;return f.isDifferent};b.calculateSessionProgress=function(a){var b=this.$1.sessionWeights,c=0;a.progress.publishingDone&&(c+=b.publishing);var d=a.getActiveAssets();if(d.length>0){var e=b.assets/d.length;a.getActiveAssets().forEach(function(a){c+=e*a.progress.calculated.rawValue})}else c+=b.assets;c/=this.$3;d=this.$5(c,a.progress.percentageComplete);a.progress.percentageComplete=d.percentageProgress;return d.isDifferent};return a}();f["default"]=a}),66);
__d("MediaUploadNetworkMonitor",["MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadNetworkStatus","MediaUploadRetryState","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h={probe:function(){return c("MediaUploadNetworkStatus").UNKNOWN}},i={probe:function(){return b("Promise").resolve(c("MediaUploadNetworkStatus").UNKNOWN)}};a=function(){function a(a,b){this.$1=a,this.$3=h,this.$2=i,this.$4=c("MediaUploadNetworkStatus").UNKNOWN,this.$5=new Map(),this.$6=null,this.$8=null,this.$9=b.emitClientEvent}var b=a.prototype;b.updateConfiguration=function(a){var b;this.$3=(b=a.networkProbe)!=null?b:h;this.$2=(b=a.internetProbe)!=null?b:i;this.$7=a.internetProbeBackoffPolicy==null?null:new(c("MediaUploadRetryState"))(a.internetProbeBackoffPolicy,this.$1);this.$8=a.stallDetectorTimeout;this.$10()};b.getNetworkStatus=function(){return this.$3.probe()};b.getInternetStatus=function(){return this.$4};b.$11=function(a,b){return a.sessionContext.sessionID+"/"+a.assetID+"/"+String(b)};b.$12=function(a,b,d){var e;this.$13(c("MediaUploadNetworkStatus").CONNECTED);(e=this.$7)==null?void 0:e.resetBackoff();(e=this.$6)==null?void 0:e.cancel();this.$6=null;e=this.$11(a,b);d&&this.$5.set(e,{assetContext:a});this.$10();this.$14(e)};b.$15=function(a,b){a=this.$11(a,b);b=this.$5.get(a);if(b!=null){var c;(c=b.stallDetector)==null?void 0:c.cancel();b.stallDetector=null}this.$5["delete"](a)};b.$14=function(a){var b=this.$8;if(b==null)return;var d=this.$5.get(a);if(d==null)return;(a=d.stallDetector)==null?void 0:a.cancel();d.stallDetector=this.$1.delayedExecutor(b,function(){d.assetContext.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_STALL),d.stallDetector=null})};b.$10=function(){var a=this,b=this.$7;if(b==null)return;if(this.$5.size===0)return;if(this.$6!=null)return;this.$6=this.$1.delayedExecutor(b.calculateBackoffDelay(),function(){var b=a.$2.probe().then(function(b){return a.$13(b)})["finally"](function(){a.$6=null,a.$10()});a.$1.promiseTerminator(b)});b.increaseRetryAttemptCounter()};b.$13=function(a){if(this.$4===a)return;this.$4=a;switch(this.$4){case c("MediaUploadNetworkStatus").CONNECTED:this.$9(c("MediaUploadClientEvent").CLIENT_INTERNET_ONLINE);break;case c("MediaUploadNetworkStatus").DISCONNECTED:this.$9(c("MediaUploadClientEvent").CLIENT_INTERNET_OFFLINE);break;case c("MediaUploadNetworkStatus").TIMEOUT:this.$9(c("MediaUploadClientEvent").CLIENT_INTERNET_UNKNOWN);break;case c("MediaUploadNetworkStatus").UNKNOWN:}};b.notifyOnNewRequest=function(a,b){this.$12(a,b,!0)};b.notifyOnProgress=function(a,b){this.$12(a,b,!1)};b.notifyOnAbandon=function(a,b){this.$15(a,b)};b.notifyOnTransportError=function(a,b){this.$15(a,b)};b.notifyOnResponse=function(a,b){this.$15(a,b),this.$12(a,b,!1)};return a}();g["default"]=a}),98);
__d("MediaUploadFBDefaultClientContext",["MediaUploadClientContext","MediaUploadClientEvent","MediaUploadEventEmitterAdapter","MediaUploadExecutor","MediaUploadFBAssetContext","MediaUploadFBAssetRequest","MediaUploadFBClient","MediaUploadFBClientEventContext","MediaUploadFBDefaultServerConfigurationRetriever","MediaUploadFBFileHasher","MediaUploadFBInternetProbe","MediaUploadFBLocalAssetStrategy","MediaUploadFBMetadataParser","MediaUploadFBMetadataValidator","MediaUploadFBNetworkAssetStrategy","MediaUploadFBNetworkProbe","MediaUploadFBReceiveRequest","MediaUploadFBSessionContext","MediaUploadFBStage","MediaUploadFBStartRequest","MediaUploadFBUploadServiceRequest","MediaUploadFalcoLogger","MediaUploadLinearProgressCalculator","MediaUploadNetworkMonitor","cr:1856704","mediaUploadLogStackTrace"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,d,e){var f,g=new(c("MediaUploadEventEmitterAdapter"))(b);f=a.call(this,{sdk:b,emitter:g.emitter,executor:new(c("MediaUploadExecutor"))(),progressCalculator:new(c("MediaUploadLinearProgressCalculator"))({assetWeights:{uploadBytes:.9,singleOperations:new Map([[c("MediaUploadFBStage").START_REQUEST,.05],[c("MediaUploadFBStage").RECEIVE_REQUEST,.05]])},sessionWeights:{publishing:.1,assets:.9},percentagePrecision:1})})||this;f.entryPoint=d;f.eventAdapter=g;f.configuration=e;f.networkMonitor=new(c("MediaUploadNetworkMonitor"))(f.sdk,{emitClientEvent:function(a){return g.emitter.emitClientEvent(a,new(c("MediaUploadFBClientEventContext"))({entryPoint:d,envParams:b}))}});f.localAssetStategy=f.$MediaUploadFBDefaultClientContext1();f.networkAssetStategy=f.$MediaUploadFBDefaultClientContext2();f.serverConfigurationRetriever=new(c("MediaUploadFBDefaultServerConfigurationRetriever"))({entryPoint:d,emitter:f.emitter,setters:{metadataValidation:function(a){f.localAssetStategy.metadataValidator.configuration=a},startRequest:function(a){f.networkAssetStategy.startRequest.configuration=a},receiveRequest:function(a){f.networkAssetStategy.receiveRequest.configuration=a},uploadService:function(a){f.networkAssetStategy.uploadServiceRequest.configuration=a},networkMonitor:function(a){f.networkMonitor.updateConfiguration({networkProbe:a.networkProbe.enabled?new(c("MediaUploadFBNetworkProbe"))():null,internetProbe:a.internetProbe.enabled?new(c("MediaUploadFBInternetProbe"))({timeout:a.internetProbe.timeout},f.sdk):null,internetProbeBackoffPolicy:a.internetProbe.backoffPolicy,stallDetectorTimeout:a.stallDetector.enabled?a.stallDetector.timeout:null})}},envParams:f.sdk});f.client=new(c("MediaUploadFBClient"))({implementation:babelHelpers.assertThisInitialized(f),sessionStrategy:f.sessionStrategy,envParams:f.sdk});f.emitter.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CREATED,new(c("MediaUploadFBClientEventContext"))({entryPoint:d,envParams:f.sdk}));return f}var e=d.prototype;e.$MediaUploadFBDefaultClientContext1=function(){return new(c("MediaUploadFBLocalAssetStrategy"))({envParams:this.sdk,metadataParser:new(c("MediaUploadFBMetadataParser"))(),metadataValidator:new(c("MediaUploadFBMetadataValidator"))(this.sdk),fileHasher:new(c("MediaUploadFBFileHasher"))({pseudoHasher:b("cr:1856704")==null?void 0:new(b("cr:1856704"))({maxChunkSize:1024*1024,takeFirstBytes:100*1024,hashingAlgorithm:"sha256",outputEncoding:"base64"},this.sdk)})})};e.$MediaUploadFBDefaultClientContext2=function(){var a,b;a=new(c("MediaUploadFBStartRequest"))({entryPoint:this.entryPoint,payloadHook:(a=this.configuration.networkHooks)==null?void 0:a.startRequestPayload,customHeadersHook:(a=this.configuration.networkHooks)==null?void 0:a.startRequestCustomHeaders,envParams:this.sdk,networkNotifier:this.networkMonitor});var d=new(c("MediaUploadFBUploadServiceRequest"))({envParams:this.sdk,networkNotifier:this.networkMonitor});b=new(c("MediaUploadFBReceiveRequest"))({entryPoint:this.entryPoint,payloadHook:(b=this.configuration.networkHooks)==null?void 0:b.receiveRequestPayload,customHeadersHook:(b=this.configuration.networkHooks)==null?void 0:b.receiveRequestCustomHeaders,envParams:this.sdk,networkNotifier:this.networkMonitor});return new(c("MediaUploadFBNetworkAssetStrategy"))(this.sdk,a,d,b)};e.runClientLazyLoading=function(a){return this.serverConfigurationRetriever.run(c("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};e.runLocalAssetStategy=function(a){return this.localAssetStategy.run(c("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};e.runNetworkAssetStategy=function(a){return this.networkAssetStategy.run(c("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};e.createSessionContext=function(a){c("mediaUploadLogStackTrace")({waterfallID:a,sourceType:this.entryPoint.sourceType,composerEntryPointRef:this.entryPoint.entryPointRef,applicationState:"www_v2"});return new(c("MediaUploadFBSessionContext"))({sessionID:a,entryPoint:this.entryPoint,emitter:this.emitter,progressCalculator:this.progressCalculator,params:this.sdk})};e.createAssetContext=function(a,b){return new(c("MediaUploadFBAssetContext"))({sessionContext:c("MediaUploadFBSessionContext").castOrThrow(a,this.sdk),assetRequest:c("MediaUploadFBAssetRequest").castOrThrow(b,this.sdk),emitter:this.emitter,progressCalculator:this.progressCalculator,retryState:this.createRetryState(),params:this.sdk})};e.publish=function(a,b){var d=this;a=c("MediaUploadFBSessionContext").castOrThrow(a,this.sdk).composeSnapshot();b=b.map(function(a){return c("MediaUploadFBAssetContext").castOrThrow(a,d.sdk).composeSnapshot()});return this.configuration.eventHooks.publishCallback(a,b)};e.subscribeToHooks=function(){var a=this,b=new(c("MediaUploadFalcoLogger"))(this.sdk,{injectNetworkStatus:this.networkMonitor,injectExtraSessionFields:function(){return{composer_dialog_version:a.configuration.composerDialogVersion}}});b.subscribe(this.eventAdapter.subscriber,this.entryPoint);this.configuration.eventHooks.eventSubscriber!=null&&this.configuration.eventHooks.eventSubscriber(this.eventAdapter.subscriber)};return d}(c("MediaUploadClientContext"));g["default"]=a}),98);
__d("MediaUploadSurfaceDefinition",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=new Map(),this.$3=new Map()}var b=a.prototype;b.$4=function(a,b){var c=this;return function(){var d=c.$3.get(a.key);d==null&&(d=c.$1.client(a,b),c.$3.set(a.key,d));return d}};b.registerClientConfiguration=function(a){var b=this;a.entryPoints.forEach(function(c){b.$2.set(c.key,b.$4(c,a))});return this};b.createSurface=function(){return this.$1.surface(this.$2)};return a}();f["default"]=a}),66);
__d("MediaUploadFBDefaultSurfaceDefinition",["MediaUploadFBDefaultClientContext","MediaUploadFBEntryPointID","MediaUploadFBSurface","MediaUploadSurfaceDefinition"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,{client:function(a,d){a=new(c("MediaUploadFBDefaultClientContext"))(b,c("MediaUploadFBEntryPointID").castOrThrow(a,b),d);return a.client},surface:function(a){return new(c("MediaUploadFBSurface"))(b,a)}})||this}return b}(c("MediaUploadSurfaceDefinition"));g["default"]=a}),98);
__d("MediaUploadVUShim",["MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadFBEntryPointID","MediaUploadFBSDK","MediaUploadFBStage","MediaUploadSessionEvent","MediaUploadStageEvent","MediaUploadVUShimSession","MediaUploadVUShimSurface","Promise","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var d=a.prototype;d.createSession=function(a){if(!c("MediaUploadFBSDK").isSupported())return null;var b=a.source,d=a.composer_entry_point_ref;if(b==null||d==null)return null;b=new(c("MediaUploadFBEntryPointID"))(b,d);if(!c("MediaUploadVUShimSurface").isClientSupported(b))return null;if(!c("gkx")("74"))return null;d=c("MediaUploadVUShimSurface").getClient(b);b=new(c("MediaUploadVUShimSession"))(a,d);this.$1.set(b.sessionID,b);return b};d.triggerPublish=function(a,c){var d=this.$1.get(a.sessionID);return d==null?b("Promise").resolve({isSuccessful:!1,errorCode:"MISSING_SESSION"}):d.triggerPublish(a,c)};d.setupEventSubscription=function(a){var b=this,d=function(){if(f){if(g>=e.length)return"break";h=e[g++]}else{g=e.next();if(g.done)return"break";h=g.value}var c=h;a.addClientEventListener(c,function(a){return b.emitClientEvents(c)})};for(var e=c("MediaUploadClientEvent").members(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i=d();if(i==="break")break}d=function(){if(k){if(l>=j.length)return"break";i=j[l++]}else{l=j.next();if(l.done)return"break";i=l.value}var c=i;a.addSessionEventListener(c,function(a){var d;return(d=b.$1.get(a.sessionID))==null?void 0:d.sessionUpdated(c,a)})};for(var j=c("MediaUploadSessionEvent").members(),k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m=d();if(m==="break")break}d=function(){if(o){if(p>=n.length)return"break";m=n[p++]}else{p=n.next();if(p.done)return"break";m=p.value}var c=m;a.addAssetEventListener(c,function(a,d){var e;(e=b.$1.get(a.sessionID))==null?void 0:e.assetUpdated(c,a,d)})};for(var n=c("MediaUploadAssetEvent").members(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q=d();if(q==="break")break}d=function(){if(s){if(t>=r.length)return"break";q=r[t++]}else{t=r.next();if(t.done)return"break";q=t.value}var d=q,e=function(){if(g){if(h>=f.length)return"break";i=f[h++]}else{h=f.next();if(h.done)return"break";i=h.value}var c=i;a.addStageEventListener(d,c,function(a,e){var f;(f=b.$1.get(a.sessionID))==null?void 0:f.stageUpdated(d,c,a,e)})};for(var f=c("MediaUploadFBStage").members(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i,j=e();if(j==="break")break}};for(var r=c("MediaUploadStageEvent").members(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u=d();if(u==="break")break}};d.emitClientEvents=function(a){var b;if(a===c("MediaUploadClientEvent").CLIENT_INTERNET_ONLINE)b="online";else if(a===c("MediaUploadClientEvent").CLIENT_INTERNET_OFFLINE)b="offline";else return;for(var a=this.$1.values(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f.inform(b)}};return a}();d=new a();e=d;g["default"]=e}),98);
__d("MediaUploadVUShimLogger",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.logEvent=function(a,b){};b.postOnShutdown=function(a){return{remove:function(){}}};b.getWaterfallID=function(){return this.$1};return a}();f["default"]=a}),66);
__d("MediaUploadVUShimSession",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadCancelReason","MediaUploadFBSDK","MediaUploadFBStage","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadSingleAssetPublisher","MediaUploadStageEvent","MediaUploadVUShimLogger","MediaUploadVUShimSurface","Promise","WaterfallIDGenerator","cr:909282","mixin"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b,e){var f;f=a.call(this)||this;f.sessionID=d("WaterfallIDGenerator").generate();f.$MediaUploadVUShimSession1=b;f.$MediaUploadVUShimSession3=(b=b.waterfall_id)!=null?b:f.sessionID;f.$MediaUploadVUShimSession6=e;f.$MediaUploadVUShimSession5=new(c("MediaUploadVUShimLogger"))(f.$MediaUploadVUShimSession3);f.$MediaUploadVUShimSession10=!f.$MediaUploadVUShimSession1.background_upload;return f}var f=e.prototype;f.createTestLogger=function(){};f.getLogger=function(){return this.$MediaUploadVUShimSession5};f.start=function(a){var b=this;this.inform("set-waterfall-id",{waterfallID:this.$MediaUploadVUShimSession3});var d=c("MediaUploadVUShimSurface").createAssetRequest(function(b){var d=a.getFile(),e=a.getFileInput();if(d!=null)return b.createFromFile(d);else if(e!=null){d=b.createFromHTMLInput(e);if(d.dataAsFile()==null)throw c("MediaUploadFBSDK").createThrowableError("Cannot get File from the HTML input element");else return d}else throw c("MediaUploadFBSDK").createThrowableError("Invalid video upload file, it contains only null objects")},a.getStableAssetID(),function(a){var c;return{targetID:(c=b.$MediaUploadVUShimSession4)!=null?c:b.$MediaUploadVUShimSession1.target_id,composerSessionID:b.$MediaUploadVUShimSession2,actorID:b.$MediaUploadVUShimSession1.as_actor_id,composerDialogVersion:"V2",publisherActionSource:b.$MediaUploadVUShimSession1.video_publisher_action_source,creatorProduct:((c=a.dataAsFile())==null?void 0:c.extension)==="gif"?4:2}});this.$MediaUploadVUShimSession9=d;this.$MediaUploadVUShimSession6.startUploads(this.sessionID,[d]);this.$MediaUploadVUShimSession10&&this.$MediaUploadVUShimSession6.confirmSession(this.sessionID,[d],function(a){return a.set("dummyPublish",!0)})};f.setTargetID=function(a){this.$MediaUploadVUShimSession4=a};f.setComposerSessionID=function(a){this.$MediaUploadVUShimSession2=a};f.post=function(a){this.$MediaUploadVUShimSession10?c("MediaUploadFBSDK").reportRecoverableError("Video upload client configured for pessimistic upload and explicit publish calls are now allowed"):this.$MediaUploadVUShimSession9!=null&&this.$MediaUploadVUShimSession6.confirmSession(this.sessionID,[this.$MediaUploadVUShimSession9],function(b){return b.set("postData",a)})};f.cancel=function(a){this.$MediaUploadVUShimSession6.cancelSession(this.sessionID,c("MediaUploadCancelReason").USER_REQUEST)};f.abandon=function(a){this.$MediaUploadVUShimSession6.cancelSession(this.sessionID,c("MediaUploadCancelReason").USER_REQUEST)};f.isPostInProgress=function(){var a;return((a=this.$MediaUploadVUShimSession7)==null?void 0:a.status)===c("MediaUploadSessionStatus").PUBLISHING};f.isInProgress=function(){var a;return((a=this.$MediaUploadVUShimSession8)==null?void 0:a.status)===c("MediaUploadAssetStatus").PROCESSING||((a=this.$MediaUploadVUShimSession8)==null?void 0:a.status)===c("MediaUploadAssetStatus").UPLOADING};f.getHasUploadFinished=function(){var a;return((a=this.$MediaUploadVUShimSession8)==null?void 0:a.status)===c("MediaUploadAssetStatus").COMPLETED};f.getVideoID=function(){var a;return(a=this.$MediaUploadVUShimSession8)==null?void 0:a.videoID};f.getUploadTime=function(){var a,b;a=(a=this.$MediaUploadVUShimSession8)==null?void 0:(a=a.uploadSummary)==null?void 0:a.startedAtMs;b=(b=this.$MediaUploadVUShimSession8)==null?void 0:(b=b.uploadSummary)==null?void 0:b.finishedAtMs;return a!=null&&b!=null?b-a:null};f.getExPartitionNumber=function(a){return 0};f.getIsSphericalVideo=function(){var a;return(a=(a=this.$MediaUploadVUShimSession8)==null?void 0:(a=a.metadata)==null?void 0:a.isSpherical)!=null?a:!1};f.startFlow=function(){this.$MediaUploadVUShimSession10?c("MediaUploadFBSDK").reportRecoverableError("Video upload client configured for pessimistic upload and explicit publish calls are now allowed"):this.$MediaUploadVUShimSession9!=null&&this.$MediaUploadVUShimSession6.confirmSession(this.sessionID,[this.$MediaUploadVUShimSession9])};f.sessionUpdated=function(a,b){this.$MediaUploadVUShimSession7=b;var d=b.extras.getUnsafe("postData");if(d==null)return;b=b.publishingResponse;switch(a){case c("MediaUploadSessionEvent").PUBLISH_STARTED:this.inform("post-started",d);break;case c("MediaUploadSessionEvent").PUBLISH_SUCCEED:this.inform("post-finished",Object.assign({},(a=b==null?void 0:b.payload)!=null?a:{},d));break;case c("MediaUploadSessionEvent").PUBLISH_FAILED:this.inform("post-failed",(a=b==null?void 0:b.payload)!=null?a:{});break;default:}};f.assetUpdated=function(a,b,d){var e;this.$MediaUploadVUShimSession7=b;this.$MediaUploadVUShimSession8=d;var f,g;b=(b=(b=d.asset.dataAsFile())==null?void 0:b.size)!=null?b:0;e=(e=(e=d.uploadSummary)==null?void 0:e.skippedUpload)!=null?e:!1;switch(a){case c("MediaUploadAssetEvent").ASSET_ADDED:f="upload-requested";break;case c("MediaUploadAssetEvent").ASSET_STARTED:f="upload-started";break;case c("MediaUploadAssetEvent").ASSET_REMOVED:f="upload-canceled";break;case c("MediaUploadAssetEvent").ASSET_PROGRESS:f="upload-progressed";g={start_offset:0,end_offset:b,file_size:b,sent_bytes:e?b:(a=(a=d.uploadSummary)==null?void 0:a.uploadedBytes)!=null?a:0,video_id:d.videoID,upload_domain:d.uploadServiceDomain,skip_upload:e,transport_retries:d.retries.totalRetryAttempts};break;case c("MediaUploadAssetEvent").ASSET_SUCCEED:f="upload-finished";g={start_offset:0,end_offset:b,video_id:d.videoID,is_spherical_video:(e=d==null?void 0:(a=d.metadata)==null?void 0:a.isSpherical)!=null?e:!1};break;case c("MediaUploadAssetEvent").ASSET_FAILED:f="upload-failed";g={error_code:(b=d.lastAction)==null?void 0:b.rawErrorCode,error_summary:(a=d.lastAction)==null?void 0:(e=a.displayError)==null?void 0:e.summary,error_description:(b=d.lastAction)==null?void 0:(a=b.displayError)==null?void 0:a.description,error_is_transient:(e=d.lastAction)==null?void 0:(b=e.errorAttributes)==null?void 0:b.transientError,upload_domain:d.uploadServiceDomain,www_request_id:(a=d.lastAction)==null?void 0:a.networkRequestID};break;default:}f!=null&&this.inform(f,g)};f.stageUpdated=function(a,b,d,e){this.$MediaUploadVUShimSession7=d;this.$MediaUploadVUShimSession8=e;if(a===c("MediaUploadStageEvent").STAGE_SUCCEED&&b===c("MediaUploadFBStage").METADATA_EXTRACTION){if(e.metadata!=null){d=e.metadata;a=d.durationMs==null?void 0:d.durationMs/1e3;e={format:{duration:a,isSpherical:(b=d.isSpherical)!=null?b:!1},metadata:{},streams:{numAudioTracks:1,primaryVideo:{type:"video",width:d.width,height:d.height,duration:a},primaryAudio:{type:"audio",duration:a}}}}else e=null;this.inform("metadata-parsed",e)}};f.triggerPublish=function(a,d){var e;this.$MediaUploadVUShimSession7=a;this.$MediaUploadVUShimSession8=d[0];e=(e=a.extras.getBoolean("dummyPublish"))!=null?e:!1;var f=a.extras.getUnsafe("postData");if(e)return b("Promise").resolve({isSuccessful:!0});else if(f==null)return b("Promise").resolve({isSuccessful:!1,errorCode:"MISSING_POST_DATA"});else return c("MediaUploadSingleAssetPublisher").publish({sessionSnapshot:a,assetSnapshot:d[0],postData:f,postRequestManagerParams:this.$MediaUploadVUShimSession1})};return e}(c("mixin")(b("cr:909282")));g["default"]=a}),98);
__d("MediaUploadVUShimSurface",["MediaUploadFBDefaultSurfaceDefinition","MediaUploadFBEntryPointID","MediaUploadFBSDK","MediaUploadVUShim"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("MediaUploadFBDefaultSurfaceDefinition"))(c("MediaUploadFBSDK"));a.registerClientConfiguration({entryPoints:[new(c("MediaUploadFBEntryPointID"))("composer","pages_feed"),new(c("MediaUploadFBEntryPointID"))("composer","pages_feed_video_composer"),new(c("MediaUploadFBEntryPointID"))("newsfeed_composer","feed"),new(c("MediaUploadFBEntryPointID"))("composer","timeline")],eventHooks:{publishCallback:function(a,b){return c("MediaUploadVUShim").triggerPublish(a,b)},eventSubscriber:function(a){c("MediaUploadVUShim").setupEventSubscription(a)}}});b=a.createSurface();d=b;g["default"]=d}),98);
__d("ResumableUploadAsyncService",["AsyncRequest","EventEmitter","Promise","ResumableUploadServiceState.enum","URI","gkx","regeneratorRuntime","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h="rupload",i="facebook.com";a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,d,e,f,g,j,k,l,m,n){var o;o=a.call(this)||this;o.consumer=b;o.accessToken=d;o.sessionKey=e||c("uuid")();o.contentKey=f||"";o.contentValue=g||"";o.serviceName=j&&j!=""?j:h;o.serviceDomain=k&&k!=""?k:i;o.receiveParameters=l;o.flowCaptureHeaderValue=m;o.tracingHeaderValue=n;return o}d.create=function(a){return new d(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.flowCaptureHeaderValue,a.tracingHeaderValue)};var e=d.prototype;e.$ResumableUploadService1=function(a){if(c("gkx")("1765373")){var b;if(((b=this.receiveParameters)==null?void 0:b.target_id)!=null){a.setRequestHeader("target_id",String((b=this.receiveParameters)==null?void 0:b.target_id))}if(((b=this.receiveParameters)==null?void 0:b.video_waterfall_id)!=null){a.setRequestHeader("x_fb_video_waterfall_id",String((b=this.receiveParameters)==null?void 0:b.video_waterfall_id))}}};e.resume=function(a){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;f.next=3;return b("regeneratorRuntime").awrap(this.sendOffsetRequest());case 3:d=f.sent;this.emit(c("ResumableUploadServiceState.enum").START,{offset:d.offset});f.next=7;return b("regeneratorRuntime").awrap(this.sendUploadRequest(a,d));case 7:e=f.sent;this.emit(c("ResumableUploadServiceState.enum").SUCCESS,e.h);f.next=14;break;case 11:f.prev=11,f.t0=f["catch"](0),this.emit(c("ResumableUploadServiceState.enum").FAIL,f.t0);case 14:this.abortUpload=void 0;case 15:case"end":return f.stop()}},null,this,[[0,11]])};e.cancel=function(){this.abortUpload&&this.abortUpload(),this.emit(c("ResumableUploadServiceState.enum").CANCEL)};e.decorateRequestFlowCaptureHeader=function(a){this.flowCaptureHeaderValue&&a.setRequestHeader("X-Fb-Flow-Capture",String(this.flowCaptureHeaderValue))};e.sendOffsetRequest=function(){var a=this;return new(b("Promise"))(function(b,d){var e=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a.getUploadUri()).setReadOnly(!0).setRequestHeader("Authorization","OAuth "+a.accessToken).setHandler(function(a){return b(JSON.parse(a.payload.response))}).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(b){a.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,b)});a.$ResumableUploadService1(e);a.decorateRequestFlowCaptureHeader(e);a.abortUpload=function(){return e.abort()};e.send()})};e.sendUploadRequest=function(a,d){var e=this;d=d||{};var f=d.offset;d=d.duplicate;var g=d?"":a.slice(f);return new(b("Promise"))(function(b,d){var h=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(e.getUploadUri()).setRawData(g).setHandler(function(a){return b(JSON.parse(a.payload.response))}).setErrorHandler(d).setRequestHeader("Authorization","OAuth "+e.accessToken).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(f)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(b){b=new ProgressEvent("upload-service",{total:a.size,loaded:b.loaded+Number(f)});e.emit(c("ResumableUploadServiceState.enum").PROGRESS,b)}).setTransportErrorHandler(function(a){e.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a)});e.$ResumableUploadService1(h);e.decorateRequestFlowCaptureHeader(h);e.abortUpload=function(){return h.abort()};d=e.receiveParameters;d&&(h.setRequestHeader("start_offset",String(d.start_offset)).setRequestHeader("end_offset",String(d.end_offset)).setRequestHeader("composer_session_id",String(d.composer_session_id)).setRequestHeader("id",String(d.upload_session_id)),d.fb_region&&h.setRequestHeader("X-FB-Region",String(d.fb_region)));e.tracingHeaderValue&&h.setRequestHeader("x-fb-product-log",e.tracingHeaderValue);h.send()})};e.getUploadUri=function(){var a=this.getServiceName();a=new(c("URI"))("https://"+a+"/"+this.consumer+"/"+this.sessionKey);this.contentKey&&this.contentValue&&(a=a.addQueryData(this.contentKey,this.contentValue));return a};e.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("GraphQLVideoPublishUtils",["immutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("immutable").List(["cs_ab_testing_video_upload","cs_content_library","cs_content_library_bulk_upload","cs_content_library_upload_videos","cs_content_show_episode_upload","cs_global_basic_post","cs_global_bulk_upload","cs_global_multipost","cs_global_upload_video","cs_home_basic_post","cs_home_bulk_video","cs_home_upload_video","cs_home_multipost","cs_instagram_content_library","media_manager","pages_feed_video_composer","pages_composer_bulk_upload_upsell","page_content_tab_drafts","page_content_tab_published_posts_opted_out","page_content_tab_scheduled_posts_opted_out","page_content_tab_video_library","page_content_tab_video_library_premiere","pages_posts","pages_video_tab","timeline","video_page_video_list"]);d=d.contains(b);return(a==="composer"||a==="media_manager_instagram_video_composer")&&d}g.isGraphQLPublish=a}),98);
__d("VideoUploadCallbacksMixin",["orEmptyArray"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return Array.isArray(a)?a:[a]}a={inform:function(a,b){var c=this.__callbacksByType;if(c==null)return;a=h(a);a.forEach(function(a){var d=c[a];if(d==null)return;d.forEach(function(c){try{c(a,b)}catch(a){}})})},subscribe:function(a,b){var d,e=this.__callbacksByType=(d=this.__callbacksByType)!=null?d:{},f=h(a);f.forEach(function(a){a=e[a]=c("orEmptyArray")(e[a]);a.push(b)});var g=!1;return{remove:function(){if(g===!0)return;g=!0;f.forEach(function(a){var c=e[a];if(c==null)return;var d=c.indexOf(b);d!==-1&&c.splice(d,1);c.length===0&&delete e[a]})}}}};f.exports=a}),34);
__d("VideoUploadCrashMonitor",["Bandicoot","VideoUploadLogger"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i){var j;j=a.call(this,"VideoUploadSession")||this;j.$VideoUploadCrashMonitor1={waterfallID:b,actorID:c,source:d,targetID:e,loggingDelay:f,supportsChunking:g,composerEntryPointRef:h,flowStarted:i};return j}var d=c.prototype;d.flowStarted=function(){this.$VideoUploadCrashMonitor1.flowStarted=!0};d.getCrashTimeData=function(){return this.$VideoUploadCrashMonitor1};d.logCrash=function(a,c,d){if(!c.waterfallID)return;a=new(b("VideoUploadLogger"))({actor_id:c.actorID,source:c.source,waterfall_id:c.waterfallID,target_id:c.targetID,delay:c.loggingDelay,is_chunked_upload:c.supportsChunking,composer_entry_point_ref:c.composerEntryPointRef});d={error:"Crash Detected",error_description:"Detected video upload did not complete due to a crash"};a.logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,d);c.flowStarted&&a.logEvent(b("VideoUploadLogger").EVENT_RESIGNED_FLOW,{})};return c}(b("Bandicoot"));e.exports=a}),null);
__d("VideoUploadConnectionMonitor",["Network","VideoUploadFeatureDetector","cr:909282","debounce","mixin","setTimeout"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$VideoUploadConnectionMonitor1=!1;c.$VideoUploadConnectionMonitor2=[];c.$VideoUploadConnectionMonitor3=!1;c.$VideoUploadConnectionMonitor4=!0;c.$VideoUploadConnectionMonitor5=b("debounce")(function(){this.$VideoUploadConnectionMonitor6(!1)}.bind(babelHelpers.assertThisInitialized(c)),2e3);return c}var d=c.prototype;d.notifyStart=function(){if(this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor2.length===0&&(this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("online",function(){this.$VideoUploadConnectionMonitor6(!0)}.bind(this))),this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("offline",function(){this.$VideoUploadConnectionMonitor1?this.$VideoUploadConnectionMonitor5():(this.$VideoUploadConnectionMonitor5.reset(),b("setTimeout")(this.$VideoUploadConnectionMonitor5,2e3))}.bind(this))));this.$VideoUploadConnectionMonitor3=!0};d.notifyProgress=function(a){if(!this.$VideoUploadConnectionMonitor3)return;if(!a)return;b("VideoUploadFeatureDetector").supportsFullProgress()&&(this.$VideoUploadConnectionMonitor1=!0,a.total&&a.loaded===a.total?this.$VideoUploadConnectionMonitor5.reset():this.$VideoUploadConnectionMonitor5())};d.notifySuccess=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.notifyTransportError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor3=!1;this.$VideoUploadConnectionMonitor6(!1)};d.notifyError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.isOnline=function(){return this.$VideoUploadConnectionMonitor4};d.reset=function(){while(this.$VideoUploadConnectionMonitor2.length)this.$VideoUploadConnectionMonitor2.pop().remove();this.$VideoUploadConnectionMonitor5.reset();this.$VideoUploadConnectionMonitor3=!1};d.$VideoUploadConnectionMonitor6=function(a){this.$VideoUploadConnectionMonitor5.reset(),this.$VideoUploadConnectionMonitor4!==a&&(this.$VideoUploadConnectionMonitor4=a,this.$VideoUploadConnectionMonitor4?this.inform("online"):this.inform("offline"))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadReceiveRequestManager",["fbt","ODS","ResumableUploadAsyncService","ResumableUploadService","ResumableUploadServiceState.enum","VideoUploadConnectionMonitor","VideoUploadRequest","clearTimeout","cr:909282","gkx","md5","mixin","setTimeout","uuid"],(function(a,b,c,d,e,f,g,h){var i=1363037,j={INITIAL:"initial",NEXT_CHUNK:"next chunk",INVALID_OFFSET_RETRY:"invalid offset retry",SERVER_FAILURE_RETRY:"server failure retry",TRANSPORT_FAILURE_RETRY:"transport failure retry",TIMEOUT_RETRY:"timeout retry",BACK_ONLINE:"back online"};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var A;m===void 0&&(m="");n===void 0&&(n=!1);o===void 0&&(o=!1);p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);s===void 0&&(s=0);t===void 0&&(t=!1);u===void 0&&(u=!1);v===void 0&&(v=!1);w===void 0&&(w=!1);x===void 0&&(x=!1);y===void 0&&(y=!1);z===void 0&&(z=0);A=a.call(this)||this;A.$VideoUploadReceiveRequestManager1=b;A.$VideoUploadReceiveRequestManager2=d;A.$VideoUploadReceiveRequestManager3=e!=null?e:0;A.$VideoUploadReceiveRequestManager4=f;A.$VideoUploadReceiveRequestManager5=g;A.$VideoUploadReceiveRequestManager6=h;A.$VideoUploadReceiveRequestManager7=i;A.$VideoUploadReceiveRequestManager8=j;A.$VideoUploadReceiveRequestManager9=k;A.$VideoUploadReceiveRequestManager10=l;A.$VideoUploadReceiveRequestManager11=0;A.$VideoUploadReceiveRequestManager14=0;A.$VideoUploadReceiveRequestManager15=0;A.$VideoUploadReceiveRequestManager16=null;A.$VideoUploadReceiveRequestManager17=null;A.$VideoUploadReceiveRequestManager18=0;A.$VideoUploadReceiveRequestManager19="constructed";A.$VideoUploadReceiveRequestManager13=null;A.$VideoUploadReceiveRequestManager20=null;A.$VideoUploadReceiveRequestManager21=null;A.$VideoUploadReceiveRequestManager22=m;A.$VideoUploadReceiveRequestManager24=o;A.$VideoUploadReceiveRequestManager23=n;A.$VideoUploadReceiveRequestManager25=p;A.$VideoUploadReceiveRequestManager26=!1;A.$VideoUploadReceiveRequestManager27=q;A.$VideoUploadReceiveRequestManager30=t;A.$VideoUploadReceiveRequestManager31=u;A.$VideoUploadReceiveRequestManager32=v;A.$VideoUploadReceiveRequestManager29=s;A.$VideoUploadReceiveRequestManager33=w;A.$VideoUploadReceiveRequestManager28=r;A.$VideoUploadReceiveRequestManager34=x;A.$VideoUploadReceiveRequestManager12=c("uuid")();A.$VideoUploadReceiveRequestManager35=y;A.$VideoUploadReceiveRequestManager36=z;A.$VideoUploadReceiveRequestManager41=null;A.$VideoUploadReceiveRequestManager42=null;A.$VideoUploadReceiveRequestManager40=!1;A.$VideoUploadReceiveRequestManager39=null;A.$VideoUploadReceiveRequestManager37=new(c("VideoUploadConnectionMonitor"))();A.$VideoUploadReceiveRequestManager37.subscribe("online",A.$VideoUploadReceiveRequestManager50.bind(babelHelpers.assertThisInitialized(A)));A.$VideoUploadReceiveRequestManager37.subscribe("offline",A.$VideoUploadReceiveRequestManager51.bind(babelHelpers.assertThisInitialized(A)));return A}var e=b.prototype;e.updateVideoID=function(a){if(this.$VideoUploadReceiveRequestManager38.getVideoID())return;this.$VideoUploadReceiveRequestManager38.setVideoID(a);this.$VideoUploadReceiveRequestManager45&&this.$VideoUploadReceiveRequestManager45.setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38));this.$VideoUploadReceiveRequestManager52()};e.isResumabilityEnabled=function(){return this.$VideoUploadReceiveRequestManager23};e.isResumableServiceProxyReceiveEnabled=function(){return this.$VideoUploadReceiveRequestManager30};e.sendRequest=function(a){this.$VideoUploadReceiveRequestManager19="sending request";if(this.$VideoUploadReceiveRequestManager45){this.$VideoUploadReceiveRequestManager19="request already in progress";return}this.$VideoUploadReceiveRequestManager18=a.getEndOffset()-a.getStartOffset();this.$VideoUploadReceiveRequestManager38=a;this.$VideoUploadReceiveRequestManager53(j.INITIAL)};e.cancelRequest=function(){if(!this.$VideoUploadReceiveRequestManager45)return;this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager21!==void 0&&this.$VideoUploadReceiveRequestManager21!==null&&this.$VideoUploadReceiveRequestManager21.cancel();this.$VideoUploadReceiveRequestManager54();this.inform("request-canceled")};e.appendStateLogData=function(a,b){a[b+"request_manager_state"]=this.$VideoUploadReceiveRequestManager19,a[b+"upload_speed"]=this.$VideoUploadReceiveRequestManager17,a[b+"transport_retries"]=this.$VideoUploadReceiveRequestManager11,a[b+"server_retries"]=this.$VideoUploadReceiveRequestManager14,a[b+"timeout_retries"]=this.$VideoUploadReceiveRequestManager15,a[b+"last_timeout_value"]=this.$VideoUploadReceiveRequestManager43,a[b+"last_request_start_time"]=this.$VideoUploadReceiveRequestManager16,a[b+"pending_request"]=this.$VideoUploadReceiveRequestManager45!=null,a[b+"pending_timer"]=this.$VideoUploadReceiveRequestManager46!=null,a[b+"cached_chunk"]=this.$VideoUploadReceiveRequestManager44!=null,a[b+"early_receive_start"]=this.$VideoUploadReceiveRequestManager40,this.$VideoUploadReceiveRequestManager38!=null&&(a[b+"start_offset"]=this.$VideoUploadReceiveRequestManager38.getStartOffset(),a[b+"end_offset"]=this.$VideoUploadReceiveRequestManager38.getEndOffset(),a[b+"partition_start_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionStartOffset(),a[b+"partition_end_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()),this.$VideoUploadReceiveRequestManager37!=null&&(a[b+"connection_monitor_online"]=this.$VideoUploadReceiveRequestManager37.isOnline())};e.getHostName=function(a){try{return new URL(a).hostname}catch(a){return null}};e.$VideoUploadReceiveRequestManager54=function(){this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager44=null,this.$VideoUploadReceiveRequestManager11=0,this.$VideoUploadReceiveRequestManager14=0,this.$VideoUploadReceiveRequestManager12=c("uuid")(),this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager16=null,this.$VideoUploadReceiveRequestManager17=null,this.$VideoUploadReceiveRequestManager18=0,this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null,this.$VideoUploadReceiveRequestManager40=!1,this.$VideoUploadReceiveRequestManager26=!1,this.$VideoUploadReceiveRequestManager39=null,this.$VideoUploadReceiveRequestManager38.reset(),this.$VideoUploadReceiveRequestManager37.reset(),c("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=null};e.$VideoUploadReceiveRequestManager53=function(a,b){c("clearTimeout")(this.$VideoUploadReceiveRequestManager46);this.$VideoUploadReceiveRequestManager46=null;this.$VideoUploadReceiveRequestManager20=a;this.$VideoUploadReceiveRequestManager13=c("uuid")();if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager38.getStartOffset()>=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()){!b?(this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}}),this.$VideoUploadReceiveRequestManager19="request finished - notified"):this.$VideoUploadReceiveRequestManager19="request finished - not notified";return}this.$VideoUploadReceiveRequestManager45=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager1).setAllowCrossOrigin(!0).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38)).setWaterfallID(this.$VideoUploadReceiveRequestManager38.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManager55.bind(this));this.$VideoUploadReceiveRequestManager23||this.$VideoUploadReceiveRequestManager45.setUploadProgressHandler(this.$VideoUploadReceiveRequestManager56.bind(this));this.$VideoUploadReceiveRequestManager16=Date.now();this.$VideoUploadReceiveRequestManager39=this.getHostName(this.$VideoUploadReceiveRequestManager1);a=!1;if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager5){b=this.$VideoUploadReceiveRequestManager57(this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45.setTimeoutHandler(b,this.__handleResponseTimeout.bind(this));this.$VideoUploadReceiveRequestManager19="sending chunk with timeout = "+b;this.$VideoUploadReceiveRequestManager43=b}else this.$VideoUploadReceiveRequestManager19="sending chunk without timeout";b=this.$VideoUploadReceiveRequestManager58();if(b===null||b===void 0){this.$VideoUploadReceiveRequestManager59({error_description:"Provided chunk is null.",error_is_transient:!1});return}else this.$VideoUploadReceiveRequestManager23&&this.$VideoUploadReceiveRequestManager29<this.$VideoUploadReceiveRequestManager38.getFile().getSize()?(a=!0,this.$VideoUploadReceiveRequestManager60(b)):this.$VideoUploadReceiveRequestManager45.sendChunk(b)}else this.$VideoUploadReceiveRequestManager19="sending file",this.$VideoUploadReceiveRequestManager45.sendFile(this.$VideoUploadReceiveRequestManager38.getFile().getFileInput());this.$VideoUploadReceiveRequestManager61(a);this.$VideoUploadReceiveRequestManager37.notifyStart();this.inform("request-started",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}})};e.$VideoUploadReceiveRequestManager61=function(a){(this.$VideoUploadReceiveRequestManager38.getSource()==="create_flow"||this.$VideoUploadReceiveRequestManager38.getSource()==="ads_interfaces")&&d("ODS").bumpEntityKey(2966,"video_ads_upload",a?"upload_service":"graph_api")};e.$VideoUploadReceiveRequestManager62=function(a,b,c){!this.$VideoUploadReceiveRequestManager38.getVideoID()?(this.$VideoUploadReceiveRequestManager41=a,this.$VideoUploadReceiveRequestManager42=b):a(b,c)};e.$VideoUploadReceiveRequestManager52=function(){this.$VideoUploadReceiveRequestManager41&&(this.$VideoUploadReceiveRequestManager41(this.$VideoUploadReceiveRequestManager42),this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null)};e.$VideoUploadReceiveRequestManager60=function(a){var b,d=this.$VideoUploadReceiveRequestManager38.getFile(),e=d.getFile().lastModified+d.getFile().name+d.getFile().type+this.$VideoUploadReceiveRequestManager63();e=String(c("md5")(e))+"-"+this.$VideoUploadReceiveRequestManager38.getStartOffset()+"-"+this.$VideoUploadReceiveRequestManager38.getEndOffset();b=((b=this.$VideoUploadReceiveRequestManager38)==null?void 0:b.getRetryState())==null?this.$VideoUploadReceiveRequestManager14+this.$VideoUploadReceiveRequestManager11+this.$VideoUploadReceiveRequestManager15:this.$VideoUploadReceiveRequestManager38.getRetryState().getTotalRetryCount();d=this.$VideoUploadReceiveRequestManager35&&this.$VideoUploadReceiveRequestManager36<d.getSize()?["video_upload_www",[this.$VideoUploadReceiveRequestManager12,String(b)].join("_"),[String(this.$VideoUploadReceiveRequestManager38.getWaterfallID()),String(this.$VideoUploadReceiveRequestManager38.getVideoID())].join("_")].join(":"):null;this.isResumabilityEnabled()&&this.$VideoUploadReceiveRequestManager25&&this.$VideoUploadReceiveRequestManager11>this.$VideoUploadReceiveRequestManager2/3&&(this.$VideoUploadReceiveRequestManager26=!0);b="fb_video";this.$VideoUploadReceiveRequestManager30&&(b="fb_video2");var f=null;if(this.$VideoUploadReceiveRequestManager30||this.$VideoUploadReceiveRequestManager31){var g={};g.start_offset=this.$VideoUploadReceiveRequestManager38.getStartOffset();g.end_offset=this.$VideoUploadReceiveRequestManager38.getEndOffset();g.composer_session_id=this.$VideoUploadReceiveRequestManager38.getWaterfallID();g.upload_session_id=this.$VideoUploadReceiveRequestManager38.getUploadSessionID();g.product_media_id=this.$VideoUploadReceiveRequestManager38.getVideoID();g.xpv_asset_id=this.$VideoUploadReceiveRequestManager38.getXPVAssetID();g.is_xpv_single_prod=this.$VideoUploadReceiveRequestManager38.getIsXPVSingleProd();g.fb_region=this.$VideoUploadReceiveRequestManager38.getFbRegion();this.$VideoUploadReceiveRequestManager32&&(g.total_file_size=this.$VideoUploadReceiveRequestManager38.getFile().getSize());c("gkx")("1765373")&&(g.video_waterfall_id=this.$VideoUploadReceiveRequestManager38.getWaterfallID(),g.target_id=this.$VideoUploadReceiveRequestManager38.getTargetID());f=g}g={};g.consumer=b;g.sessionKey=e;g.serviceName=this.$VideoUploadReceiveRequestManager26?null:this.$VideoUploadReceiveRequestManager25;g.serviceDomain=this.$VideoUploadReceiveRequestManager27;g.receiveParameters=f;g.flowCaptureHeaderValue=this.$VideoUploadReceiveRequestManager34?this.$VideoUploadReceiveRequestManager38.getWaterfallID():null;g.tracingHeaderValue=d;this.$VideoUploadReceiveRequestManager24?b=c("ResumableUploadAsyncService").create(g):b=c("ResumableUploadService").create(g);this.$VideoUploadReceiveRequestManager21=b;this.$VideoUploadReceiveRequestManager39=b.getServiceName();this.$VideoUploadReceiveRequestManager64();b.resume(a);this.inform("resumable-called",{debug:{single_request_id:this.$VideoUploadReceiveRequestManager13,authority:this.$VideoUploadReceiveRequestManager39}})};e.$VideoUploadReceiveRequestManager64=function(){var a=this;this.$VideoUploadReceiveRequestManager38.getVideoID()||(this.$VideoUploadReceiveRequestManager40=!0);var b=this.$VideoUploadReceiveRequestManager21;if(b===null||b===void 0)return;b.addListener(c("ResumableUploadServiceState.enum").START,function(b){a.inform("resumable-started",{resume_from_offset:b.offset,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}})});this.$VideoUploadReceiveRequestManager47=function(b){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),debug:{error_source:"service",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}}),a.__handleServerFailureResponse(b)};b.addListener(c("ResumableUploadServiceState.enum").FAIL,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager47,b)});this.$VideoUploadReceiveRequestManager48=function(b){!a.$VideoUploadReceiveRequestManager30?(a.$VideoUploadReceiveRequestManager45.setHandle(b),a.$VideoUploadReceiveRequestManager45.sendChunk(null)):a.__handleSuccessResponsePayload({start_offset:a.$VideoUploadReceiveRequestManager38.getEndOffset(),end_offset:a.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()}),a.inform("resumable-success",{everstore_handle:b,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}})};b.addListener(c("ResumableUploadServiceState.enum").SUCCESS,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager48,b)});this.$VideoUploadReceiveRequestManager49=function(b,c){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),resume_from_offset:c.offset,debug:{error_source:"transport",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),method:c.method,authority:a.$VideoUploadReceiveRequestManager39}}),a.$VideoUploadReceiveRequestManager55(b)};b.addListener(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(b,c){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager49,b,c)});b.addListener(c("ResumableUploadServiceState.enum").PROGRESS,function(b){a.$VideoUploadReceiveRequestManager33&&(a.$VideoUploadReceiveRequestManager11=0),a.$VideoUploadReceiveRequestManager56(b)})};e.__getVideoUploadRequest=function(a){return new(c("VideoUploadRequest"))(a)};e.$VideoUploadReceiveRequestManager65=function(a,b){this.$VideoUploadReceiveRequestManager19="setting request to send after"+b,c("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=c("setTimeout")(this.$VideoUploadReceiveRequestManager53.bind(this,a),b)};e.$VideoUploadReceiveRequestManager58=function(){if(this.$VideoUploadReceiveRequestManager44)return this.$VideoUploadReceiveRequestManager44;var a=this.$VideoUploadReceiveRequestManager38.getFile();if(this.$VideoUploadReceiveRequestManager23){var b=a.getFile();this.$VideoUploadReceiveRequestManager44=b?b.slice(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset(),"application/octet-stream"):null}else this.$VideoUploadReceiveRequestManager44=a.getChunk(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset());return this.$VideoUploadReceiveRequestManager44};e.__createRequestData=function(a){return{composer_session_id:a.getComposerSessionID(),video_id:a.getVideoID(),start_offset:a.getStartOffset(),end_offset:a.getEndOffset(),source:a.getSource(),target_id:a.getTargetID(),waterfall_id:a.getWaterfallID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManager17,partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset()}};e.__handleSuccessResponse=function(a){a=a.getPayload();this.__handleSuccessResponsePayload(a)};e.__handleSuccessResponsePayload=function(a){this.$VideoUploadReceiveRequestManager19="success response received";var b=Date.now()-(this.$VideoUploadReceiveRequestManager16||0);b=b===0?1:b;if(a.start_offset===this.$VideoUploadReceiveRequestManager38.getEndOffset()){var d=this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset();this.$VideoUploadReceiveRequestManager17=Math.floor(d/b)}else this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifySuccess();this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager38.setStartOffset(a.start_offset);d=a.end_offset;this.$VideoUploadReceiveRequestManager38.getClientChunkSize()&&(d=a.start_offset+Math.min(this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()-a.start_offset,this.$VideoUploadReceiveRequestManager38.getClientChunkSize()));this.$VideoUploadReceiveRequestManager38.setEndOffset(d);this.$VideoUploadReceiveRequestManager38.setLastKnownUploadSpeed(this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager44=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager14=0;this.$VideoUploadReceiveRequestManager12=c("uuid")();this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager53(j.NEXT_CHUNK,!0)};e.$VideoUploadReceiveRequestManager66=function(a){var b=this,c=a.getPayload();this.$VideoUploadReceiveRequestManager19="invalid offset response received start="+c.start_offset+" end="+c.end_offset;(this.$VideoUploadReceiveRequestManager38.getStartOffset()!=c.start_offset||this.$VideoUploadReceiveRequestManager38.getEndOffset()!=c.end_offset)&&(this.$VideoUploadReceiveRequestManager38.setStartOffset(c.start_offset),this.$VideoUploadReceiveRequestManager38.setEndOffset(c.end_offset),this.$VideoUploadReceiveRequestManager44=null);((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?(this.$VideoUploadReceiveRequestManager14++,this.$VideoUploadReceiveRequestManager53(j.INVALID_OFFSET_RETRY)):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-invalid_offset"},retryHandler:function(a){return b.$VideoUploadReceiveRequestManager65(j.INVALID_OFFSET_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager67(a)}})};e.__handleServerFailureResponse=function(a){var b=this;this.$VideoUploadReceiveRequestManager19="failure response received";this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager37.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(a.getError()))this.$VideoUploadReceiveRequestManager66(a);else{var c;((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?(a.isTransient()||this.$VideoUploadReceiveRequestManager10)&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4?(this.$VideoUploadReceiveRequestManager19="transient server error",this.$VideoUploadReceiveRequestManager14++,this.$VideoUploadReceiveRequestManager65(j.SERVER_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager68(this.$VideoUploadReceiveRequestManager9,this.$VideoUploadReceiveRequestManager14,0))):this.$VideoUploadReceiveRequestManager67(a):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){b.$VideoUploadReceiveRequestManager19="transient server error",b.$VideoUploadReceiveRequestManager65(j.SERVER_FAILURE_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager67(a)}})}};e.__handleResponseTimeout=function(a){var b=this;this.inform("request-timeout",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,timeout_retries:this.$VideoUploadReceiveRequestManager15,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,debug:{upload_domain:this.$VideoUploadReceiveRequestManager39,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifyTransportError();var c=function(){var a=b.$VideoUploadReceiveRequestManager38.getEndOffset()-b.$VideoUploadReceiveRequestManager38.getStartOffset();a=Math.floor(a/2);a=Math.max(a,b.$VideoUploadReceiveRequestManager18);var c=b.$VideoUploadReceiveRequestManager38.getEndOffset();c=Math.min(c,b.$VideoUploadReceiveRequestManager38.getStartOffset()+a);b.$VideoUploadReceiveRequestManager38.setEndOffset(c);b.$VideoUploadReceiveRequestManager44=null;b.$VideoUploadReceiveRequestManager19="resending after timeout with chunksize="+a;b.$VideoUploadReceiveRequestManager53(j.TIMEOUT_RETRY)},d=function(){b.$VideoUploadReceiveRequestManager59({error_code:1006,error_description:h._(/*FBT_CALL*/"Seu navegador parece estar offline. Verifique sua conex\u00e3o com a internet e tente novamente."/*FBT_CALL*/),error_summary:h._(/*FBT_CALL*/"Sem conex\u00e3o de rede"/*FBT_CALL*/),error_is_transient:!0})};((a=this.$VideoUploadReceiveRequestManager38)==null?void 0:a.getRetryState())==null?++this.$VideoUploadReceiveRequestManager15<=this.$VideoUploadReceiveRequestManager6?c():d():this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-timeout",error_code:1006},retryHandler:function(a){return c()},failureHandler:function(){return d()}})};e.__hasInvalidStartOffsetAndHasRetries=function(a){return a===i&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4};e.$VideoUploadReceiveRequestManager55=function(a){var b,c=this;this.$VideoUploadReceiveRequestManager37.notifyTransportError();this.$VideoUploadReceiveRequestManager17=null;((b=this.$VideoUploadReceiveRequestManager38)==null?void 0:b.getRetryState())==null?(this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager11<this.$VideoUploadReceiveRequestManager2?(this.$VideoUploadReceiveRequestManager19="resending after transport failure",this.$VideoUploadReceiveRequestManager11++,this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager65(j.TRANSPORT_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager68(this.$VideoUploadReceiveRequestManager8,this.$VideoUploadReceiveRequestManager11,this.$VideoUploadReceiveRequestManager3))):this.$VideoUploadReceiveRequestManager67(a)):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadReceiveRequestManager45=null,c.$VideoUploadReceiveRequestManager19="resending after transport failure",c.$VideoUploadReceiveRequestManager65(j.TRANSPORT_FAILURE_RETRY,a)},failureHandler:function(){return c.$VideoUploadReceiveRequestManager67(a)}})};e.$VideoUploadReceiveRequestManager67=function(a){this.$VideoUploadReceiveRequestManager59({error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),error_is_transient:a.isTransient(),upload_domain:this.uploadDomain,www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__})};e.$VideoUploadReceiveRequestManager59=function(a){this.$VideoUploadReceiveRequestManager19="handling failure error",a.debug=babelHelpers["extends"]({},a.debug,{single_request_id:this.$VideoUploadReceiveRequestManager13}),this.inform("request-failed",a),this.$VideoUploadReceiveRequestManager54()};e.$VideoUploadReceiveRequestManager56=function(a){this.$VideoUploadReceiveRequestManager37.notifyProgress(a),this.$VideoUploadReceiveRequestManager38&&this.$VideoUploadReceiveRequestManager38.getFile()&&this.inform("request-progressed",{file_size:this.$VideoUploadReceiveRequestManager38.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),sent_bytes:a.loaded,transport_retries:this.$VideoUploadReceiveRequestManager11,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{single_request_id:this.$VideoUploadReceiveRequestManager13}})};e.$VideoUploadReceiveRequestManager50=function(){var a;this.inform("online");this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager15=0;(a=this.$VideoUploadReceiveRequestManager38)==null?void 0:(a=a.getRetryState())==null?void 0:a.resetDelay();this.$VideoUploadReceiveRequestManager46&&this.$VideoUploadReceiveRequestManager53(j.BACK_ONLINE)};e.$VideoUploadReceiveRequestManager51=function(){this.inform("offline")};e.$VideoUploadReceiveRequestManager68=function(a,b,c){var d;this.$VideoUploadReceiveRequestManager23?d=Math.min(Math.pow(a,b),8)*1e3:d=Math.pow(a,b)*1e3;c>0&&(d=Math.min(d,c));return d};e.$VideoUploadReceiveRequestManager57=function(a,b){b!==void 0&&b!==null&&b>0?b=b:b=10;a=Math.floor(a/b*this.$VideoUploadReceiveRequestManager7/100);return Math.max(a,3e4)};e.$VideoUploadReceiveRequestManager63=function(){return this.$VideoUploadReceiveRequestManager28?this.$VideoUploadReceiveRequestManager28:this.$VideoUploadReceiveRequestManager38.getWaterfallID()};return b}(c("mixin")(b("cr:909282")));g["default"]=a}),98);
__d("VideoUploadStartRequestManager",["Assert","FileHasher","VideoUploadRequest","clearTimeout","cr:909282","mixin","performanceNow","setTimeout"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$VideoUploadStartRequestManager1=b;j.$VideoUploadStartRequestManager2=c;j.$VideoUploadStartRequestManager3=d;j.$VideoUploadStartRequestManager4=e;j.$VideoUploadStartRequestManager5=0;j.$VideoUploadStartRequestManager6=f;j.$VideoUploadStartRequestManager7=g;j.$VideoUploadStartRequestManager8=h;j.$VideoUploadStartRequestManager9=i;j.$VideoUploadStartRequestManager10=0;return j}var d=b.prototype;d.getRequest=function(){return this.$VideoUploadStartRequestManager11};d.sendRequest=function(a){var b=this;if(this.$VideoUploadStartRequestManager12||this.$VideoUploadStartRequestManager11)return;this.$VideoUploadStartRequestManager13=a;this.$VideoUploadStartRequestManager6&&this.$VideoUploadStartRequestManager13.getFile().getFile()&&this.$VideoUploadStartRequestManager13.getFile().getFile().size<this.$VideoUploadStartRequestManager7&&c("FileHasher").isSupported()?(this.$VideoUploadStartRequestManager14=c("performanceNow")(),this.$VideoUploadStartRequestManager12=new(c("FileHasher"))(),this.$VideoUploadStartRequestManager12.hash(this.$VideoUploadStartRequestManager13.getFile().getFile(),function(a){b.$VideoUploadStartRequestManager14=c("performanceNow")()-b.$VideoUploadStartRequestManager14,b.$VideoUploadStartRequestManager15=a.hash,b.$VideoUploadStartRequestManager12.destroy(),b.$VideoUploadStartRequestManager12=null,a.hash||(b.$VideoUploadStartRequestManager16=a.exception),b.$VideoUploadStartRequestManager17()})):this.$VideoUploadStartRequestManager17()};d.$VideoUploadStartRequestManager17=function(){this.$VideoUploadStartRequestManager18(),this.inform("request-started",{hash_time:this.$VideoUploadStartRequestManager14,hash_exception:this.$VideoUploadStartRequestManager16})};d.$VideoUploadStartRequestManager18=function(){c("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null,this.$VideoUploadStartRequestManager11=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager1).setAllowCrossOrigin(!0).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager13,this.$VideoUploadStartRequestManager15)).setWaterfallID(this.$VideoUploadStartRequestManager13.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManager20.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManager21.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManager22.bind(this)),this.$VideoUploadStartRequestManager11.send()};d.__getVideoUploadRequest=function(a){return new(c("VideoUploadRequest"))(a)};d.__getDataToSend=function(a,b){b={file_size:a.getFile().getSize(),file_extension:a.getFile().getExtension(),target_id:a.getTargetID(),source:a.getSource(),composer_dialog_version:a.getComposerDialogVersion(),waterfall_id:a.getWaterfallID(),composer_session_id:a.getComposerSessionID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),supports_file_api:a.getSupportsFileAPI(),partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset(),creator_product:a.getCreatorProduct(),original_file_hash:b,spherical:a.getIsSphericalVideo(),spherical_metadata:a.getSphericalMetadata(),video_publisher_action_source:a.getVideoPublisherActionSource()};a.getCreativeTools()!=null&&(b.creative_tools=a.getCreativeTools());return b};d.cancelRequest=function(){this.$VideoUploadStartRequestManager23(),this.inform("request-canceled")};d.$VideoUploadStartRequestManager24=function(a){c("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=c("setTimeout")(this.$VideoUploadStartRequestManager18.bind(this),a)};d.$VideoUploadStartRequestManager23=function(){this.$VideoUploadStartRequestManager12&&(this.$VideoUploadStartRequestManager12.destroy(),this.$VideoUploadStartRequestManager12=null),this.$VideoUploadStartRequestManager11&&(this.$VideoUploadStartRequestManager11.abort(),this.$VideoUploadStartRequestManager11=null),this.$VideoUploadStartRequestManager10=0,this.$VideoUploadStartRequestManager5=0,this.$VideoUploadStartRequestManager13=null,c("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null};d.$VideoUploadStartRequestManager25=function(a,b,c){a=Math.pow(a,b)*1e3;c>0&&(a=Math.min(a,c));return a};d.$VideoUploadStartRequestManager20=function(a){var b;(b=this.$VideoUploadStartRequestManager13)==null?void 0:(b=b.getRetryState())==null?void 0:b.resetDelay();b=a.getPayload();this.inform("request-finished",this.__getSuccessInformData(b));this.$VideoUploadStartRequestManager11=null;c("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.__getSuccessInformData=function(a){return{video_id:a.video_id,xpv_asset_id:a.xpv_asset_id,is_xpv_single_prod:a.is_xpv_single_prod,upload_session_id:a.upload_session_id,fb_region:a.region_hint,start_offset:a.start_offset,end_offset:a.end_offset,transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,skip_upload:a.skip_upload,hash_time:this.$VideoUploadStartRequestManager14}};d.$VideoUploadStartRequestManager26=function(a){this.inform("request-failed",this.$VideoUploadStartRequestManager27(a)),this.$VideoUploadStartRequestManager11=null,c("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.$VideoUploadStartRequestManager21=function(a){var b,c=this;this.$VideoUploadStartRequestManager11=null;var d=(b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState();d==null?(this.$VideoUploadStartRequestManager5=0,a.isTransient()&&this.$VideoUploadStartRequestManager10<this.$VideoUploadStartRequestManager8?(this.$VideoUploadStartRequestManager10++,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager9,this.$VideoUploadStartRequestManager10))):this.$VideoUploadStartRequestManager26(a)):d.handleRetry({context:{location:"start-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){c.$VideoUploadStartRequestManager10=d.getTotalRetryCount(),c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager22=function(a){var b,c=this;((b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState())==null?this.$VideoUploadStartRequestManager2===0||this.$VideoUploadStartRequestManager5>=this.$VideoUploadStartRequestManager2?this.$VideoUploadStartRequestManager26(a):(this.$VideoUploadStartRequestManager5++,this.$VideoUploadStartRequestManager11=null,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager3,this.$VideoUploadStartRequestManager5,this.$VideoUploadStartRequestManager4))):this.$VideoUploadStartRequestManager13.getRetryState().handleRetry({context:{location:"start-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadStartRequestManager11=null,c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager27=function(a){return{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__}};return b}(c("mixin")(b("cr:909282")));d=a;g["default"]=d}),98);
__d("VideoUploadSession",["AsyncRequest","GraphQLVideoPublishUtils","SubscriptionsHandler","VideoUploadCrashMonitor","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadGraphQLPostRequestManager","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","cr:1661398","cr:909282","getByPath","mediaUploadLogStackTrace","mixin"],(function(a,b,c,d,e,f){var g={CANCELED:"canceled",ABANDONED:"abandoned",SHUTDOWN:"shutdown"};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoUploadSession1=c.source;d.$VideoUploadSession2=c.composer_dialog_version;d.$VideoUploadSession3=c.target_id;d.$VideoUploadSession4=c.logging_delay;d.$VideoUploadSession5=c.silent_file_validation;d.$VideoUploadSession6=c.background_upload;d.$VideoUploadSession7=c.actor_id;d.$VideoUploadSession8=c.composer_entry_point_ref;d.$VideoUploadSession9=c.composer_work_shared_draft_mode;d.$VideoUploadSession10=c.video_publisher_action_source;d.$VideoUploadSession11=c.monitor_crashes;d.$VideoUploadSession12=c.isMultiMediaPost;d.$VideoUploadSession13=c.container_type;d.$VideoUploadSession14=c.number_of_partitions;d.$VideoUploadSession15=c.multi_partitioning_enabled;d.$VideoUploadSession16=c.change_default_chunk_size;d.$VideoUploadSession17=c.has_file_been_replaced?c.has_file_been_replaced:!1;d.$VideoUploadSession16&&(d.$VideoUploadSession18=c.client_chunk_size);d.$VideoUploadSession19=c.early_receive;d.$VideoUploadSession20=!1;d.$VideoUploadSession21=c.accept_dimensions_from_player;d.$VideoUploadSession22=c.ad_account_id;d.$VideoUploadSession23=c.waterfall_id;d.$VideoUploadSession24=new(b("VideoUploadFileValidator"))({minSize:c.min_size,maxSize:c.max_size,minLength:c.min_length,maxLength:c.max_length,minWidth:c.min_width,minHeight:c.min_height,extensions:c.extensions,source:c.source,require16to9AspectRatio:c.require_16to9_aspect_ratio,minAspectRatio:c.min_aspect_ratio,maxAspectRatio:c.max_aspect_ratio,acceptDimensionsFromPlayer:c.accept_dimensions_from_player});d.$VideoUploadSession25=b("VideoUploadFeatureDetector").supportsChunking();d.$VideoUploadSession26=b("VideoUploadFeatureDetector").supportsFileAPI();d.$VideoUploadSession25?(d.$VideoUploadSession27=c.parallel_chunk_uploads,d.$VideoUploadSession27&&(d.$VideoUploadSession28=c.parallel_chunk_upload_filesize,d.$VideoUploadSession29=c.default_chunk_size)):d.$VideoUploadSession27=!1;d.$VideoUploadSession30=c.shutdown_logging_enabled;d.$VideoUploadSession31=d.$VideoUploadSession32(c);d.$VideoUploadSession33=d.$VideoUploadSession34(c);if(d.$VideoUploadSession27)if(d.$VideoUploadSession15){var e=0;d.$VideoUploadSession35=[];for(e=0;e<d.$VideoUploadSession14-1;e++)d.$VideoUploadSession35[e]=d.$VideoUploadSession34(c)}else d.$VideoUploadSession35=d.$VideoUploadSession34(c);d.$VideoUploadSession36=d.$VideoUploadSession37(c);d.$VideoUploadSession38=d.$VideoUploadSession39(c);d.$VideoUploadSession40=c.log_free_local_storage;d.$VideoUploadSession41=null;return d}var d=c.prototype;d.$VideoUploadSession42=function(){this.$VideoUploadSession43=[];this.$VideoUploadSession44=[];this.$VideoUploadSession45=[];this.$VideoUploadSession46=[];this.$VideoUploadSession47=[];var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession43.push(!1)};d.$VideoUploadSession49=function(){var a;this.$VideoUploadSession23==null&&(this.$VideoUploadSession23=b("WaterfallIDGenerator").generate());this.$VideoUploadSession50=new(b("VideoUploadLogger"))({actor_id:this.$VideoUploadSession7,ad_account_id:this.$VideoUploadSession22,source:this.$VideoUploadSession1,composer_dialog_version:this.$VideoUploadSession2,waterfall_id:this.$VideoUploadSession23,target_id:this.$VideoUploadSession3,delay:this.$VideoUploadSession4,is_chunked_upload:this.$VideoUploadSession25,composer_entry_point_ref:this.$VideoUploadSession8,composer_work_shared_draft_mode:this.$VideoUploadSession9,container_type:this.$VideoUploadSession13,has_file_been_replaced:this.$VideoUploadSession17,composer_session_id:this.$VideoUploadSession51,asset_id:(a=this.$VideoUploadSession52)==null?void 0:a.getStableAssetID(),creative_tools:this.$VideoUploadSession53});this.inform("set-waterfall-id",{waterfallID:this.$VideoUploadSession23})};d.createTestLogger=function(){this.$VideoUploadSession49()};d.$VideoUploadSession54=function(){this.$VideoUploadSession50||this.$VideoUploadSession49();return this.$VideoUploadSession50};d.getLogger=function(){return!this.$VideoUploadSession50?null:this.$VideoUploadSession50};d.$VideoUploadSession55=function(){var a,c=this;a=b("cr:1661398")==null?void 0:(a=b("cr:1661398").VideoUploadRetries)==null?void 0:a.createState();a!=null&&(a.addListener("retry-attempted",function(a){var d=a.delay_retry_count,e=a.total_retry_count,f=a.since_started_ms,g=a.retry_context;a=a.backoff_ms;c.__logEvent(b("VideoUploadLogger").EVENT_RETRY_ATTEMPT,{retries:e,elapsed_time:f,error_trace:g==null?void 0:g.location,error_code:g==null?void 0:g.error_code,debug:{delay_retry_count:d,backoff_ms:a}})}),a.addListener("retries-abandoned",function(a){var d=a.delay_retry_count,e=a.total_retry_count,f=a.since_started_ms,g=a.retry_context;a=a.abandon_reason;c.__logEvent(b("VideoUploadLogger").EVENT_RETRY_ATTEMPT,{retries:e,elapsed_time:f,error:a,error_trace:g==null?void 0:g.location,error_code:g==null?void 0:g.error_code,debug:{delay_retry_count:d}})}));return a};d.start=function(a){var c=this;this.$VideoUploadSession56=null;this.$VideoUploadSession57=null;this.$VideoUploadSession58=null;this.$VideoUploadSession59=!1;this.$VideoUploadSession60=!1;this.$VideoUploadSession61=null;this.$VideoUploadSession52=a;this.$VideoUploadSession62=0;this.$VideoUploadSession63=!1;this.$VideoUploadSession64={sphericalMetadataXml:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null};this.$VideoUploadSession65=!1;this.$VideoUploadSession41=this.$VideoUploadSession55();this.$VideoUploadSession49();b("mediaUploadLogStackTrace")({waterfallID:this.$VideoUploadSession23,sourceType:this.$VideoUploadSession1,composerEntryPointRef:this.$VideoUploadSession8});this.$VideoUploadSession15&&(this.$VideoUploadSession48=Math.min(this.$VideoUploadSession14,Math.ceil(this.$VideoUploadSession52.getSize()/this.$VideoUploadSession28)));this.__logEvent(b("VideoUploadLogger").EVENT_REQUESTED_UPLOADING);this.inform("upload-requested");a=new(b("VideoUploadMetadataParser"))(this.$VideoUploadSession52,this.$VideoUploadSession66.bind(this),this.$VideoUploadSession21);a.parse();this.$VideoUploadSession40&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota(function(a,d){c.__logEvent(b("VideoUploadLogger").EVENT_MEASURE_FREE_LOCAL_STORAGE,{free_space_in_device:d})})};d.setTargetID=function(a){this.$VideoUploadSession3=a};d.setComposerSessionID=function(a){this.$VideoUploadSession51=a};d.setCreativeTools=function(a){this.$VideoUploadSession53=a};d.post=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_POST_REQUEST,this.$VideoUploadSession67);this.inform("post-started",a);var c=this.__createPostRequestContext(a);if(b("GraphQLVideoPublishUtils").isGraphQLPublish(this.$VideoUploadSession1,this.$VideoUploadSession8)&&this.$VideoUploadSession38.hasAPISupport(a)){this.$VideoUploadSession38.sendRequest(c);this.$VideoUploadSession68=a;return}this.$VideoUploadSession36.sendRequest(c);this.$VideoUploadSession68=a};d.__createPostRequestContext=function(a){var c=new(b("VideoUploadRequestContext"))();this.__setupPostRequestContext(c,a);return c};d.__setupPostRequestContext=function(a,b){a.setMetadata(b).setVideoID(this.$VideoUploadSession56).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setSupportsChunking(this.$VideoUploadSession25).setCreatorProduct(this.$VideoUploadSession52.getCreatorProduct()).setFile(this.$VideoUploadSession52).setHasFileBeenReplaced(this.$VideoUploadSession17),b&&(b.spherical&&(this.$VideoUploadSession63=!0,a.setIsSphericalVideo(this.$VideoUploadSession63)),b.enable_omnistab&&(this.$VideoUploadSession65=!0,a.setEnableOmnistab(this.$VideoUploadSession65))),a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8)};d.$VideoUploadSession69=function(a,d){if(this.$VideoUploadSession59){var e={event_reason:d,debug:babelHelpers["extends"]({},this.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:this.$VideoUploadSession6})};d=d===g.CANCELED?b("VideoUploadLogger").EVENT_CANCELED_UPLOADING:b("VideoUploadLogger").EVENT_ABANDONED_UPLOADING;this.$VideoUploadSession70();this.$VideoUploadSession6?(this.$VideoUploadSession60||this.__logEvent(d),this.$VideoUploadSession71&&(this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e),this.$VideoUploadSession71=!1)):(this.__logEvent(d),this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e));this.inform("upload-canceled")}else a&&this.$VideoUploadSession56&&c.deleteVideo(this.$VideoUploadSession56)};d.cancel=function(a){a===void 0&&(a=!1),this.$VideoUploadSession69(a,g.CANCELED)};d.abandon=function(a){a===void 0&&(a=!1),this.$VideoUploadSession69(a,g.ABANDONED)};d.isPostInProgress=function(){return this.$VideoUploadSession36.isInProgress()};d.isInProgress=function(){return this.$VideoUploadSession59};d.getHasUploadFinished=function(){return this.$VideoUploadSession60};d.getVideoID=function(){return this.$VideoUploadSession56};d.getUploadTime=function(){return this.$VideoUploadSession72};d.getExPartitionNumber=function(a){var b;for(b=0;b<this.$VideoUploadSession48-1;b++)if(a>=this.$VideoUploadSession44[b]&&a<this.$VideoUploadSession45[b])break;return b===this.$VideoUploadSession48?-1:b};d.getIsSphericalVideo=function(){return this.$VideoUploadSession63||!1};d.startFlow=function(){if(!this.$VideoUploadSession6||this.$VideoUploadSession71)return;this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession71=!0;this.$VideoUploadSession73&&this.$VideoUploadSession73.flowStarted()};d.__extractVideoMetadata=function(a){var c;a=(c=b("getByPath"))(a,["streams","primaryVideo"]);c={source_height:c(a,["height"]),source_width:c(a,["width"]),duration:c(a,["duration"])*1e3};c.original_video_duration=c.duration;return c};d.$VideoUploadSession66=function(a){var c;if(this.$VideoUploadSession5){var d=this.$VideoUploadSession24.getValidationErrorMessage(this.$VideoUploadSession52,a);d?(c={error_summary:d.summary,error_description:d.description},d=!1):d=!0}else d=this.$VideoUploadSession24.validate(this.$VideoUploadSession52,a);if(!d){this.__logEvent(b("VideoUploadLogger").EVENT_INVALIDATED_UPLOADING);this.inform("upload-failed",c);return}this.$VideoUploadSession67=this.__extractVideoMetadata(a);a&&a.format&&(this.$VideoUploadSession63=a.format.isSpherical,a.metadata&&(this.$VideoUploadSession64.sphericalMetadataXml=a.metadata.sphericalMetadataXml,this.$VideoUploadSession64.fbSpatialAudioMetadataXml=a.metadata.fbSpatialAudioMetadataXml,this.$VideoUploadSession64.ytSa3dMetadataJson=a.metadata.ytSa3dMetadataJson));this.$VideoUploadSession6||this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession74=this.$VideoUploadSession27&&this.$VideoUploadSession52.getSize()>=this.$VideoUploadSession28;this.$VideoUploadSession75=!1;this.$VideoUploadSession76=0;this.$VideoUploadSession77=this.$VideoUploadSession76;this.$VideoUploadSession78=0;this.$VideoUploadSession15?this.$VideoUploadSession42():this.$VideoUploadSession43=!1;if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){d=0;this.$VideoUploadSession79=Math.ceil(this.$VideoUploadSession52.getSize()/this.$VideoUploadSession48);var e=this.$VideoUploadSession79,f=this.$VideoUploadSession79;for(d=0;d<this.$VideoUploadSession48-1;d++)this.$VideoUploadSession44[d]=e,e=Math.min(this.$VideoUploadSession44[d]+f,this.$VideoUploadSession52.getSize()),this.$VideoUploadSession45[d]=e,this.$VideoUploadSession46[d]=this.$VideoUploadSession44[d],this.$VideoUploadSession47[d]=0}else this.$VideoUploadSession79=Math.floor(this.$VideoUploadSession52.getSize()/2),this.$VideoUploadSession44=this.$VideoUploadSession79,this.$VideoUploadSession46=this.$VideoUploadSession44,this.$VideoUploadSession47=0,this.$VideoUploadSession45=this.$VideoUploadSession52.getSize();else this.$VideoUploadSession79=this.$VideoUploadSession52.getSize();d=new(b("VideoUploadRequestContext"))().setFile(this.$VideoUploadSession52).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setHasFileBeenReplaced(this.$VideoUploadSession17).setSupportsChunking(this.$VideoUploadSession25).setSupportsFileAPI(this.$VideoUploadSession26).setCreatorProduct(this.$VideoUploadSession52.getCreatorProduct()).setPartitionStartOffset(this.$VideoUploadSession76).setPartitionEndOffset(this.$VideoUploadSession79).setRetryState(this.$VideoUploadSession41).setCreativeTools(this.$VideoUploadSession53);this.$VideoUploadSession27&&d.setUseParallelChunks(this.$VideoUploadSession27);this.$VideoUploadSession63&&(d.setIsSphericalVideo(this.$VideoUploadSession63),d.setSphericalMetadata(this.$VideoUploadSession64));d.setComposerEntryPointRef&&d.setComposerEntryPointRef(this.$VideoUploadSession8);d.setVideoPublisherActionSource(this.$VideoUploadSession10);this.$VideoUploadSession80();this.$VideoUploadSession31.sendRequest(d);this.$VideoUploadSession19&&this.$VideoUploadSession16&&this.$VideoUploadSession33.isResumabilityEnabled()&&!this.$VideoUploadSession33.isResumableServiceProxyReceiveEnabled()&&this.$VideoUploadSession81();this.inform("metadata-parsed",a)};d.$VideoUploadSession32=function(a){var b=this.$VideoUploadSession25?a.chunk_start_uri:a.start_uri;b=this.__getVideoUploadStartRequestManager(b,a.start_max_transport_retries,a.start_transport_retry_interval_base,a.start_max_transport_retry_timeout,a.skip_upload_enabled,a.skip_upload_file_size_limit,a.start_max_server_retries,a.start_server_retry_interval_base);b.subscribe("request-started",this.$VideoUploadSession82.bind(this));b.subscribe("request-finished",this.$VideoUploadSession83.bind(this));b.subscribe("request-failed",this.$VideoUploadSession84.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession85.bind(this));return b};d.$VideoUploadSession34=function(a){var b=this.$VideoUploadSession25?a.chunk_receive_uri:a.receive_uri;b=this.__getVideoUploadReceiveRequestManager(b,a);b.subscribe("request-started",this.$VideoUploadSession86.bind(this));b.subscribe("request-progressed",this.$VideoUploadSession87.bind(this));b.subscribe("request-finished",this.$VideoUploadSession88.bind(this));b.subscribe("request-failed",this.$VideoUploadSession89.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession90.bind(this));b.subscribe("request-timeout",this.$VideoUploadSession91.bind(this));b.subscribe("online",this.$VideoUploadSession92.bind(this));b.subscribe("offline",this.$VideoUploadSession93.bind(this));b.subscribe("resumable-called",this.$VideoUploadSession94.bind(this));b.subscribe("resumable-started",this.$VideoUploadSession95.bind(this));b.subscribe("resumable-success",this.$VideoUploadSession96.bind(this));b.subscribe("resumable-failed",this.$VideoUploadSession97.bind(this));return b};d.$VideoUploadSession37=function(a){var b=this.$VideoUploadSession25?a.chunk_post_uri:a.post_uri;b=this.__getVideoUploadPostRequestManager(b,a);b.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));b.subscribe("request-failed",this.$VideoUploadSession98.bind(this));return b};d.$VideoUploadSession39=function(a){a=new(b("VideoUploadGraphQLPostRequestManager"))(isNaN(a.post_max_transport_retries)?0:a.post_max_transport_retries,isNaN(a.post_transport_retry_interval_base)?0:a.post_transport_retry_interval_base,isNaN(a.post_max_server_retries)?0:a.post_max_server_retries,isNaN(a.post_server_retry_interval_base)?0:a.post_server_retry_interval_base);a.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));a.subscribe("request-failed",this.$VideoUploadSession98.bind(this));return a};d.$VideoUploadSession82=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_UPLOADING,babelHelpers["extends"]({hash_time:c.hash_time,hash_exception:c.hash_exception},this.$VideoUploadSession67)),this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_START_REQUEST,this.$VideoUploadSession67),this.$VideoUploadSession99=Date.now(),this.inform("upload-started")};d.$VideoUploadSession81=function(a){if(!this.$VideoUploadSession20){this.$VideoUploadSession20=!0;a||(a={video_id:null});var b;b=this.__createReceiveRequestContext(a,!1);this.$VideoUploadSession33.sendRequest(b);if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){var c=0;for(c=0;c<this.$VideoUploadSession48-1;c++)b=this.__createReceiveRequestContext(a,!0,c),this.$VideoUploadSession35[c].sendRequest(b)}else b=this.__createReceiveRequestContext(a,!0),this.$VideoUploadSession35.sendRequest(b)}else this.$VideoUploadSession100()};d.$VideoUploadSession100=function(){this.$VideoUploadSession33.updateVideoID(this.$VideoUploadSession56);if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession35[a].updateVideoID(this.$VideoUploadSession56)}else this.$VideoUploadSession35.updateVideoID(this.$VideoUploadSession56)};d.$VideoUploadSession101=function(a){if(this.$VideoUploadSession41==null)return((a==null?void 0:a.transport_retries)||0)+((a==null?void 0:a.server_retries)||0)+((a==null?void 0:a.timeout_retries)||0);else return this.$VideoUploadSession41.getTotalRetryCount()};d.$VideoUploadSession83=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_PROGRESS_UPLOADING_START_REQUEST,{retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,hash_time:c.hash_time,skip_upload:c.skip_upload?1:null}),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_START_REQUEST,babelHelpers["extends"]({video_id:c.video_id},this.$VideoUploadSession67)),this.$VideoUploadSession56=c.video_id,this.$VideoUploadSession57=c.upload_session_id,this.$VideoUploadSession58=c.fb_region,this.$VideoUploadSession102=c.skip_upload,!c.skip_upload?this.$VideoUploadSession81(c):(this.$VideoUploadSession103(),this.inform("upload-progressed",{start_offset:0,end_offset:this.$VideoUploadSession52.getSize(),file_size:this.$VideoUploadSession52.getSize(),sent_bytes:this.$VideoUploadSession52.getSize(),video_id:c.video_id,skip_upload:c.skip_upload}),this.$VideoUploadSession6&&this.__logFinishedUploading(),this.inform("upload-finished",{start_offset:0,end_offset:this.$VideoUploadSession52.getSize(),video_id:c.video_id,is_spherical_video:this.$VideoUploadSession63}))};d.__fetchReceiveRequestManagerStateLogData=function(){var a={};this.$VideoUploadSession33!=null&&(this.$VideoUploadSession33.appendStateLogData(a,"requestManager_"),a.request_manager_state=a.requestManager_last_log_state);if(this.$VideoUploadSession15){var b=0;for(b=0;b<this.$VideoUploadSession48-1;b++)this.$VideoUploadSession35[b]!=null&&this.$VideoUploadSession35[b].appendStateLogData(a,"requestManagerEx_"+b.toString())}else this.$VideoUploadSession35!=null&&this.$VideoUploadSession35.appendStateLogData(a,"requestManagerEx_");return a};d.__createReceiveRequestContext=function(a,c,d){c||(c=!1);var e=new(b("VideoUploadRequestContext"))();this.$VideoUploadSession15?this.__setupReceiveRequestContext(e,a,c,d):this.__setupReceiveRequestContext(e,a,c);return e};d.__setupReceiveRequestContext=function(a,b,c,d){var e,f,g;!c?(c=this.$VideoUploadSession76,e=this.$VideoUploadSession79,this.$VideoUploadSession16?(f=this.$VideoUploadSession76,g=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession79):this.$VideoUploadSession79):(f=b.start_offset,g=b.end_offset)):this.$VideoUploadSession15?(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession45[d]-this.$VideoUploadSession44[d],this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession44[d],e=this.$VideoUploadSession45[d],f=this.$VideoUploadSession44[d],g=this.$VideoUploadSession44[d]+this.$VideoUploadSession29>=this.$VideoUploadSession45[d]?this.$VideoUploadSession45[d]:this.$VideoUploadSession44[d]+this.$VideoUploadSession29):(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession45-this.$VideoUploadSession44,this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession44,e=this.$VideoUploadSession45,f=this.$VideoUploadSession44,g=this.$VideoUploadSession44+this.$VideoUploadSession29>=this.$VideoUploadSession45?this.$VideoUploadSession45:this.$VideoUploadSession44+this.$VideoUploadSession29);a.setFile(this.$VideoUploadSession52).setVideoID(b.video_id).setXPVAssetID(b.xpv_asset_id).setIsXPVSingleProd(b.is_xpv_single_prod).setUploadSessionID(b.upload_session_id).setFbRegion(b.fb_region).setStartOffset(f).setEndOffset(g).setPartitionStartOffset(c).setPartitionEndOffset(e).setPartitionNo(d).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setSupportsChunking(this.$VideoUploadSession25).setHasFileBeenReplaced(this.$VideoUploadSession17).setRetryState(this.$VideoUploadSession41);this.$VideoUploadSession27&&a.setUseParallelChunks(this.$VideoUploadSession27);a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8);this.$VideoUploadSession18&&a.setClientChunkSize(this.$VideoUploadSession18)};d.$VideoUploadSession84=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_START_REQUEST,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);a=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession71&&(this.__logEvent(a),this.$VideoUploadSession71=!1):this.__logEvent(a);this.$VideoUploadSession103();this.$VideoUploadSession104();this.inform("upload-failed",c)};d.$VideoUploadSession85=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_START_REQUEST)};d.$VideoUploadSession86=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_RECEIVE_REQUEST,{debug:c.debug}),!c.start_offset&&!c.transport_retries&&!c.server_retries&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSession52.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,total_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug})};d.$VideoUploadSession87=function(a,b){if(b.start_offset<this.$VideoUploadSession79)this.$VideoUploadSession77=b.start_offset,this.$VideoUploadSession78=b.sent_bytes;else if(this.$VideoUploadSession15){a=this.getExPartitionNumber(b.start_offset);a>-1&&(this.$VideoUploadSession46[a]=b.start_offset,this.$VideoUploadSession47[a]=b.sent_bytes)}else this.$VideoUploadSession46=b.start_offset,this.$VideoUploadSession47=b.sent_bytes;b.start_offset=this.$VideoUploadSession77;b.sent_bytes=this.$VideoUploadSession78;if(this.$VideoUploadSession74)if(this.$VideoUploadSession15)for(a=0;a<this.$VideoUploadSession48-1;a++)b.start_offset+=this.$VideoUploadSession46[a]-this.$VideoUploadSession44[a],b.sent_bytes+=this.$VideoUploadSession47[a];else b.start_offset+=this.$VideoUploadSession46-this.$VideoUploadSession44,b.sent_bytes+=this.$VideoUploadSession47;a=Math.min(b.start_offset+b.sent_bytes,b.file_size);a>this.$VideoUploadSession62&&(this.$VideoUploadSession62=a,this.inform("upload-progressed",b))};d.$VideoUploadSession88=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_RECEIVE_REQUEST,{debug:c.debug});this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug});a=!1;if(c.start_offset<this.$VideoUploadSession79)this.$VideoUploadSession75=c.end_offset>=this.$VideoUploadSession79;else if(this.$VideoUploadSession15){var d;d=this.getExPartitionNumber(c.start_offset);if(d===-1){var e={error_summary:"Invalid offset",error_description:"Offset doesn't fall in any exPartition range."};this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING);this.inform("upload-failed",e);return}this.$VideoUploadSession43[d]=c.end_offset>=this.$VideoUploadSession45[d]}else this.$VideoUploadSession43=c.end_offset>=this.$VideoUploadSession45;if(this.$VideoUploadSession15)for(d=0;d<this.$VideoUploadSession48-1;d++)if(this.$VideoUploadSession43[d]===!1){a=!1;break}else a=!0;else a=this.$VideoUploadSession43;(!this.$VideoUploadSession26||this.$VideoUploadSession75&&(!this.$VideoUploadSession74||a))&&(this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSession52.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession72=Date.now()-this.$VideoUploadSession99,this.$VideoUploadSession6&&this.__logFinishedUploading(),c.video_id=this.$VideoUploadSession56,c.is_spherical_video=this.$VideoUploadSession63,this.inform("upload-finished",c),this.$VideoUploadSession12&&(this.$VideoUploadSession6||this.__logFinishedUploading(),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW,c),this.$VideoUploadSession71=!1,this.$VideoUploadSession104(),this.inform("multimedia-upload-finished",c)))};d.$VideoUploadSession89=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_RECEIVE_REQUEST,a);this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_CHUNK_BYTES,a);if(this.$VideoUploadSession59){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_BYTES,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession71&&(this.__logEvent(d,a),this.$VideoUploadSession71=!1):this.__logEvent(d,a)}this.$VideoUploadSession104();this.inform("upload-failed",c)};d.$VideoUploadSession90=function(a){this.$VideoUploadSession25?this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_CHUNK_BYTES):this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_BYTES)};d.$VideoUploadSession91=function(a,c){a={start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,timeout_retries:c.timeout_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,debug:c.debug};this.__logEvent(b("VideoUploadLogger").EVENT_TIMEOUT_SENDING_CHUNK_BYTES,a)};d.$VideoUploadSession92=function(a,b){this.inform("online",b)};d.$VideoUploadSession93=function(a,b){this.inform("offline",b)};d.$VideoUploadSession94=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_CALLED,c)};d.$VideoUploadSession95=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_STARTED,c)};d.$VideoUploadSession96=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_SUCCESS,c)};d.$VideoUploadSession97=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_FAILED,c)};d.__handlePostRequestFinished=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_POST_REQUEST,babelHelpers["extends"]({video_id:this.$VideoUploadSession56},this.$VideoUploadSession67));c.video_id||(c.video_id=this.$VideoUploadSession56);this.$VideoUploadSession6||this.__logFinishedUploading();this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW);this.$VideoUploadSession71=!1;this.$VideoUploadSession104();a=babelHelpers["extends"]({},c,this.$VideoUploadSession68);this.inform("post-finished",a)};d.__logFinishedUploading=function(){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_UPLOADING,babelHelpers["extends"]({elapsed_time:this.$VideoUploadSession72,skip_upload:this.$VideoUploadSession102?1:null,video_id:this.$VideoUploadSession56},this.$VideoUploadSession67)),this.$VideoUploadSession60=!0};d.$VideoUploadSession98=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_POST_REQUEST,a);if(this.$VideoUploadSession59){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.__logEvent(d,a)}this.$VideoUploadSession104();this.inform("post-failed",c)};d.$VideoUploadSession103=function(){this.$VideoUploadSession33.cancelRequest();if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession35[a].cancelRequest()}else this.$VideoUploadSession35.cancelRequest();this.$VideoUploadSession20=!1};d.$VideoUploadSession70=function(){this.$VideoUploadSession31.cancelRequest(),this.$VideoUploadSession103(),this.$VideoUploadSession104(),this.$VideoUploadSession56&&(c.deleteVideo(this.$VideoUploadSession56),this.$VideoUploadSession56=null,this.$VideoUploadSession57=null,this.$VideoUploadSession58=null)};d.$VideoUploadSession80=function(){var a=this;this.$VideoUploadSession59=!0;this.$VideoUploadSession30&&(this.$VideoUploadSession61=new(b("SubscriptionsHandler"))(),this.$VideoUploadSession61.addSubscriptions(this.$VideoUploadSession54().postOnShutdown(function(){if(a.$VideoUploadSession59){var c={event_reason:g.SHUTDOWN,debug:babelHelpers["extends"]({},a.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:a.$VideoUploadSession6})};a.$VideoUploadSession6?a.$VideoUploadSession71&&a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c):a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c);a.inform("upload-canceled")}})));this.$VideoUploadSession11&&(this.$VideoUploadSession73=new(b("VideoUploadCrashMonitor"))(this.$VideoUploadSession23,this.$VideoUploadSession7,this.$VideoUploadSession1,this.$VideoUploadSession3,this.$VideoUploadSession4,this.$VideoUploadSession25,this.$VideoUploadSession8,!this.$VideoUploadSession6||this.$VideoUploadSession71),this.$VideoUploadSession73.startSession())};d.$VideoUploadSession104=function(){this.$VideoUploadSession59=!1,this.$VideoUploadSession61&&(this.$VideoUploadSession61.release(),this.$VideoUploadSession61=null),this.$VideoUploadSession73&&(this.$VideoUploadSession73.endSession(),this.$VideoUploadSession73=null)};d.__getLogErrorData=function(a){return{error:a.error_summary,error_code:a.error_code,error_description:a.error_description,retries:this.$VideoUploadSession101(a),transport_retries:a.transport_retries,server_retries:a.server_retries,request_manager_state:a.request_manager_state,debug:a.debug}};d.__logEvent=function(a,b){b=b||{},this.$VideoUploadSession52&&(b.file_size=this.$VideoUploadSession52.getSize(),b.file_extension=this.$VideoUploadSession52.getExtension(),b.sent_bytes=this.$VideoUploadSession62),this.$VideoUploadSession54().logEvent(a,b)};d.__getVideoUploadStartRequestManager=function(a,c,d,e,f,g,h,i){return new(b("VideoUploadStartRequestManager"))(a,c,d,e,f,g,h,i)};d.__getVideoUploadReceiveRequestManager=function(a,c){return new(b("VideoUploadReceiveRequestManager"))(a,c.max_transport_retries,c.max_transport_retry_timeout,c.max_server_retries,c.response_timeout_enabled,c.max_response_timeout_retries,c.response_timeout_speed_variation_factor_ppt,c.transport_retry_interval_base,c.server_retry_interval_base,c.receive_errors_force_retry,c.access_token,c.resumability_enabled,c.resumability_async_enabled,c.resumable_service_name,c.resumable_service_domain,c.datr,c.resumability_min_file_size,c.resumable_service_proxy_receive,c.resumable_service_send_media_info,c.resumable_service_send_file_size,c.resumable_reset_transport_retries_on_progress,c.add_flow_capture_header,c.traffic_tracing_enabled,c.traffic_tracing_min_file_size)};d.__getVideoUploadPostRequestManager=function(a,c){return new(b("VideoUploadPostRequestManager"))(a,c.post_max_transport_retries,c.post_transport_retry_interval_base,c.post_max_server_retries,c.post_server_retry_interval_base)};c.deleteVideo=function(a){a=new(b("AsyncRequest"))("/ajax/video/actions/delete").setData({fbid:a,redirect:!1});a.setErrorHandler(function(){});a.send()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploader",["FBLogger","MediaUploadVUShim","VideoUploadCrashMonitor","VideoUploadSession","cr:909282","mixin"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.abandon=function(a){a===void 0&&(a=!1);var b=d.getVideoID();d.$VideoUploader2?d.$VideoUploader2.abandon(a):a&&b&&c("VideoUploadSession").deleteVideo(b);d.reset()};d.$VideoUploader1=b;d.$VideoUploader2=null;d.$VideoUploader3=null;d.$VideoUploader4=b.waterfall_id==null?null:b.waterfall_id;d.$VideoUploader5=d.$VideoUploader1.ad_account_id;b.monitor_crashes&&(d.$VideoUploader6=new(c("VideoUploadCrashMonitor"))(),d.$VideoUploader6.logKnownCrashes());return d}var d=b.prototype;d.setComposerSessionID=function(a){this.$VideoUploader7=a,this.$VideoUploader2&&this.$VideoUploader2.setComposerSessionID(a)};d.getLogger=function(){if(!this.$VideoUploader2)return;if(this.$VideoUploader2.getLogger)return this.$VideoUploader2.getLogger()};d.upload=function(a,b){var c=this;if(this.$VideoUploader2)return;var d=this.__getVideoUploadSession(this.$VideoUploader1);d.setComposerSessionID(this.$VideoUploader7);(b==null?void 0:b.creativeTools)!=null&&d.setCreativeTools(JSON.stringify(b==null?void 0:b.creativeTools));d.subscribe(this.__getEventsWhichShouldListenFromSession(),function(a,b){return c.$VideoUploader8(a,b)});this.$VideoUploader2=d;d.start(a)};d.__getVideoUploadSession=function(a){try{var b=c("MediaUploadVUShim").createSession(a);if(b==null)return new(c("VideoUploadSession"))(a);else return b}catch(b){c("FBLogger")("media_upload").catching(b).warn("Failed to create shim video upload session");return new(c("VideoUploadSession"))(a)}};d.__getEventsWhichShouldListenFromSession=function(){return["upload-requested","upload-started","upload-progressed","upload-finished","upload-failed","upload-canceled","post-started","post-finished","post-failed","online","offline","metadata-parsed","set-waterfall-id"]};d.postUserRequest=function(){if(!this.$VideoUploader2)return;this.$VideoUploader2.startFlow&&this.$VideoUploader2.startFlow()};d.setTargetID=function(a){if(this.$VideoUploader2==null)return;this.$VideoUploader2.setTargetID(a)};d.setHasFileBeenReplaced=function(a){this.$VideoUploader1.has_file_been_replaced=a};d.post=function(a){if(!this.$VideoUploader2)return;this.$VideoUploader2.post(a)};d.getVideoID=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.$VideoUploader2.getVideoID());return this.$VideoUploader3};d.cancel=function(a){a===void 0&&(a=!1);var b=this.getVideoID();this.$VideoUploader2?this.$VideoUploader2.cancel(a):a&&b&&c("VideoUploadSession").deleteVideo(b);this.reset()};d.reset=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.getVideoID()),this.$VideoUploader2=null};d.getUploadSession=function(){return this.$VideoUploader2};d.getLoggerData=function(){return{waterfall_id:this.$VideoUploader2?this.$VideoUploader2.$VideoUploader4:null,actor_id:this.$VideoUploader1.actor_id,target_id:this.$VideoUploader1.target_id,target_type:this.$VideoUploader1.target_type,composer_entry_point_ref:this.$VideoUploader1.composer_entry_point_ref}};d.isPostInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isPostInProgress()};d.isSessionInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isInProgress()};d.isSessionExist=function(){return!!this.$VideoUploader2};d.getUploadParameters=function(){return this.$VideoUploader1};d.__getSession=function(){return this.$VideoUploader2};d.__getEventsForWhichSessionShouldBeSetToNull=function(){return["upload-failed","post-finished","multimedia-upload-finished"]};d.$VideoUploader8=function(a,b){this.__getEventsForWhichSessionShouldBeSetToNull().includes(a)&&this.reset(),this.__delegateEvent(a,b)};d.__delegateEvent=function(a,b){this.inform(a,b)};return b}(c("mixin")(b("cr:909282")));g["default"]=a}),98);
__d("useAfterPostForRetroOffer_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAfterPostForRetroOffer_page",selections:[{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"commerce_merchant_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerMagicUploadsAttachmentArea_profile"},{args:null,kind:"FragmentSpread",name:"CometComposerMediaAttachmentArea_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometComposerBloodDonationsAttachmentArea_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerBloodDonationsAttachmentArea_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category_name",storageKey:null},{alias:null,args:null,concreteType:"BloodDonationPartner",kind:"LinkedField",name:"blood_donation_partner",plural:!1,selections:[{alias:null,args:null,concreteType:"BloodDonationFacility",kind:"LinkedField",name:"closest_facility",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_booking_method",storageKey:null}],storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerDialogQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"show_prefilled_blood_donation_attachment",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"ProductCatalog",kind:"LinkedField",name:"product_catalog",plural:!1,selections:[d],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_product_tagging_apux_snoozed",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"can_use_magic_uploads",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"can_use_magic_uploads_with_subscription_id",storageKey:null},m={alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesCometComposerDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[e],storageKey:null},f,g,h,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"PagesCometComposerRoot_profile"}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null},action:"THROW",path:"page.viewer.actor"}],storageKey:null},action:"THROW",path:"page.viewer"},{args:null,kind:"FragmentSpread",name:"PagesCometComposerRoot_page"},{args:null,kind:"FragmentSpread",name:"useAfterPostPageShareToGroups_page"},{args:null,kind:"FragmentSpread",name:"useAfterPostForRetroOffer_page"}],storageKey:null},action:"THROW",path:"page"},{args:[{kind:"Variable",name:"privacySelectorRenderLocation",variableName:"privacySelectorRenderLocation"}],kind:"FragmentSpread",name:"PagesCometComposerRoot_query"},{args:[{kind:"Variable",name:"pageID",variableName:"id"}],kind:"FragmentSpread",name:"PagesCometComposerRoot_autoBoostQuery"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesCometComposerDialogQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[e,d],storageKey:null},f,g,h,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[i,{kind:"InlineFragment",selections:[j,{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},k,l,{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[k,l,m],type:"Page",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CometPageAdminComposerRenderer",kind:"LinkedField",name:"comet_page_composer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["PagesCometComposerFooterWithPostAndScheduleButtons","PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons"]}],concreteType:null,kind:"LinkedField",name:"submit_buttons_footer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerFooter_page",fragmentName:"PagesCometComposerFooterWithPostAndScheduleButtons_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PagesCometComposerFooterWithPostAndScheduleButtons",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerFooter_page",fragmentName:"PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons",abstractKey:null}],storageKey:'submit_buttons_footer(supported:["PagesCometComposerFooterWithPostAndScheduleButtons","PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons"])'},{alias:null,args:[{kind:"Literal",name:"supported",value:["CometComposerLocationTaggingSprout","PagesCometComposerCrisisBusinessUpdateSprout","CometComposerMagicUploadsSprout","CometComposerUploadMediaSprout","PagesCometComposerGetMessagesSprout","PagesCometComposerGetWhatsAppMessagesSprout","PagesCometComposerCallNowSprout","CometComposerMinutiaeSprout","PagesCometComposerBrandedContentSprout","PagesCometComposerBCSupportSprout","PagesCometComposerWoodhengeSupportSprout","PagesCometComposerProductTagSprout","CometComposerFundraiserForStorySprout","CometComposerWithTaggingSprout","PagesCometComposerLocalAlertSprout","PagesCometComposerVotingAlertSprout","PagesCometComposerCovidAlertsSprout","PagesCometComposerGiftCardSprout","CometComposerAMASprout","PagesCometComposerBreakingNewsSprout","PagesCometComposerQuiltsSprout"]}],concreteType:null,kind:"LinkedField",name:"sprouts",plural:!0,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"ComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerCrisisBusinessUpdateSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerCrisisBusinessUpdateSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"CometComposerMagicUploadsMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"CometComposerUploadMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerCallNowSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerCallNowSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"ComposerTabbedMinutiaeSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerBrandedContentSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerBrandedContentSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerBCSupportSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerBCSupportSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerWoodhengeSupportSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerWoodhengeSupportSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerProductTagSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerProductTagSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"FundraiserForStorySprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerFundraiserForStorySprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"CometComposerWithTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerLocalAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerLocalAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerVotingAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerVotingAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerCovidAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerCovidAlertsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerGiftCardSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerGiftCardSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"FeedCometComposerAMASprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerAMASprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerBreakingNewsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerBreakingNewsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerQuiltsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerQuiltsSprout",abstractKey:null}],storageKey:'sprouts(supported:["CometComposerLocationTaggingSprout","PagesCometComposerCrisisBusinessUpdateSprout","CometComposerMagicUploadsSprout","CometComposerUploadMediaSprout","PagesCometComposerGetMessagesSprout","PagesCometComposerGetWhatsAppMessagesSprout","PagesCometComposerCallNowSprout","CometComposerMinutiaeSprout","PagesCometComposerBrandedContentSprout","PagesCometComposerBCSupportSprout","PagesCometComposerWoodhengeSupportSprout","PagesCometComposerProductTagSprout","CometComposerFundraiserForStorySprout","CometComposerWithTaggingSprout","PagesCometComposerLocalAlertSprout","PagesCometComposerVotingAlertSprout","PagesCometComposerCovidAlertsSprout","PagesCometComposerGiftCardSprout","CometComposerAMASprout","PagesCometComposerBreakingNewsSprout","PagesCometComposerQuiltsSprout"])'},{alias:null,args:null,concreteType:"CometComposerDraftJSPlugins",kind:"LinkedField",name:"draftjs_plugins",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["HashtagTypeaheadAndHighlighterPlugin","HashtagHighlighterPlugin"]}],concreteType:null,kind:"LinkedField",name:"hashtag_draftjs_plugin",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"useHashtagComposerDraftJSPlugin_page",fragmentName:"useHashtagComposerDraftJSPlugin_with_typeahead",fragmentPropName:"with_typeahead",kind:"ModuleImport"}],type:"HashtagTypeaheadAndHighlighterPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useHashtagComposerDraftJSPlugin_page",fragmentName:"useHashtagComposerDraftJSPlugin_without_typeahead",fragmentPropName:"without_typeahead",kind:"ModuleImport"}],type:"HashtagHighlighterPlugin",abstractKey:null}],storageKey:'hashtag_draftjs_plugin(supported:["HashtagTypeaheadAndHighlighterPlugin","HashtagHighlighterPlugin"])'}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"post_propagation_warning_banner_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerPostPropagationWarningBanner_page",fragmentName:"PagesCometComposerPostPropagationWarningBannerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometComposerPostPropagationWarningBannerRenderer",abstractKey:null}],storageKey:null}],storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number",storageKey:null},{alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number_country_prefix",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp_display_number",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"category_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_create_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_targeting_ui",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_faith_giving_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_composer_access_token",storageKey:null},{alias:null,args:null,concreteType:"BloodDonationPartner",kind:"LinkedField",name:"blood_donation_partner",plural:!1,selections:[{alias:null,args:null,concreteType:"BloodDonationFacility",kind:"LinkedField",name:"closest_facility",plural:!1,selections:[j,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_booking_method",storageKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_delegate_page_with_linked_profile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_platform_tool",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_pages_composer_cs_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_shop_upgrade_admin_and_page_eligibility",storageKey:null},{alias:"friction_gk",args:[{kind:"Literal",name:"gk_name",value:"fb_shops_legacy_shop_product_tagging_friction"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:n,storageKey:'gk_check(gk_name:"fb_shops_legacy_shop_product_tagging_friction")'},{alias:"blocking_gk",args:[{kind:"Literal",name:"gk_name",value:"fb_shops_legacy_shop_product_tagging_block"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:n,storageKey:'gk_check(gk_name:"fb_shops_legacy_shop_product_tagging_block")'},{alias:"use_whatsapp_deeplinks_plugin",args:[{kind:"Literal",name:"qe_universe",value:"page_composer_whatsapp_deeplinks"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"show_whatsapp_deeplink_typeahead"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"show_whatsapp_deeplink_typeahead")'}],storageKey:'qe_check(qe_universe:"page_composer_whatsapp_deeplinks")'},{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"commerce_merchant_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_user_manage_offers",storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"PageAdminShareToGroupsList",kind:"LinkedField",name:"page_admin_share_to_groups_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_suggested_groups",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"globe_focus",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[i,d,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"fan_subs_composer_supporter_only_audience"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:n,storageKey:'gk_check(gk_name:"fan_subs_composer_supporter_only_audience")'},{alias:null,args:null,concreteType:"WoodhengeCreatorInfo",kind:"LinkedField",name:"woodhenge_creator_info",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"consideration_page",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tiers",plural:!0,selections:[i,{alias:null,args:null,concreteType:"WoodhengeTierBenefit",kind:"LinkedField",name:"benefits",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"benefit_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WoodhengeCreator",kind:"LinkedField",name:"woodhenge_creator",plural:!1,selections:[d,{alias:null,args:null,concreteType:"WoodhengeCreatorPackagesConnection",kind:"LinkedField",name:"packages",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBFanSubsPackage",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"benefit_type",value:"EXCLUSIVE_CONTENT"}],kind:"ScalarField",name:"has_benefit_type",storageKey:'has_benefit_type(benefit_type:"EXCLUSIVE_CONTENT")'},d],storageKey:null}],storageKey:null}],storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"render_location",variableName:"privacySelectorRenderLocation"}],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_selector",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LWIAutoBoost",kind:"LinkedField",name:"lwi_auto_boost",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"id"}],concreteType:"AdsLWIAutoBoostSettingsWrapper",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_mark_eligible",storageKey:null},d],storageKey:null}],storageKey:null}]},params:{id:"4397020107043631",metadata:{},name:"PagesCometComposerDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PagesCometComposerFooterToggle_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],kind:"Fragment",metadata:null,name:"PagesCometComposerFooterToggle_query",selections:[{alias:null,args:null,concreteType:"LWIAutoBoost",kind:"LinkedField",name:"lwi_auto_boost",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"pageID"}],concreteType:"AdsLWIAutoBoostSettingsWrapper",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_mark_eligible",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerPostPropagationWarningBanner_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerPostPropagationWarningBanner_page",selections:[{alias:null,args:null,concreteType:"CometPageAdminComposerRenderer",kind:"LinkedField",name:"comet_page_composer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"post_propagation_warning_banner_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerPostPropagationWarningBanner_page",fragmentName:"PagesCometComposerPostPropagationWarningBannerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometComposerPostPropagationWarningBannerRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerPrivacySelector_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"PagesCometComposerPrivacySelector_data",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesCometComposerPublicPrivacyIndicator_viewer"}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"}],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_selector",plural:!1,selections:[{args:[{kind:"Variable",name:"renderLocation",variableName:"renderLocation"}],kind:"FragmentSpread",name:"PagesCometComposerPublicPrivacyIndicator_scope"}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerRoot_autoBoostQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],kind:"Fragment",metadata:null,name:"PagesCometComposerRoot_autoBoostQuery",selections:[{args:[{kind:"Variable",name:"pageID",variableName:"pageID"}],kind:"FragmentSpread",name:"PagesCometComposer_autoBoostQuery"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerRoot_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerRoot_page",selections:[{args:null,kind:"FragmentSpread",name:"PagesCometComposer_page"}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerRoot_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerRoot_profile",selections:[{args:null,kind:"FragmentSpread",name:"PagesCometComposer_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("PagesCometComposerRoot_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"}],kind:"Fragment",metadata:null,name:"PagesCometComposerRoot_query",selections:[{args:[{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"}],kind:"FragmentSpread",name:"PagesCometComposer_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerToolbarRelay3d_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerToolbarRelay3d_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"CometPageAdminComposerRenderer",kind:"LinkedField",name:"comet_page_composer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometComposerLocationTaggingSprout","PagesCometComposerCrisisBusinessUpdateSprout","CometComposerMagicUploadsSprout","CometComposerUploadMediaSprout","PagesCometComposerGetMessagesSprout","PagesCometComposerGetWhatsAppMessagesSprout","PagesCometComposerCallNowSprout","CometComposerMinutiaeSprout","PagesCometComposerBrandedContentSprout","PagesCometComposerBCSupportSprout","PagesCometComposerWoodhengeSupportSprout","PagesCometComposerProductTagSprout","CometComposerFundraiserForStorySprout","CometComposerWithTaggingSprout","PagesCometComposerLocalAlertSprout","PagesCometComposerVotingAlertSprout","PagesCometComposerCovidAlertsSprout","PagesCometComposerGiftCardSprout","CometComposerAMASprout","PagesCometComposerBreakingNewsSprout","PagesCometComposerQuiltsSprout"]}],concreteType:null,kind:"LinkedField",name:"sprouts",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"ComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerCrisisBusinessUpdateSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerCrisisBusinessUpdateSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"CometComposerMagicUploadsMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"CometComposerUploadMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerCallNowSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerCallNowSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"ComposerTabbedMinutiaeSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerBrandedContentSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerBrandedContentSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerBCSupportSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerBCSupportSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerWoodhengeSupportSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerWoodhengeSupportSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerProductTagSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerProductTagSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"FundraiserForStorySprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerFundraiserForStorySprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"CometComposerWithTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerLocalAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerLocalAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerVotingAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerVotingAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerCovidAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerCovidAlertsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerGiftCardSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerGiftCardSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"FeedCometComposerAMASprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerAMASprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerBreakingNewsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerBreakingNewsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerToolbarRelay3d_page",fragmentName:"PagesCometComposerQuiltsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"PagesCometComposerQuiltsSprout",abstractKey:null}],storageKey:'sprouts(supported:["CometComposerLocationTaggingSprout","PagesCometComposerCrisisBusinessUpdateSprout","CometComposerMagicUploadsSprout","CometComposerUploadMediaSprout","PagesCometComposerGetMessagesSprout","PagesCometComposerGetWhatsAppMessagesSprout","PagesCometComposerCallNowSprout","CometComposerMinutiaeSprout","PagesCometComposerBrandedContentSprout","PagesCometComposerBCSupportSprout","PagesCometComposerWoodhengeSupportSprout","PagesCometComposerProductTagSprout","CometComposerFundraiserForStorySprout","CometComposerWithTaggingSprout","PagesCometComposerLocalAlertSprout","PagesCometComposerVotingAlertSprout","PagesCometComposerCovidAlertsSprout","PagesCometComposerGiftCardSprout","CometComposerAMASprout","PagesCometComposerBreakingNewsSprout","PagesCometComposerQuiltsSprout"])'}],storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposer_autoBoostQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],kind:"Fragment",metadata:null,name:"PagesCometComposer_autoBoostQuery",selections:[{args:[{kind:"Variable",name:"pageID",variableName:"pageID"}],kind:"FragmentSpread",name:"PagesCometComposerFooterToggle_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposer_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposer_page",selections:[{args:null,kind:"FragmentSpread",name:"PagesCometComposerFooter_page"},{args:null,kind:"FragmentSpread",name:"PagesCometComposerToolbarRelay3d_page"},{args:null,kind:"FragmentSpread",name:"PagesComposerCometInterceptionPlugin_page"},{args:null,kind:"FragmentSpread",name:"CometComposerWhatsAppDeeplinkPlugin_page"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_create_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_targeting_ui",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_faith_giving_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_composer_access_token",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometComposerStatusAreaRelayWithSwatches_profile"},{args:null,kind:"FragmentSpread",name:"CometComposerBloodDonationsAttachmentArea_page"},{args:null,kind:"FragmentSpread",name:"useHashtagComposerDraftJSPlugin_page"},{args:null,kind:"FragmentSpread",name:"PagesCometComposerPostPropagationWarningBanner_page"},{args:null,kind:"FragmentSpread",name:"PagesCometComposerPublishingToolBanner_page"},{kind:"InlineDataFragmentSpread",name:"FBShopsLegacyUpgradeProductTaggingUtils_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_shop_upgrade_admin_and_page_eligibility",storageKey:null},{alias:"friction_gk",args:[{kind:"Literal",name:"gk_name",value:"fb_shops_legacy_shop_product_tagging_friction"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:a,storageKey:'gk_check(gk_name:"fb_shops_legacy_shop_product_tagging_friction")'},{alias:"blocking_gk",args:[{kind:"Literal",name:"gk_name",value:"fb_shops_legacy_shop_product_tagging_block"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:a,storageKey:'gk_check(gk_name:"fb_shops_legacy_shop_product_tagging_block")'}]},{alias:"use_whatsapp_deeplinks_plugin",args:[{kind:"Literal",name:"qe_universe",value:"page_composer_whatsapp_deeplinks"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"show_whatsapp_deeplink_typeahead"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"show_whatsapp_deeplink_typeahead")'}],storageKey:'qe_check(qe_universe:"page_composer_whatsapp_deeplinks")'},{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"commerce_merchant_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_user_manage_offers",storageKey:null}],storageKey:null}],type:"Page",abstractKey:null}}();e.exports=a}),null);
__d("PagesCometComposer_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"PagesCometComposer_profile",selections:[{args:[{kind:"Variable",name:"scale",variableName:"scale"}],kind:"FragmentSpread",name:"CometComposerMinutiaeBar_profile"},{args:null,kind:"FragmentSpread",name:"PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("PagesCometComposer_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"PagesCometComposer_query",selections:[{args:[{kind:"Variable",name:"renderLocation",variableName:"renderLocation"}],kind:"FragmentSpread",name:"PagesCometComposerPrivacySelector_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerFooter_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerFooter_page",selections:[{alias:null,args:null,concreteType:"CometPageAdminComposerRenderer",kind:"LinkedField",name:"comet_page_composer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["PagesCometComposerFooterWithPostAndScheduleButtons","PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons"]}],concreteType:null,kind:"LinkedField",name:"submit_buttons_footer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerFooter_page",fragmentName:"PagesCometComposerFooterWithPostAndScheduleButtons_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PagesCometComposerFooterWithPostAndScheduleButtons",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"PagesCometComposerFooter_page",fragmentName:"PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons",abstractKey:null}],storageKey:'submit_buttons_footer(supported:["PagesCometComposerFooterWithPostAndScheduleButtons","PagesCometComposerFooterWithPostAndPaidContentAndScheduleButtons"])'}],storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("PagesCometShareToGroupsDialogQuery$Parameters",["PagesCometShareToGroupsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PagesCometShareToGroupsDialogQuery_facebookRelayOperation"),metadata:{},name:"PagesCometShareToGroupsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useAfterPostPageShareToGroups_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAfterPostPageShareToGroups_page",selections:[{alias:null,args:null,concreteType:"PageAdminShareToGroupsList",kind:"LinkedField",name:"page_admin_share_to_groups_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_suggested_groups",storageKey:null}],storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("useHashtagComposerDraftJSPlugin_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHashtagComposerDraftJSPlugin_page",selections:[{alias:null,args:null,concreteType:"CometPageAdminComposerRenderer",kind:"LinkedField",name:"comet_page_composer",plural:!1,selections:[{alias:null,args:null,concreteType:"CometComposerDraftJSPlugins",kind:"LinkedField",name:"draftjs_plugins",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["HashtagTypeaheadAndHighlighterPlugin","HashtagHighlighterPlugin"]}],concreteType:null,kind:"LinkedField",name:"hashtag_draftjs_plugin",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"useHashtagComposerDraftJSPlugin_page",fragmentName:"useHashtagComposerDraftJSPlugin_with_typeahead",fragmentPropName:"with_typeahead",kind:"ModuleImport"}],type:"HashtagTypeaheadAndHighlighterPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useHashtagComposerDraftJSPlugin_page",fragmentName:"useHashtagComposerDraftJSPlugin_without_typeahead",fragmentPropName:"without_typeahead",kind:"ModuleImport"}],type:"HashtagHighlighterPlugin",abstractKey:null}],storageKey:'hashtag_draftjs_plugin(supported:["HashtagTypeaheadAndHighlighterPlugin","HashtagHighlighterPlugin"])'}],storageKey:null}],storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("useHashtagComposerDraftJSPlugin_with_typeahead.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHashtagComposerDraftJSPlugin_with_typeahead",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"HashtagTypeaheadAndHighlighterPlugin",abstractKey:null};e.exports=a}),null);
__d("useHashtagComposerDraftJSPlugin_without_typeahead.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHashtagComposerDraftJSPlugin_without_typeahead",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"HashtagHighlighterPlugin",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerPublicPrivacyIndicator_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"PagesCometComposerPublicPrivacyIndicator_scope",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PrivacyRowInput_fragment"}],storageKey:null}],storageKey:null}],type:"PrivacyScope",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerPublicPrivacyIndicator_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerPublicPrivacyIndicator_viewer",selections:[{args:null,kind:"FragmentSpread",name:"PagesCometComposerPublicPrivacySelectorMenu_viewer"},{args:null,kind:"FragmentSpread",name:"useCometFocusedGlobeFilled16_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useAfterPostForRetroOffer",["CometRelay","JSResourceForInteraction","useAfterPostForRetroOffer_page.graphql","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("CometRetroOfferAfterPostDialog.react").__setRef("useAfterPostForRetroOffer");function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useAfterPostForRetroOffer_page.graphql"),a);var f=c("useCometLazyDialog")(i),g=f[0],j=(a=a==null?void 0:(f=a.commerce_merchant_settings)==null?void 0:f.id)!=null?a:"";return j===""||e!=="page"?function(){return!1}:function(a){if(a!==!0)return!1;window.requestAnimationFrame(function(){g({cmsID:j,onClose:function(){}})});return!0}}g["default"]=a}),98);
__d("PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react",["CometRelay","JSResourceForInteraction","PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile.graphql","cr:12256","lazyLoadComponent","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("qex")._("123")?null:c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerMediaAttachmentArea.react").__setRef("PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react"));function a(a){var c=a.additionalAttachments,e=a.composerEntrypoint,f=a.isMediaBeingEdited,g=a.magicUploadsContext,k=a.profileDataKey,l=a.surfaceEntIdentifier,m=a.videoLiteComposerEligible;a=a.videoUploadSource;k=d("CometRelay").useFragment(h!==void 0?h:h=b("PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile.graphql"),k);if(k==null)return null;var n=null;e={mediaUploadLoggingMetadata:{composerEntrypoint:e,source:a},videoLiteComposerEligible:m};b("cr:12256")!=null?n=i.jsx(b("cr:12256"),babelHelpers["extends"]({},e,{magicUploadsContext:g,profile$key:k,surfaceEntIdentifier:l})):j!=null&&(n=i.jsx(j,babelHelpers["extends"]({},e,{isMediaBeingEdited:f,profile$key:k})));return n==null?null:i.jsxs(i.Fragment,{children:[n,c]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BloodDonationPartnerLoggingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b={container_type:"unknown",page_id:"",source_name:"unknown"};c=a(b);g["default"]=c}),98);
__d("useBloodDonationPartnerLogger",["BloodDonationPartnerLoggingContext","react","requireDeferred","useEffectOnce"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=c("requireDeferred")("BloodDonationPartnerClientEventFalcoEvent").__setRef("useBloodDonationPartnerLogger");function k(){var a=i(c("BloodDonationPartnerLoggingContext")),b=h(function(b,c){j.onReady(function(d){d.log(function(){return babelHelpers["extends"]({},a,c,b)})})},[a]);return b}function a(a,b){var d=k();c("useEffectOnce")(function(){d(a,b)})}g.useBloodDonationPartnerLogger=k;g.useLogOnceOnRender=a}),98);
__d("CometComposerBloodDonationsAttachmentArea.react",["ix","BloodDonationPartnerPrimaryBookingMethod","CometBloodDonationAttachmentStrings","CometComposerBloodDonationsAttachmentArea_page.graphql","CometRelay","TetraButton.react","TetraTextPairing.react","fbicon","getJSEnumSafe","react","useBloodDonationPartnerLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useEffect;function a(a){var e,f;a=a.page;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometComposerBloodDonationsAttachmentArea_page.graphql"),a);e=c("getJSEnumSafe")(c("BloodDonationPartnerPrimaryBookingMethod"),a==null?void 0:(e=a.blood_donation_partner)==null?void 0:e.primary_booking_method);e=e==="booking_url";f=a==null?void 0:(f=a.blood_donation_partner)==null?void 0:(f=f.closest_facility)==null?void 0:f.name;var g=a==null?void 0:a.id,l=d("useBloodDonationPartnerLogger").useBloodDonationPartnerLogger();k(function(){var a;l({event:"view",unit_type:"post_cta_attachment"},{container_type:"page_timeline",page_id:(a=g)!=null?a:"",source_name:"page_timeline"})},[l,g]);return j.jsxs("div",{className:"f10w8fjw pybr56ya scb9dxdr dflh9lhu btwxx1t3 j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 t63ysoy8 linmgsc8 hop1g133 opwvks06 ljqcmsvz",children:[j.jsx("div",{className:"ggphbty4 w0hvl6rk fv0vnmcu qjjbsfad buofh1pr btwxx1t3 j83agx80 ll8tlv6m",children:j.jsx(c("TetraTextPairing.react"),{headline:d("CometBloodDonationAttachmentStrings").getAttachmentTitle(),level:3,meta:f!=null?d("CometBloodDonationAttachmentStrings").getFacilityNameWithCategory(f,a==null?void 0:a.category_name):null})}),j.jsx("div",{className:"h676nmdw bi6gxh9e oi9244e8 aov4n071 o8rfisnq",children:j.jsx(c("TetraButton.react"),{disabled:!0,icon:e?d("fbicon")._(h("481115"),16):d("fbicon")._(h("558160"),16),label:e?d("CometBloodDonationAttachmentStrings").getBookNowCTA():d("CometBloodDonationAttachmentStrings").getScheduleCTA(),type:"secondary"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useComposerMaybePushLocalAlertViewOnOpen",["react","useCometComposerPushLocalAlertPage","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,d,e){var f=d?"default":e?"voting":"default",g=d||e,i=c("useCometComposerPushLocalAlertPage")(a,b,f),j=c("useStable")(function(){return i});h(function(){a!=null&&j!=null&&g&&j()},[a,j,g])}g["default"]=a}),98);
__d("CometComposerABTestFooter.react",["TetraText.react","cometABTestingContent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"dati1w0a ihqw7lf3 hv4rvrfc discj3wi",children:h.jsx(c("TetraText.react"),{align:"center",numberOfLines:3,type:"meta3",children:d("cometABTestingContent").AB_TESTING_MAIN_COMPOSER_TEXT})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerCallNowAttachmentPreview.react",["fbt","TetraButton.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.pageCategoryName;a=a.pageName;return i.jsxs("div",{className:"hzruof5a l9j0dhe7 dati1w0a ihqw7lf3 hv4rvrfc discj3wi i1fnvgqd btwxx1t3 j83agx80 izx4hr6d bn081pho b3i9ofy5 bp9cbjyn",children:[i.jsx("div",{className:"hpfvmrgz buofh1pr",children:i.jsx(c("TetraTextPairing.react"),{body:b,bodyColor:"secondary",bodyLineLimit:1,headline:a,headlineLineLimit:2,level:3})}),i.jsx("div",{className:"up7ckamt taijpn5t cbu4d94t j83agx80 tkr6xdv7",children:i.jsx(c("TetraButton.react"),{label:h._(/*FBT_CALL*/"Ligar agora"/*FBT_CALL*/),onPress:function(){},size:"medium",type:"secondary"},"cta_icon_button")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerCallNowAttachmentArea.react",["CometComposerCallNowAttachmentPreview.react","CometComposerGenericAttachmentPendingPreview.react","CometComposerHeadlessMediaUploader.react","CometPlaceholder.react","ComposerCometMediaAttachmentCollage.react","ComposerMediaAttachmentUploadFileButton.react","makeMediaAttachmentReadyForPreview","react","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.callNowMetadata;b=b===void 0?null:b;var d=a.mediaAttachments,e=a.mediaUploadLoggingMetadata,f=a.pageCategoryName;a=a.pageName;b=(b==null?void 0:b.isCallNowPost)||!1;return b===!0?h.jsx("div",{className:"k4urcfbm idiwt2bm",children:h.jsxs(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometComposerGenericAttachmentPendingPreview.react"),{}),children:[h.jsxs(h.Fragment,{children:[h.jsx(c("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:e}),d!=null?h.jsx(c("ComposerCometMediaAttachmentCollage.react"),{disableVideoUploads:!0,inComposer:!0,mediaAttachments:d.map(function(a){switch(a.state){case"PREEXISTING":return a;default:return a.file&&a.fileType!=="UNKNOWN"?a:null}}).filter(Boolean).map(c("makeMediaAttachmentReadyForPreview")),mediaUploadLoggingMetadata:e,removeBorderRadiusBottomStyle:!0}):h.jsx(c("ComposerMediaAttachmentUploadFileButton.react"),{disableVideo:!0})]}),h.jsx(c("CometComposerCallNowAttachmentPreview.react"),{pageCategoryName:f,pageName:a})]})}):null}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{callNowMetadata:a.callNowMetadata,mediaAttachments:a.mediaAttachments}});g["default"]=b}),98);
__d("CometPagePostEditFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743391");c=b("FalcoLoggerInternal").create("comet_page_post_edit",a);e.exports=c}),null);
__d("PagesCometComposerFooter.react",["CometComposerOnSubmitContext","CometPlaceholder.react","CometRelay","PagesCometComposerFooter_page.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useContext;function a(a){var e=a.canSchedule,f=a.onSubmit,g=a.page$key;a=a.submitText;var k=j(c("CometComposerOnSubmitContext"));k=k.isSaving;g=d("CometRelay").useFragment(h!==void 0?h:h=b("PagesCometComposerFooter_page.graphql"),g);g=(g=g.comet_page_composer)==null?void 0:g.submit_buttons_footer;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:g,props:{canSchedule:e,footer$key:g,isDisabled:k,onSubmit:f,submitText:a}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PagesCometComposerFooterAddOn.react",["CometComposerABTestFooter.react","CometComposerFooterAddOnFilterer.react","cr:1384013","react","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.isABTest,e=a.isActorAdmin,f=a.localAlert;a=a.sessionID;return h.jsxs(c("CometComposerFooterAddOnFilterer.react"),{children:[e&&b("cr:1384013")!=null&&f&&h.jsx(b("cr:1384013"),{localAlert:f,sessionID:a}),d!==null&&d!==void 0&&d&&h.jsx(c("CometComposerABTestFooter.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){var b;return{isABTest:(b=a.abTestData)==null?void 0:b.isABTest,localAlert:a.localAlert}});g["default"]=e}),98);
__d("PagesCometComposerFooterToggle.react",["fbt","ix","CometDeferredPopoverTrigger.react","CometPressable.react","CometRelay","PagesCometComposerFooterBoostPostToggle.react","PagesCometComposerFooterToggle_query.graphql","TetraAccessoryListCell.react","TetraIcon.react","fbicon","gkx","react","requireDeferred","stylex","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=d("react").useEffect,m=c("requireDeferred")("LWICometTooltip.react").__setRef("PagesCometComposerFooterToggle.react"),n={autoBoostToggleDescription:{display:"j83agx80"},root:{marginBottom:"bi6gxh9e",marginTop:"aov4n071"},tooltip:{marginStart:"kkf49tns",paddingTop:"jwdofwj8"}};function a(a){var e=a.amaMetadata,f=a.boostAfterPosting,g=a.isABTest,o=a.markEligibleForBoosting,p=a.mediaAttachments,q=a.query$key,r=a.setBoostAfterPosting,s=a.setMarkEligibleForBoosting;a=a.videoLiteComposerEligible;q=d("CometRelay").useFragment(j!==void 0?j:j=b("PagesCometComposerFooterToggle_query.graphql"),q);l(function(){(e!=null||g===!0)&&r(!1)},[e,g,r]);if(a&&(p==null?void 0:p.length)===1&&p[0].fileType==="VIDEO"&&!c("gkx")("1859967")||e!=null)return null;a=(q=q==null?void 0:(a=q.lwi_auto_boost)==null?void 0:(p=a.settings)==null?void 0:p.is_mark_eligible)!=null?q:!1;return k.jsx("div",{className:c("stylex")(n.root),children:a?k.jsx(c("TetraAccessoryListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("485308"),20),size:36,type:"contained-icon"},addOnSecondary:{onChange:function(){return s(!o)},type:"switch",value:o},headline:h._(/*FBT_CALL*/"Turbinar automaticamente esta publica\u00e7\u00e3o"/*FBT_CALL*/),level:3,meta:k.jsxs("div",{className:c("stylex")(n.autoBoostToggleDescription),children:[h._(/*FBT_CALL*/"Esta publica\u00e7\u00e3o ser\u00e1 turbinada se tiver um bom desempenho"/*FBT_CALL*/),k.jsx(c("CometDeferredPopoverTrigger.react"),{align:"end",popoverProps:{body:h._(/*FBT_CALL*/"Esta publica\u00e7\u00e3o ser\u00e1 turbinada automaticamente caso ela apresente um desempenho melhor que outras publica\u00e7\u00f5es."/*FBT_CALL*/)},popoverResource:m,position:"above",children:function(a,b){return k.jsx(c("CometPressable.react"),{xstyle:n.tooltip,children:k.jsx(c("TetraIcon.react"),{"aria-label":h._(/*FBT_CALL*/"Mais informa\u00e7\u00f5es"/*FBT_CALL*/),color:"tertiary",icon:d("fbicon")._(i("479175"),12),onPress:b,ref:a})})}})]})}):k.jsx(c("PagesCometComposerFooterBoostPostToggle.react"),{boostAfterPosting:f,isABTest:g,setBoostAfterPosting:r})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){var b;return{amaMetadata:a.amaMetadata,isABTest:(b=a.abTestData)==null?void 0:b.isABTest,mediaAttachments:a.mediaAttachments}});g["default"]=e}),98);
__d("PagesCometComposerPostPropagationWarningBanner.react",["CometPlaceholder.react","CometRelay","PagesCometComposerPostPropagationWarningBanner_page.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e;a=a.page$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PagesCometComposerPostPropagationWarningBanner_page.graphql"),a);return((e=a.comet_page_composer)==null?void 0:e.post_propagation_warning_banner_renderer)==null?null:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{fallback:null,match:(e=a.comet_page_composer)==null?void 0:e.post_propagation_warning_banner_renderer})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PagesCometComposerPrivacySelectorButton.react",["CometPressable.react","TetraIcon.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometPressable.react"),{disabled:a.disabled,onPress:a.onPress,overlayDisabled:!0,children:h.jsx(c("TetraText.react"),{color:"secondary",type:"bodyLink4",children:h.jsxs("div",{className:"e5nlhep0 ecm0bbzt scb9dxdr dflh9lhu taijpn5t j83agx80 kzx2olss aot14ch1 p86d2i9g beltcj47 tdjehn4e bp9cbjyn",children:[h.jsx(c("TetraIcon.react"),{color:"secondary",icon:a.icon,size:16}),h.jsx("span",{className:"dwxx2s2f kady6ibp"}),a.label]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PagesCometComposerPublicPrivacyIndicator.react",["fbt","CometPlaceholder.react","CometProgressIndicator.react","CometRelay","JSResourceForInteraction","PagesCometComposerPrivacySelectorButton.react","PagesCometComposerPrivacySelectorUtils","PagesCometComposerPublicPrivacyIndicator_scope.graphql","PagesCometComposerPublicPrivacyIndicator_viewer.graphql","PrivacyRowInput","lazyLoadComponent","react","unrecoverableViolation","useCometComposerPushPage","useCometFocusedGlobeFilled16","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react"),l=d("react").useEffect,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("PagesCometComposerPublicPrivacySelectorMenu.react").__setRef("PagesCometComposerPublicPrivacyIndicator.react"));function a(a){var e=a.audience,f=a.canViewerSeeTargetingUI,g=a.disabled,n=a.scope,o=a.targetedPrivacyData,p=a.viewer;a=babelHelpers.objectWithoutPropertiesLoose(a,["audience","canViewerSeeTargetingUI","disabled","scope","targetedPrivacyData","viewer"]);var q=d("CometRelay").useFragment(i!==void 0?i:i=b("PagesCometComposerPublicPrivacyIndicator_viewer.graphql"),p);p=d("CometRelay").useFragment(j!==void 0?j:j=b("PagesCometComposerPublicPrivacyIndicator_scope.graphql"),n);p=p==null?void 0:(n=p.selected_option)==null?void 0:n.privacy_row_input;var r=d("PrivacyRowInput").usePrivacyRowInput(p),s=a.onPrivacyChange;l(function(){var a;(e==null?void 0:(a=e.privacy)==null?void 0:a.privacy_targeting)==null&&!g&&s&&s({privacyRowInput:r,type:"init"})},[g,s]);var t=c("useCometComposerPushPage")(),u=o!=null?"restricted_audience":(e==null?void 0:(n=e.privacy)==null?void 0:n.privacy_targeting)!=null?"supporters_only":"public";if(q==null)throw c("unrecoverableViolation")("Viewer cannot be null in privacy indicator","pages_consumer_experience_www");p=c("useCometFocusedGlobeFilled16")(q);return k.jsx(c("PagesCometComposerPrivacySelectorButton.react"),{disabled:g||t==null||!f,icon:d("PagesCometComposerPrivacySelectorUtils").getPrivacyOptionIcon(u,p),label:d("PagesCometComposerPrivacySelectorUtils").getPrivacyOptionLabel(u),onPress:function(){t!=null&&t(h._(/*FBT_CALL*/"Selecionar p\u00fablico"/*FBT_CALL*/),function(a){a=a.onReturn;return k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx("div",{className:"oh7imozk taijpn5t d23ldmr1 j83agx80 bp9cbjyn",children:k.jsx(c("CometProgressIndicator.react"),{})}),children:k.jsx(m,{onPrivacyChange:s,onSelect:a,pushPage:t,selectedType:u,viewer:q})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{audience:a.audience,targetedPrivacyData:a.targetedPrivacyData}});g["default"]=e}),98);
__d("PagesCometComposerPrivacySelector.react",["CometRelay","PagesCometComposerPrivacySelector_data.graphql","PagesCometComposerPublicPrivacyIndicator.react","coercePrivacyData","react","recoverableViolation","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useCallback;function k(a,b){a({audience:{privacy:c("coercePrivacyData")(b)},type:"update_audience"})}function l(a,b){switch(b.type){case"update_audience":return babelHelpers["extends"]({},a,{audience:b.audience})}return a}function a(a){var e=a.canViewerSeeTargetingUI,f=a.data;a=a.disabled;c("useComposerViewStateReducer")(l);var g=c("useComposerViewStateDispatcher")(),m=j(function(a){a.type==="init"||a.type==="success"?k(g,a.privacyRowInput):a.type==="error"?k(g,null):a.type},[g]);f=d("CometRelay").useFragment(h!==void 0?h:h=b("PagesCometComposerPrivacySelector_data.graphql"),f);var n=f==null?void 0:f.privacy_selector;if(n==null){c("recoverableViolation")("PagesCometComposerPrivacySelector failed to load a PrivacyScope","comet_privacy_selector");return null}return i.jsx(c("PagesCometComposerPublicPrivacyIndicator.react"),{canViewerSeeTargetingUI:e,disabled:a,onPrivacyChange:m,renderLocation:"COMET_COMPOSER",scope:n,viewer:f==null?void 0:f.viewer})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometComposerPushConnectWhatsAppPage",["fbt","CometComposerGetWhatsAppMessagesVerificationFlowContainer.react","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a,b){var d=c("useCometComposerPushPage")();return d==null||b==null?null:function(){d(h._(/*FBT_CALL*/"Conectar WhatsApp"/*FBT_CALL*/),function(d){d=d.onReturn;return i.jsx(c("CometComposerGetWhatsAppMessagesVerificationFlowContainer.react"),{addAttachment:a,onClose:d,pageID:b})})}}g["default"]=a}),98);
__d("useComposerMaybePushConnectWhatsAppOnOpen",["react","useCometComposerPushConnectWhatsAppPage","useComposerViewStateDispatcher","useStable"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a,b){var d=c("useComposerViewStateDispatcher")(),e=h(function(){d({type:"ADD_GET_WHATSAPP_MESSAGES_BUTTON"}),d({attachmentType:"GET_WHATSAPP_MESSAGES",type:"ACTIVATE_ATTACHMENT_TYPE"})},[d]),f=c("useCometComposerPushConnectWhatsAppPage")(e,b),g=c("useStable")(function(){return f});i(function(){g!=null&&a&&g()},[g,a])}g["default"]=a}),98);
__d("PagesCometComposerToolbarRelay3d.react",["fbt","CometComposerSproutListMatcher.react","CometComposerToolbar.react","CometRelay","PagesCometComposerToolbarRelay3d_page.graphql","TetraText.react","blueVideoComposerReducer","composerAttachmentAreaChecker","composerAttachmentAreaReducer","react","useComposerMaybePushAskMeAnythingViewOnOpen","useComposerMaybePushConnectWhatsAppOnOpen","useComposerMaybePushLocalAlertViewOnOpen","useComposerMaybePushMinutaeViewOnOpen","useComposerMaybePushProductTagViewOnOpen","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useEffect,l=4;function a(a){var e=a.hasMediaAttachment,f=a.isActorAdmin,g=a.isEditing,m=a.onClose,n=a.page$key,o=a.pushedPageOnLoad;a=a.sessionID;c("useComposerViewStateReducer")(d("composerAttachmentAreaReducer").composerAttachmentAreaReducer,c("composerAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("blueVideoComposerReducer"));var p=c("useComposerViewStateDispatcher")();k(function(){p({closeCometComposer:m,isActorAdmin:f,type:"blue_video_composer_init_data"})},[p,f,m]);c("useComposerMaybePushMinutaeViewOnOpen")(o==="feeling");n=d("CometRelay").useFragment(i!==void 0?i:i=b("PagesCometComposerToolbarRelay3d_page.graphql"),n);c("useComposerMaybePushConnectWhatsAppOnOpen")(o==="connect_whatsapp",n==null?void 0:n.id);c("useComposerMaybePushAskMeAnythingViewOnOpen")(o==="ask_me_anything");c("useComposerMaybePushProductTagViewOnOpen")(g,n==null?void 0:n.id,e,o==="product_tagger",a);c("useComposerMaybePushLocalAlertViewOnOpen")(n==null?void 0:n.id,a,o==="local_alert_tagger",o==="voting_alert_tagger");return j.jsxs(c("CometComposerToolbar.react"),{children:[j.jsx("div",{className:"hzawbc8m dhix69tm buofh1pr",children:j.jsx(c("TetraText.react"),{type:"headlineEmphasized4",children:h._(/*FBT_CALL*/"Adicionar \u00e0 sua publica\u00e7\u00e3o"/*FBT_CALL*/)})}),j.jsx(d("CometComposerSproutListMatcher.react").CometComposerSproutListMatcher,{numInlineSprouts:l,sproutProps:{composerType:g?"edit":void 0,onCloseComposer:m,pushedPageOnLoad:o},sprouts:(e=n.comet_page_composer)==null?void 0:e.sprouts,wideContainer:!1})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PagesMediaEligibilityChecker",["CometComposerAttachmentPluginTypes","CometComposerTaggerPluginTypes","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;b=(b=a.attachmentArea)==null?void 0:b.activeAttachmentType;if(b==="MEDIA"){b=a.mediaAttachments;return(b==null?void 0:b.length)===1&&b[0].fileType==="VIDEO"&&c("gkx")("1915661")?new Set([c("CometComposerAttachmentPluginTypes").MEDIA]):new Set([c("CometComposerAttachmentPluginTypes").MEDIA,c("CometComposerTaggerPluginTypes").MEDIA_EDIT])}return new Set()}g["default"]=a}),98);
__d("PagesCometComposerPostMustContainMediaFbt",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*FBT_CALL*/"Voc\u00ea deve incluir uma foto ou um v\u00eddeo para criar uma publica\u00e7\u00e3o"/*FBT_CALL*/);g.PAGES_COMET_COMPOSER_POST_MUST_CONTAIN_MEDIA_FBT=a}),98);
__d("composerValidatePagesCallNowMustContainMedia",["PagesCometComposerPostMustContainMediaFbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.mediaAttachments||[];return((a=a.callNowMetadata)==null?void 0:a.isCallNowPost)===!0&&b.length===0?d("PagesCometComposerPostMustContainMediaFbt").PAGES_COMET_COMPOSER_POST_MUST_CONTAIN_MEDIA_FBT:null}g["default"]=a}),98);
__d("composerValidatePagesGetMessagesMustContainMedia",["PagesCometComposerPostMustContainMediaFbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.mediaAttachments||[];return a.isGetMessagesPost===!0&&b.length===0?a.isGetMessagesPostAttachmentOptional===!0?null:d("PagesCometComposerPostMustContainMediaFbt").PAGES_COMET_COMPOSER_POST_MUST_CONTAIN_MEDIA_FBT:null}g["default"]=a}),98);
__d("composerValidatePagesGetShowtimesMustContainMedia",["PagesCometComposerPostMustContainMediaFbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.mediaAttachments||[];return a.movieInfo!=null&&b.length===0?d("PagesCometComposerPostMustContainMediaFbt").PAGES_COMET_COMPOSER_POST_MUST_CONTAIN_MEDIA_FBT:null}g["default"]=a}),98);
__d("composerValidatePagesGetWhatsAppMessagesMustContainMedia",["PagesCometComposerPostMustContainMediaFbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.mediaAttachments||[];return a.isGetWhatsAppMessagePost===!0&&b.length===0?d("PagesCometComposerPostMustContainMediaFbt").PAGES_COMET_COMPOSER_POST_MUST_CONTAIN_MEDIA_FBT:null}g["default"]=a}),98);
__d("handleCreateABTestIfApplicable",["cr:965"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c,d,e=a.commitData,f=a.environment,g=a.onCloseComposerDialog,h=a.pageID,i=a.videoComposerAccessToken;a=a.viewState;c=(c=a==null?void 0:a.mediaAttachments)!=null?c:[];c=c[0];if(((d=a.abTestData)==null?void 0:d.isABTest)&&b("cr:965")!=null&&c.fileType==="VIDEO"){d=(d=(d=a.abTestData)==null?void 0:d.variantTitles)!=null?d:[];e=(e=e.attachments)!=null?e:[];e=(e=e[0])==null?void 0:(e=e.video)==null?void 0:e.id;c=(c=c.data)==null?void 0:c.title;var j=a.scheduledPostDate;b("cr:965")({accessToken:i,controlTitle:c,environment:f,onCloseComposerDialog:g,pageID:h,scheduledPublishTime:j,variantTitles:d,videoID:e,viewState:a})}}g["default"]=a}),98);
__d("useHashtagComposerDraftJSPlugin.react",["CometRelay","react","useHashtagComposerDraftJSPlugin_page.graphql","useHashtagComposerDraftJSPlugin_with_typeahead.graphql","useHashtagComposerDraftJSPlugin_without_typeahead.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;d("react");h!==void 0?h:h=b("useHashtagComposerDraftJSPlugin_with_typeahead.graphql");i!==void 0?i:i=b("useHashtagComposerDraftJSPlugin_without_typeahead.graphql");function a(a){var c;a=d("CometRelay").useFragment(j!==void 0?j:j=b("useHashtagComposerDraftJSPlugin_page.graphql"),a);return((c=a.comet_page_composer)==null?void 0:(c=c.draftjs_plugins)==null?void 0:c.hashtag_draftjs_plugin)?d("CometRelay").ModuleResource.read((c=a.comet_page_composer)==null?void 0:(a=c.draftjs_plugins)==null?void 0:a.hashtag_draftjs_plugin):null}g["default"]=a}),98);
__d("PagesCometComposer.react",["fbt","ix","BaseMultiStepContainer.react","CometAIProductTagEvaluationLoggingUtils","CometComposer.react","CometComposerAMAAttachmentAreaResource","CometComposerAttachmentArea.react","CometComposerBloodDonationsAttachmentArea.react","CometComposerCallNowAttachmentArea.react","CometComposerDialogLayout.react","CometComposerFooterAttachmentArea.react","CometComposerFooterAttachmentPluginTypes","CometComposerMediaDropTarget.react","CometComposerMinutiaeBar.react","CometComposerMinutiaeBarLoading.react","CometComposerOnSubmitContext","CometComposerPushPageContext","CometComposerSavingIndicatorMask.react","CometComposerServerErrorMessage.react","CometComposerStatusAreaRelayWithSwatches.react","CometComposerViewOnlyFeedAttachmentAreaResource","CometComposerWoodhengeSupportAttachmentAreaResource","CometMediaEditorUtils","CometPagePostEditFalcoEvent","CometPhotoEditorAIProductTagSuggestionTrigger.react","CometPlaceholder.react","CometRelay","CometRouteParams","CometVideoEditorUploadProgress.react","ComposerLinkAttachmentAreaResource","ComposerLocationAttachmentAreaResource","ComposerPaidContentAttachmentAreaResource","ComposerPhoto3dAttachmentAreaResource","FBShopsLegacyUpgradeProductTaggingUtils","FeedComposerCometAnimatedImageAttachmentAreaResource","FeedComposerCometFormattedTextArea.react","FundraiserForStoryAttachmentAreaResource","JSResourceForInteraction","LWICometComposerUtils","PagesCometAdminCompletionMeterUtils","PagesCometAdminOnboardingConstants","PagesCometAdminOnboardingUtils","PagesCometComposerFooter.react","PagesCometComposerFooterAddOn.react","PagesCometComposerFooterToggle.react","PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react","PagesCometComposerPostPropagationWarningBanner.react","PagesCometComposerPrivacySelector.react","PagesCometComposerPublishingToolBanner.react","PagesCometComposerToolbarRelay3d.react","PagesCometComposer_autoBoostQuery.graphql","PagesCometComposer_page.graphql","PagesCometComposer_profile.graphql","PagesCometComposer_query.graphql","PagesMediaEligibilityChecker","QuiltsCometComposerAttachmentAreaResource","SocialLearningComposerModuleTitleInput.react","TCometComposerTarget","TetraIcon.react","XCometPageCommunityTabControllerRouteBuilder","cometComposerAttachmentsEligibilityChecker","cometComposerFooterAttachmentsEligibilityChecker","cometComposerFormattedTextEligibilityChecker","cometComposerTaggerEligibilityChecker","cometComposerValidateNoMediaCurrentlyUploading","cometComposerValidatePhoto3dAttachment","cometPushToast","composerValidatePagesCallNowMustContainMedia","composerValidatePagesGetMessagesMustContainMedia","composerValidatePagesGetShowtimesMustContainMedia","composerValidatePagesGetWhatsAppMessagesMustContainMedia","cr:1772245","cr:1772246","createComposerDeferredPlugin","decorateMultiStepContainerPushPage","deferredLoadComponent","fbicon","getComposerLoggingPayload","getDeferredComposerLogger","getDeferredComposerTransformer","gkx","handleCreateABTestIfApplicable","justknobx","lazyLoadComponent","orEmptyArray","react","requireDeferred","requireDeferredForDisplay","socialLearningModuleTitleValidator","stylex","transformComposerViewStateToCreationData","transformComposerViewStateToMutationData","transformersArrayHelpers","useCometRouterDispatcher","useHandleErrorBySettingState","useHashtagComposerDraftJSPlugin.react","useIsCometOnMobile.hybrid","useStable","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=d("react");e=d("react");var o=e.useCallback,p=e.useMemo,q=e.useState,aa=c("requireDeferred")("ComposerStoryCreateMutation").__setRef("PagesCometComposer.react"),ba=c("requireDeferred")("ComposerStoryEditMutation").__setRef("PagesCometComposer.react"),ca=c("requireDeferred")("cometComposerAMACreationLogger").__setRef("PagesCometComposer.react"),da=c("requireDeferred")("cometComposerInlineSproutsLogger").__setRef("PagesCometComposer.react"),ea=c("requireDeferred")("cometComposerLogger").__setRef("PagesCometComposer.react"),fa=c("requireDeferred")("cometComposerQuiltsCreationLogger").__setRef("PagesCometComposer.react");e=c("requireDeferred")("composerActivityMinutiaeTransform").__setRef("PagesCometComposer.react");var r=c("requireDeferred")("composerAttachmentAreaFeedTransform").__setRef("PagesCometComposer.react"),s=c("requireDeferred")("composerAudienceFeedTransform").__setRef("PagesCometComposer.react"),t=c("requireDeferred")("composerBrandedContentTransform").__setRef("PagesCometComposer.react"),u=c("requireDeferred")("composerBreakingNewsTransform").__setRef("PagesCometComposer.react"),v=c("requireDeferred")("composerCallNowTransform").__setRef("PagesCometComposer.react"),w=c("requireDeferred")("composerFeedAMATransform").__setRef("PagesCometComposer.react"),x=c("requireDeferred")("composerFooterAttachmentAreaFeedTransform").__setRef("PagesCometComposer.react"),y=c("requireDeferred")("composerFormattedTextTransform").__setRef("PagesCometComposer.react"),z=c("requireDeferred")("composerGetMessagesTransform").__setRef("PagesCometComposer.react"),A=c("requireDeferred")("composerGetShowtimesTransform").__setRef("PagesCometComposer.react"),B=c("requireDeferred")("composerGetWhatsAppMessagesTransform").__setRef("PagesCometComposer.react"),C=c("requireDeferred")("composerLocalAlertTransform").__setRef("PagesCometComposer.react"),D=c("requireDeferred")("composerLocationMinutiaeCreationDataTransform").__setRef("PagesCometComposer.react"),E=c("requireDeferred")("composerMessageFeedTransform").__setRef("PagesCometComposer.react"),F=c("requireDeferred")("composerPaidContentTransform").__setRef("PagesCometComposer.react"),G=c("requireDeferred")("composerQuiltsPostTransform").__setRef("PagesCometComposer.react"),H=c("requireDeferred")("composerScheduledPostsTransform").__setRef("PagesCometComposer.react"),I=c("requireDeferred")("composerTargetedPrivacyTransform").__setRef("PagesCometComposer.react"),J=c("requireDeferred")("composerTrackingTransform").__setRef("PagesCometComposer.react"),K=c("requireDeferred")("composerWithTagTransform").__setRef("PagesCometComposer.react"),L=c("requireDeferred")("composerWoodhengeSupportTransform").__setRef("PagesCometComposer.react"),M=c("requireDeferred")("fundraiserForStoryTransform").__setRef("PagesCometComposer.react"),N=c("requireDeferred")("socialLearningModuleForStoryTransform").__setRef("PagesCometComposer.react"),ga=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometComposerClientErrorMessage.react").__setRef("PagesCometComposer.react")),ha=c("lazyLoadComponent")(c("JSResourceForInteraction")("ComposerGetShowtimesAttachmentArea.react").__setRef("PagesCometComposer.react")),ia=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerGetMessagesAttachmentArea.react").__setRef("PagesCometComposer.react")),ja=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerGetWhatsAppMessagesAttachmentArea.react").__setRef("PagesCometComposer.react")),ka=c("lazyLoadComponent")(c("FeedComposerCometAnimatedImageAttachmentAreaResource")),la=c("lazyLoadComponent")(c("FundraiserForStoryAttachmentAreaResource")),ma=c("lazyLoadComponent")(c("ComposerLocationAttachmentAreaResource")),na=c("lazyLoadComponent")(c("ComposerPaidContentAttachmentAreaResource")),oa=c("lazyLoadComponent")(c("ComposerPhoto3dAttachmentAreaResource")),pa=c("lazyLoadComponent")(c("CometComposerAMAAttachmentAreaResource")),qa=c("lazyLoadComponent")(c("ComposerLinkAttachmentAreaResource")),ra=c("createComposerDeferredPlugin")(c("requireDeferred")("FeedComposerCometMentionsPlugin.react").__setRef("PagesCometComposer.react")),sa=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerWhatsAppDeeplinkPlugin.react").__setRef("PagesCometComposer.react")),ta=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerLinksPlugin.react").__setRef("PagesCometComposer.react")),ua=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerMisinformationLinkDetectorPlugin.react").__setRef("PagesCometComposer.react")),va=c("lazyLoadComponent")(c("CometComposerViewOnlyFeedAttachmentAreaResource")),wa=c("lazyLoadComponent")(c("CometComposerWoodhengeSupportAttachmentAreaResource")),xa=c("lazyLoadComponent")(c("QuiltsCometComposerAttachmentAreaResource")),ya=c("createComposerDeferredPlugin")(c("requireDeferred")("PagesComposerCometInterceptionPlugin.react").__setRef("PagesCometComposer.react")),O={attachmentArea:{paddingTop:"jb3vyjys",paddingEnd:"dflh9lhu",paddingBottom:"qt6c0cv9",paddingStart:"scb9dxdr"},composerTextArea:{display:"j83agx80",flexDirection:"cbu4d94t",minHeight:"ss3p3tc4",position:"l9j0dhe7"},error:{marginEnd:"wkznzc2l",marginStart:"dhix69tm"},positionRelative:{position:"l9j0dhe7"},postButton:{boxSizing:"rq0escxv",justifyContent:"i1fnvgqd",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",width:"k4urcfbm"},postButtonWithToolbar:{paddingTop:"discj3wi"}},za=[c("getDeferredComposerTransformer")(J),c("getDeferredComposerTransformer")(L),c("getDeferredComposerTransformer")(r),c("getDeferredComposerTransformer")(x),c("getDeferredComposerTransformer")(s),c("getDeferredComposerTransformer")(E),c("getDeferredComposerTransformer")(H),c("getDeferredComposerTransformer")(v),c("getDeferredComposerTransformer")(z),c("getDeferredComposerTransformer")(A),c("getDeferredComposerTransformer")(B),c("getDeferredComposerTransformer")(K),c("getDeferredComposerTransformer")(e),c("getDeferredComposerTransformer")(D),c("getDeferredComposerTransformer")(y),c("getDeferredComposerTransformer")(t),c("getDeferredComposerTransformer")(F),c("getDeferredComposerTransformer")(M),c("getDeferredComposerTransformer")(I),c("getDeferredComposerTransformer")(C),c("getDeferredComposerTransformer")(w),c("getDeferredComposerTransformer")(G),c("getDeferredComposerTransformer")(u),c("getDeferredComposerTransformer")(N)];function a(a,e){var f=a.autoBoostQuery$key,g=a.beginningViewState,r=a.composerEntrypointRef,s=a.composerType,t=a.headerComponent,u=a.hideFooterToggle,v=u===void 0?!1:u;u=a.hidePublishingTool;u=u===void 0?!1:u;var w=a.isViewerFeed,x=a.mediaUploadLoggingMetadata,y=a.onClose,z=a.onSave,A=a.page$key,B=a.pageID,C=a.profile$key,D=a.pushedPageOnLoad,E=a.query$key;a=a.unalteredBeginningViewState;var F=d("CometRelay").useRelayEnvironment(),G=d("CometRouteParams").useRouteParams(),H=c("useIsCometOnMobile.hybrid")(),I=q(!1),J=I[0],K=I[1];I=c("useHandleErrorBySettingState")();var L=I[0],M=I[1];I=p(function(){return{errorMetadata:L,isSaving:J}},[L,J]);var N=q(G.coupon_offer_id!=null),P=N[0],Aa=N[1];N=q(!1);var Ba=N[0],Ca=N[1],Q=c("useCometRouterDispatcher")();N={isCallNowPost:c("composerValidatePagesCallNowMustContainMedia"),isGetMessagesPost:c("composerValidatePagesGetMessagesMustContainMedia"),isGetWhatsAppMessagesPost:c("composerValidatePagesGetWhatsAppMessagesMustContainMedia"),mediaAttachment:c("cometComposerValidateNoMediaCurrentlyUploading"),movieInfo:c("composerValidatePagesGetShowtimesMustContainMedia"),photo3dAttachment:c("cometComposerValidatePhoto3dAttachment"),titleValidator:c("socialLearningModuleTitleValidator")};var R=s==="edit",Da=o(function(){K(!1)},[]),Ea=o(function(){K(!1)},[]),S=d("CometRelay").useFragment(j!==void 0?j:j=b("PagesCometComposer_page.graphql"),A),Fa=d("CometRelay").useFragment(k!==void 0?k:k=b("PagesCometComposer_profile.graphql"),C),Ga=d("CometRelay").useFragment(l!==void 0?l:l=b("PagesCometComposer_query.graphql"),E),Ha=d("CometRelay").useFragment(m!==void 0?m:m=b("PagesCometComposer_autoBoostQuery.graphql"),f),T=p(function(){switch(r){case"pages_news_feed":return{UFI2CommentsProvider_commentsKey:"PagesNewsFeedCometRootQuery",feedLocation:"PAGE",feedbackSource:0,renderLocation:"pages_feed"};case"pages_social_learning":return{UFI2CommentsProvider_commentsKey:"CometSinglePageSocialLearningConsumptionRootQuery",feedLocation:"GROUP_LEARNING_COURSE_UNIT_FEED",feedbackSource:0,renderLocation:"group_units"};default:return{UFI2CommentsProvider_commentsKey:"CometSinglePageContentContainerFeedQuery",feedLocation:"PAGE_TIMELINE",feedbackSource:22,renderLocation:"timeline"}}},[r]),U=S.can_viewer_create_content===!0,Ia=S.is_page_faith_giving_eligible,Ja=(C=(A=S.commerce_merchant_settings)==null?void 0:A.can_user_manage_offers)!=null?C:!1,Ka=(r==="pages_feed"||r==="pages_video_tab")&&!R&&c("gkx")("1584413"),La=(r==="edit_composer"||r==="pages_video_tab")&&R&&c("gkx")("1915661"),V=U&&(Ka||La),Ma=o(function(){d("cometPushToast").cometPushToast({action:{label:h._(/*FBT_CALL*/"Ver publica\u00e7\u00e3o"/*FBT_CALL*/),onPress:function(){if(Q!=null){var a;Q.go(c("XCometPageCommunityTabControllerRouteBuilder").buildURL({vanity:(a=S.uri_token)!=null?a:""}),{})}}},icon:n.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("498146"),20),size:20}),message:h._(/*FBT_CALL*/"Voc\u00ea escreveu na P\u00e1gina de {page-name}."/*FBT_CALL*/,[h._param("page-name",S.name)])})},[S.name,S.uri_token,Q]),Na=function(a,b,c,e,f){b=d("CometRelay").ConnectionHandler.getConnection(b,e,f);if(b==null)return;e=a.getLinkedRecord(c);if(e==null){b.invalidateRecord();return}d("CometRelay").ConnectionHandler.insertEdgeBefore(b,e)},W=b("cr:1772246")(),X=o(function(a,b,d,e){var f;if(W&&V&&((f=a.mediaAttachments)==null?void 0:f.length)===1&&a.mediaAttachments[0].fileType==="VIDEO"){var g,h;f=c("orEmptyArray")(d==null?void 0:d.attachments);f=(f=f[0])==null?void 0:f.video;var i=f==null?void 0:f.additional_video_metadata;g=(g=f==null?void 0:f.id)!=null?g:"";i={description:(h=d==null?void 0:(h=d.message)==null?void 0:h.text)!=null?h:"",isScheduled:(d==null?void 0:(h=d.unpublished_content_data)==null?void 0:h.unpublished_content_type)==="SCHEDULED"?"1":"0",smart_crop_aspect_ratio:(h=i==null?void 0:(d=i.smartCropMetadata)==null?void 0:d.aspect_ratio)!=null?h:"",smart_crop_mobile_only:(h=i==null?void 0:(d=i.smartCropMetadata)==null?void 0:d.mobile_only.toString())!=null?h:"",tags:(d=JSON.stringify(i==null?void 0:i.videoTags))!=null?d:"",thumbnail_file_id:(h=i==null?void 0:i.thumbnailFileID)!=null?h:"",thumbnail_type:(d=i==null?void 0:i.thumbnailType)!=null?d:"",title:(h=f==null?void 0:f.title)!=null?h:""};d=W.logEvent;e?d(b,{error_message:e.message,extraData:i,videoID:g}):d(b,{extraData:i,videoID:g},a)}},[W,V]),Y=o(function(a,b,e,f){var h;if(W&&V&&((h=a.mediaAttachments)==null?void 0:h.length)===1&&a.mediaAttachments[0].fileType==="VIDEO"&&(g==null?void 0:(h=g.mediaAttachments)==null?void 0:h.length)===1){h=(h=(h=c("orEmptyArray")(e==null?void 0:e.attachments)[0])==null?void 0:(h=h.video)==null?void 0:h.id)!=null?h:"";e=d("CometMediaEditorUtils").checkChangesForVideoData(e,g);var i=W.logEvent;f?i(b,{error_message:f.message,extraData:e,videoID:h}):i(b,{extraData:e,videoID:h},a)}},[g,W,V]);E=c("useStable")(function(){return c("uuid")().toString()});var Z=(f=g==null?void 0:g.creationSessionID)!=null?f:E;A=p(function(){return babelHelpers["extends"]({},g,{creationSessionID:Z})},[g,Z]);var Oa=G.aymt_tip_source!=null?String(G.aymt_tip_source):null;C=o(function(a,e){var f=a.storyID;c("CometPagePostEditFalcoEvent").log(function(){return{page_id:B}});var h={logging:{composer_session_id:Z,referral_code:Oa}};R&&f!=null?c("transformComposerViewStateToMutationData")(g,a,d("transformersArrayHelpers").transformersArrayToMutationDataTransformers(za),babelHelpers["extends"]({story_id:f},h),function(c){ba.onReady(function(d){d=d.commit;b("cr:1772245")&&Y(a,b("cr:1772245").SAVE_EDITED_VIDEO_ATTEMPT,c);d(F,c,{onCompleted:function(d){b("cr:1772245")&&Y(a,b("cr:1772245").SAVE_EDITED_VIDEO_SUCCESS,c),K(!1),y&&y(a,d),z&&z(a,d)},onError:function(d){M(d),b("cr:1772245")&&Y(a,b("cr:1772245").SAVE_EDITED_VIDEO_FAILURE,c,d),K(!1)},variables:{feedLocation:T.feedLocation,renderLocation:T.renderLocation}})})}):(d("CometAIProductTagEvaluationLoggingUtils").logAIProductTagsEvaluationData(B,a,!1),c("transformComposerViewStateToCreationData")(a,e,d("transformersArrayHelpers").transformersArrayToCreationDataTransformers(za),babelHelpers["extends"]({source:"WWW"},h),function(e){var f=babelHelpers["extends"]({},e);U||(f=babelHelpers["extends"]({},f,{audience:{to_id:B}}));((e=a.abTestData)==null?void 0:e.isABTest)&&(f=babelHelpers["extends"]({},f,{unpublished_content_data:{unpublished_content_type:"DRAFT"}}));aa.onReady(function(e){e=e.commit;b("cr:1772245")&&X(a,b("cr:1772245").POST_PUBLISH_ATTEMPT,f);e(F,f,{onCompleted:function(e){var g;b("cr:1772245")&&X(a,b("cr:1772245").POST_SUCCESS,f);U||Ma();((g=a.abTestData)==null?void 0:g.isABTest)!==!0&&(y&&y(a,e,P),K(!1));z&&z(a,e);d("LWICometComposerUtils").handleLWIBoostFromComposer({boostAfterPosting:P,environment:F,legcyStoryHideableID:(g=e.story_create)==null?void 0:(g=g.story)==null?void 0:g.legacy_story_hideable_id,markEligibleForBoosting:Ba,pageID:B,routerDispatcher:Q,storyCreatePostID:(g=e.story_create)==null?void 0:g.post_id});c("handleCreateABTestIfApplicable")({commitData:f,environment:F,onCloseComposerDialog:function(a){return y&&y(a,e,P)},pageID:B,videoComposerAccessToken:S.video_composer_access_token,viewState:a})},onError:function(c){M(c),b("cr:1772245")&&X(a,b("cr:1772245").POST_FAILURE,f,c),K(!1)},updater:function(a){var b=a.getRootField("story_create");if(b==null)return;var c=a.get(B);if(c==null)return;Na(b,c,"timeline_feed_units_edge","CometModernPageFeed_page_timeline_feed_units");Na(b,c,"pages_news_feed_edge","CometPagesNewsFeed_page_news_feed",{referrer:"NONE",surface:"TAB"});d("PagesCometAdminCompletionMeterUtils").updateStatusForItemType(a,{actionType:"create_welcome_post",newStatus:"completed",pageID:B});d("PagesCometAdminOnboardingUtils").updateOnboardingStatusForField(a,{actionItemField:d("PagesCometAdminOnboardingConstants").PAGE_ONBOARDING_MAKE_POST_GRAPHQL_FIELD,newValue:!0,pageID:B})},variables:babelHelpers["extends"]({canUserManageOffers:Ja,creationSessionID:Z},T)},{payload:d("getComposerLoggingPayload").getFeedComposerLoggingPayload(a)})})}))},[g,P,F,T,U,R,X,Y,Ba,y,z,Ma,B,Oa,Q,Z,M]);f={attachments:c("cometComposerAttachmentsEligibilityChecker"),footerAttachments:d("cometComposerFooterAttachmentsEligibilityChecker").cometComposerFooterAttachmentsEligibilityChecker,formattedText:c("cometComposerFormattedTextEligibilityChecker"),tagger:c("cometComposerTaggerEligibilityChecker")};E=[c("getDeferredComposerLogger")(ea),c("getDeferredComposerLogger")(ca),c("getDeferredComposerLogger")(da),c("getDeferredComposerLogger")(fa)];var Pa=s==="page"||s==="edit";G=o(function(){K(!0)},[]);var $=c("useHashtagComposerDraftJSPlugin.react")(S),Qa=$?n.jsx($,{}):null;R&&(f=babelHelpers["extends"]({},f,{mediaOnEdit:c("PagesMediaEligibilityChecker")}));var Ra=g==null?void 0:($=g.attachmentArea)==null?void 0:$.activeAttachmentType,Sa=r==="pages_social_learning",Ta=((g==null?void 0:g.mediaAttachments)||[]).length>0,Ua=!u&&(g==null?void 0:g.hideBoostUnavailableFeatures)!==!0&&U&&!Sa&&r!=="biz_web_content_manager_photos_tab"&&r!=="reshare_dialog";$=S&&d("FBShopsLegacyUpgradeProductTaggingUtils").getProductTaggingLegacyUpgradeStatus(S);var Va=($==null?void 0:$.shouldShowModal)===!0&&$.dialogType==="product_tagging_block";return n.jsx(c("CometComposerOnSubmitContext").Provider,{value:I,children:n.jsx(c("CometComposer.react"),{beginningViewState:A,eligibilityCheckers:f,loggers:E,onSubmitCommit:C,onSubmitHalt:Da,onSubmitStart:G,onValidationErrors:Ea,ref:e,target:{id:B,type:d("TCometComposerTarget").ComposerTargetType.Page},unalteredBeginningViewState:a,validators:N,children:function(a){return n.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!H,children:function(b){return n.jsx(c("CometComposerPushPageContext").Provider,{value:c("decorateMultiStepContainerPushPage")(b),children:n.jsxs(c("CometComposerMediaDropTarget.react"),{children:[n.jsxs("div",{className:c("stylex")(O.positionRelative),children:[Ka?n.jsx(c("CometVideoEditorUploadProgress.react"),{}):null,t]}),n.jsx(c("CometComposerDialogLayout.react"),{header:n.jsxs(n.Fragment,{children:[n.jsx(c("CometPlaceholder.react"),{fallback:n.jsx(c("CometComposerMinutiaeBarLoading.react"),{}),children:n.jsx(c("CometComposerMinutiaeBar.react"),{privacySelector:n.jsx(c("PagesCometComposerPrivacySelector.react"),{canViewerSeeTargetingUI:(b=S.can_viewer_see_targeting_ui)!=null?b:!1,data:Ga,disabled:R}),profile$key:Fa})}),U&&Sa&&n.jsx(c("SocialLearningComposerModuleTitleInput.react"),{})]}),body:n.jsx("div",{className:c("stylex")(O.composerTextArea),children:n.jsxs(c("FeedComposerCometFormattedTextArea.react"),{children:[n.jsx(c("CometComposerStatusAreaRelayWithSwatches.react"),{autoFocus:!Sa,isViewerFeed:w,onClose:y,profile$key:S}),n.jsx(ra,{}),Boolean((b=S.use_whatsapp_deeplinks_plugin)==null?void 0:b.bool)?n.jsx(sa,{page$key:S}):null,Qa,n.jsx(ta,{}),n.jsx(ua,{composerType:(b=s)!=null?b:"page"}),U&&!La?n.jsx(ya,{page$key:S,pageID:B,sessionID:Z,submitForm:a}):null,n.jsx("div",{className:c("stylex")(O.attachmentArea),children:n.jsx(c("CometComposerAttachmentArea.react"),{isEditing:R,children:function(a){switch(a){case"AMA":return n.jsx(pa,{});case"ANIMATED_IMAGE":return n.jsx(ka,{});case"CALL_NOW":return n.jsx(c("CometComposerCallNowAttachmentArea.react"),{mediaUploadLoggingMetadata:x,pageCategoryName:S.category_name,pageName:S.name});case"GET_MESSAGES":return n.jsx(ia,{mediaUploadLoggingMetadata:x,pageCategoryName:S.category_name,pageID:B,pageName:S.name});case"GET_WHATSAPP_MESSAGES":return n.jsx(ja,{mediaUploadLoggingMetadata:x,pageCategoryName:S.category_name,pageID:B,pageName:S.name});case"PAID_CONTENT":return n.jsx(na,{});case"LOCATION":return n.jsx(ma,{});case"LINK":return n.jsx(qa,{});case"SHARE":return n.jsx(qa,{isShare:!0});case"MEDIA":return n.jsx(c("PagesCometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react"),{additionalAttachments:Va?null:n.jsx(c("CometPhotoEditorAIProductTagSuggestionTrigger.react"),{isProfileComposer:!1}),composerEntrypoint:"pages_feed",isMediaBeingEdited:R,magicUploadsContext:"pages_composer",profileDataKey:Fa,surfaceEntIdentifier:B,videoLiteComposerEligible:V,videoUploadSource:"composer"});case"NONPROFIT":return n.jsx(la,{isPageFaithGivingEligible:Ia});case"PHOTO3D":return n.jsx(oa,{});case"QUILT":return n.jsx(xa,{mediaUploadLoggingMetadata:x});case"WOODHENGE_SUPPORT":return n.jsx(wa,{pageID:B});case"VIEW_ONLY_FEED_ATTACHMENT":return n.jsx(va,{feedLocation:"PAGE"});case"GET_SHOWTIMES":return n.jsx(ha,{mediaUploadLoggingMetadata:x})}return null}})}),U&&n.jsx(c("CometComposerFooterAttachmentArea.react"),{children:function(a){switch(a){case c("CometComposerFooterAttachmentPluginTypes").BLOOD_DONATIONS:return n.jsx(c("CometComposerBloodDonationsAttachmentArea.react"),{page:S});case c("CometComposerFooterAttachmentPluginTypes").WOODHENGE_SUPPORT:return n.jsx(wa,{pageID:B});case c("CometComposerFooterAttachmentPluginTypes").GET_MESSAGES:return n.jsx(ia,{mediaUploadLoggingMetadata:x,pageCategoryName:S.category_name,pageName:S.name});default:return null}}})]})}),footer:n.jsxs(n.Fragment,{children:[Pa?n.jsx(c("PagesCometComposerToolbarRelay3d.react"),{hasMediaAttachment:Ta,isActorAdmin:U,isEditing:R,onClose:y,page$key:S,pushedPageOnLoad:D,sessionID:Z}):null,U&&!v&&Ra!=="SHARE"&&n.jsx(c("PagesCometComposerFooterToggle.react"),{boostAfterPosting:P,markEligibleForBoosting:Ba,query$key:Ha,setBoostAfterPosting:Aa,setMarkEligibleForBoosting:Ca,videoLiteComposerEligible:V}),Ua&&n.jsx(c("PagesCometComposerPublishingToolBanner.react"),{page:S,videoLiteComposerEligible:V}),n.jsx(c("PagesCometComposerPostPropagationWarningBanner.react"),{page$key:S}),n.jsx("div",{className:c("stylex")(O.postButton,Pa&&!U&&O.postButtonWithToolbar),children:n.jsx(c("PagesCometComposerFooter.react"),{canSchedule:Ka,onSubmit:a,page$key:S,submitText:(b=g==null?void 0:g.submitText)!=null?b:h._(/*FBT_CALL*/"Publicar"/*FBT_CALL*/)})}),n.jsx("div",{className:c("stylex")(O.error),children:n.jsx(c("CometComposerServerErrorMessage.react"),{errorMetadata:L})}),!c("justknobx")._("139")&&c("gkx")("206")&&n.jsx(ga,{xstyle:O.error}),n.jsx(c("PagesCometComposerFooterAddOn.react"),{isActorAdmin:U,sessionID:Z})]})}),J?n.jsx(c("CometComposerSavingIndicatorMask.react"),{}):null]})})}})}},Z)})}a.displayName=a.name+" [from "+f.id+"]";J=n.forwardRef(a);g["default"]=J}),98);
__d("PagesCometComposerRoot.react",["CometRelay","PagesCometComposer.react","PagesCometComposerRoot_autoBoostQuery.graphql","PagesCometComposerRoot_page.graphql","PagesCometComposerRoot_profile.graphql","PagesCometComposerRoot_query.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("react");function a(a,e){var f=d("CometRelay").useFragment(h!==void 0?h:h=b("PagesCometComposerRoot_page.graphql"),a.page$key),g=d("CometRelay").useFragment(i!==void 0?i:i=b("PagesCometComposerRoot_profile.graphql"),a.profile$key),m=d("CometRelay").useFragment(j!==void 0?j:j=b("PagesCometComposerRoot_query.graphql"),a.query$key),n=d("CometRelay").useFragment(k!==void 0?k:k=b("PagesCometComposerRoot_autoBoostQuery.graphql"),a.autoBoostQuery$key);return l.jsx(c("PagesCometComposer.react"),{autoBoostQuery$key:n,beginningViewState:a.beginningViewState,composerEntrypointRef:a.composerEntryPointRef,composerType:a.composerType,headerComponent:a.headerComponent,hideFooterToggle:a.hideFooterToggle,hidePublishingTool:a.hidePublishingTool,isViewerFeed:!1,mediaUploadLoggingMetadata:{composerEntrypoint:a.composerEntryPointRef,source:"composer"},onClose:a.onClose,onSave:a.onSave,page$key:f,pageID:a.pageID,profile$key:g,pushedPageOnLoad:a.pushedPageOnLoad,query$key:m,ref:e,unalteredBeginningViewState:a.unalteredBeginningViewState})}a.displayName=a.name+" [from "+f.id+"]";e=l.forwardRef(a);g["default"]=e}),98);
__d("PagesCometShareToGroupsDialog.entrypoint",["JSResourceForInteraction","PagesCometShareToGroupsDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps.pageID;var c=d("WebPixelRatio").get();return{queries:{queryRef:{options:{fetchPolicy:"network-only"},parameters:b("PagesCometShareToGroupsDialogQuery$Parameters"),variables:{pageID:a,scale:c}}}}},root:c("JSResourceForInteraction")("PagesCometShareToGroupsDialog.react").__setRef("PagesCometShareToGroupsDialog.entrypoint")};g["default"]=a}),98);
__d("useAfterPostPageShareToGroups",["CometRelay","PagesCometShareToGroupsDialog.entrypoint","useAfterPostPageShareToGroups_page.graphql","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useAfterPostPageShareToGroups_page.graphql"),a.page$key),f=a.pageID,g=c("useCometEntryPointDialog")(c("PagesCometShareToGroupsDialog.entrypoint"),{routeProps:{creationSessionID:"",pageID:f,storyID:""}}),i=g[0],j=(e=(g=e.page_admin_share_to_groups_list)==null?void 0:g.should_show_suggested_groups)!=null?e:!1;return function(b,c,d){if(d||!j||a.composerEntryPointRef==="pages_social_learning")return!1;window.requestAnimationFrame(function(){i({routeProps:{creationSessionID:c==null?void 0:c.creationSessionID,pageID:f,storyID:b}})});return!0}}g["default"]=a}),98);
__d("useCometPostTestCreatedDialog.react",["JSResourceForInteraction","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("CometPostTestCreatedDialog.react").__setRef("useCometPostTestCreatedDialog.react");function a(){var a=c("useCometLazyDialog")(h),b=a[0];return function(a){var c=a.videoTitles;c.length>0&&window.requestAnimationFrame(function(){b(a)})}}g["default"]=a}),98);
__d("PagesCometComposerDialog.react",["Actor","CometCardedDialog.react","CometComposerFooterAttachmentPluginTypes","CometComposerHeader.react","CometRelay","CometVideoToolsLoggingContext","PagesCometComposerContext","PagesCometComposerDialogQuery.graphql","PagesCometComposerRoot.react","composerCometCardedDialogProps","react","useAfterPostForProductTagging","useAfterPostForRetroOffer","useAfterPostPageShareToGroups","useCometPostTestCreatedDialog.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useMemo,l=e.useRef;function a(a){var e,f=a.props,g=f.actorID,m=f.beginningViewState,n=f.composerEntryPointRef,o=f.composerType,p=f.onBeforeClose,q=f.onClose,r=f.onSave,s=f.pageID,t=f.pushedPageOnLoad,u=f.title,v=f.withCloseButton;f=babelHelpers.objectWithoutPropertiesLoose(f,["actorID","beginningViewState","composerEntryPointRef","composerType","onBeforeClose","onClose","onSave","pageID","pushedPageOnLoad","title","withCloseButton"]);a=a.queries;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("PagesCometComposerDialogQuery.graphql"),a.dialogQueryReference);var w=m;((e=a.page)==null?void 0:e.show_prefilled_blood_donation_attachment)===!0&&(m==null?void 0:(e=m.footerAttachmentArea)==null?void 0:e.activeFooterAttachmentType)==null&&(m==null?void 0:m.isDirty)!==!0&&(w=babelHelpers["extends"]({},m,{footerAttachmentArea:babelHelpers["extends"]({},m==null?void 0:m.footerAttachmentArea,{activeFooterAttachmentType:c("CometComposerFooterAttachmentPluginTypes").BLOOD_DONATIONS})}));var x=l(null),y=j(function(a){p&&p(x.current!=null?x.current.getViewState():void 0,a),q()},[p,q]);e=((e=a.page)==null?void 0:e.is_viewer_admin)===!0&&((m=a.page)==null?void 0:m.has_taggable_products)===!0;var z=c("useAfterPostForProductTagging")(e,(m=a.page)==null?void 0:m.is_product_tagging_apux_snoozed,o),A=c("useAfterPostPageShareToGroups")({composerEntryPointRef:n,composerType:o,isSnoozed:(m=a.page)==null?void 0:m.is_product_tagging_apux_snoozed,page$key:a.page,pageID:s,productTaggingEligible:e}),B=c("useCometPostTestCreatedDialog.react")(),C=c("useAfterPostForRetroOffer")(a.page,o);m=j(function(a,b,c){y(b);if(b==null?void 0:b.story_create){var d,e,f=!1;f=z(b==null?void 0:(d=b.story_create)==null?void 0:(d=d.story)==null?void 0:d.id,a);d=(d=a==null?void 0:a.mediaAttachments)!=null?d:[];d=d[0];if((a==null?void 0:(e=a.abTestData)==null?void 0:e.isABTest)&&d.fileType==="VIDEO"){e=d==null?void 0:d.data.title;if(e!=null){d=(d=a==null?void 0:(d=a.abTestData)==null?void 0:d.variantTitles)!=null?d:[];var g=[];g.push(e);g.push.apply(g,d);B({creationFailed:a==null?void 0:(e=a.abTestData)==null?void 0:e.creationFailed,isScheduled:a.scheduledPostDate!=null,videoTitles:g})}}if(!f){f=A((g=b==null?void 0:(d=b.story_create)==null?void 0:(e=d.story)==null?void 0:e.legacy_story_hideable_id)!=null?g:b==null?void 0:(d=b.story_create)==null?void 0:d.post_id,a,(e=c)!=null?e:!1)}if(!f){f=C(b==null?void 0:(g=b.story_create)==null?void 0:(d=g.story)==null?void 0:d.has_commerce_offer_intent)}}},[y,z,A,C,B]);e=i.jsx(c("CometComposerHeader.react"),{onClose:y,title:u,triggerUnsavedChangesWarning:!0,withCloseButton:v});var D=a==null?void 0:(u=a.page)==null?void 0:(v=u.preferred_merchant_settings)==null?void 0:(u=v.product_catalog)==null?void 0:u.id;v=k(function(){return{composerEntryPoint:n,dialogMode:"video_upload"}},[n]);u=k(function(){return{catalogID:D,dialogMode:"video_upload",pageID:s}},[D,s]);return i.jsx(c("CometCardedDialog.react"),babelHelpers["extends"]({},f,c("composerCometCardedDialogProps"),{onClose:y,children:i.jsx(c("PagesCometComposerContext").Provider,{value:u,children:i.jsx(d("Actor").ActorProvider,{initialActorID:g,scope:s,children:i.jsx(c("CometVideoToolsLoggingContext").Provider,{value:v,children:i.jsx(c("PagesCometComposerRoot.react"),{actorID:g,autoBoostQuery$key:a,beginningViewState:w,composerEntryPointRef:n,composerType:o,headerComponent:e,onClose:m,onSave:r,page$key:a.page,pageID:s,profile$key:a.page.viewer.actor,pushedPageOnLoad:t,query$key:a,ref:x})})})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DOMQuery","DataStore","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click.bind(babelHelpers.assertThisInitialized(g)))];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.canUseXHR=function(){var a="FormData"in window;a&&(!new(c("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};e._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;c("setTimeout")(this._unclick.bind(this),0);break}a=a.parentNode}};e._unclick=function(){this._clickTarget=null};e._sendViaFrame=function(){var a=this._request=new(c("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var b=a.handleResponse.bind(a);b=new(c("JSONPTransport"))("iframe",this._form.action,b);var d=b.getTransportFrame(),e=b.getRequestURI().addQueryData({__iframe:!0,__user:c("CurrentUser").getID()});this._form.setAttribute("action",e.toString());b.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(b);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(c("shield")(this.initial,this,null))};e._sendViaXHR=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),e.subscribe("initial",function(a,b){this.initial(b)}.bind(this)),e.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),e.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),e.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else{var i,f,j;(function(){var a,g=b._files;if(g){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));i=c("AsyncUploadRequest").parseFiles(g);for(f in i)j=i[f],j.length===1?a.append(f,j[0]):(f=f+"[]",j.forEach(function(b){a.append(f,b)}))}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(b.success.bind(b,null)).setErrorHandler(b.failure.bind(b,null)).setUploadProgressHandler(b.progress.bind(b,null)).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})()}e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.forceSendViaXHR=function(){return this._sendViaXHR(null)};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e.submit=function(a){this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(d("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=this.filterVideos(a).length;a=this.filterNonEditableVideos(a).length;return b>a}function b(a){return this.filterVideos(a).length>0}function d(a){return this.filterAudioFiles(a).length>0}function e(a){return this.filterFileOfSupportedType(a,c("VideoUploadConfig").videoExtensions)}function f(a){var b={gif:!0};return this.filterFileOfSupportedType(a,b)}function h(a){return this.filterFileOfSupportedType(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function i(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=e;g.filterNonEditableVideos=f;g.filterAudioFiles=h;g.filterFileOfSupportedType=i}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(var d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");b=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}a={};for(var e in b){var f=b[e];typeof f==="string"&&(f=f.trim());a[e.trim()]=f}this.$3=a};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(var a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function(a,b,c,d,e,f,g){"use strict";var h=2048;function d(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})}function e(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<h||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0}function f(a){var d=this;return new(b("Promise"))(function(b,e){d.genArrayBufferFromBlob(a).done(function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}).done(function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})}function i(a,d,e){var f=this;return new(b("Promise"))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})}function j(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})}function k(a){return a!==""&&a.indexOf("GPano:")>-1}g.genArrayBufferFromBlob=d;g.shouldCheckInServer=e;g.genPhotosphereMetadata=f;g.genPhotosphereMetadataFromServer=i;g.getExifString=j;g.getMayContainSphericalMetadata=k}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d("SphericalImageUtils").genPhotosphereMetadata(a));case 2:c=e.sent;return e.abrupt("return",new this(c));case 4:case"end":return e.stop()}},null,this)};var c=a.prototype;c.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};c.getImageMetadata=function(){return this.props.imageMetadata};c.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};c.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};c.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};c.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("isEligibleForSpectrumResizer",["PhotosMimeType","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=1024;function a(a,b){if(b==null||!d("PhotosMimeType").isJpeg(b)||a==null)return!0;if(c("qex")._("181")===!1)return!0;b=c("qex")._("20");return b==null?!0:a<=b*h*h}g["default"]=a}),98);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","isEligibleForSpectrumResizer","performanceNow","promiseDone","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5&&a.setPreprocessHandler(this.$22.bind(this));for(var d in this.$20)a.setOption(d,this.$20[d]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e.$27(a,d));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}())};e.$27=function(a,c){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d=a.getFile();g.next=3;return b("regeneratorRuntime").awrap(this.$28(d));case 3:e=g.sent,f=a.getFile().uploadID,e&&e.isSpherical()?this.$14(e.isSpherical(),e,f):this.$14(!1,null,""),c(a);case 7:case"end":return g.stop()}},null,this)};e.$22=function(a,d){var e=this;c("promiseDone")(function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e.$29(a,d));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}())};e.$28=function(a){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=c("performanceNow")();f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(c("SphericalImage").createFromBlob(a));case 4:e=f.sent;this.$13(a,c("performanceNow")()-d,e);return f.abrupt("return",e);case 9:f.prev=9;f.t0=f["catch"](1);this.$12(a,c("performanceNow")()-d);return f.abrupt("return",null);case 14:case"end":return f.stop()}},null,this,[[1,9]])};e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){b({width:d.width,height:d.height})};d.onerror=function(a){c(a)};d.src=h.createObjectURL(a)})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),h=c("curry")(this.$8,d),i=function(){return f.$33(d).then(h)};return new(b("Promise"))(function(b,c){i(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(a,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:f=a.getFile();g=c("isEligibleForSpectrumResizer")(f==null?void 0:f.size,f==null?void 0:f.type);if(!(!f||!d("PhotosMimeType").isJpeg(f.type)||!g)){s.next=7;break}this.$14(!1,null,"");f&&c("promiseDone")(this.$33(f).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",f.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));e(a);return s.abrupt("return");case 7:h=c("performanceNow")();s.prev=8;k=null;s.next=12;return b("regeneratorRuntime").awrap(this.$28(f));case 12:k=s.sent;if(!(k&&k.isSpherical())){s.next=33;break}this.$14(!0,k,f.uploadID);l=k.getSize();m=c("SphericalPhotoTypedConfig").upload_size_limit;n=k.getProjectionType();o=!1;o=d("SphericalPhotoUploadHelper").shouldRecompress360(n,k.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);p=d("SphericalPhotoUploadHelper").shouldResize360(n,l,m);if(!(l&&(p||o))){s.next=31;break}if(p){s.next=28;break}s.next=25;return b("regeneratorRuntime").awrap(this.$32(f,Math.max(l.x,l.y)-1));case 25:i=s.sent;s.next=31;break;case 28:s.next=30;return b("regeneratorRuntime").awrap(this.$32(f));case 30:i=s.sent;case 31:s.next=37;break;case 33:this.$14(!1,null,"");s.next=36;return b("regeneratorRuntime").awrap(this.$30(f));case 36:i=s.sent;case 37:i&&(i.blob!=null&&(j=i.blob,j.uploadID=f.uploadID,j.name=f.name,a.setFile(j)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",f.size).set("original_width",i.originalWidth).set("original_height",i.originalHeight).set("upload_width",i.outputWidth).set("upload_height",i.outputHeight));q=j===null;a.getFile().filename=f.name;this.$9(f,j||f,q,c("performanceNow")()-h,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"));s.next=48;break;case 43:s.prev=43,s.t0=s["catch"](8),r=c("performanceNow")()-h,this.$10(f,j||f,s.t0,r);case 48:e(a);case 49:case"end":return s.stop()}},null,this,[[8,43]])};e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);
__d("createTrustedScriptURLForWebWorker",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";var h="web-worker-url",i,j={createScriptURL:function(a){return a}};function k(){if(i)return;i=c("TrustedTypes").createPolicy(h,j)}function l(){i||k();return i}function a(a){return l().createScriptURL(a)}g["default"]=a}),98);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","cr:951783","createTrustedScriptURLForWebWorker","emptyFunction","filterObject","getCrossOriginTransport","gkx","memoize","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:q(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p&&(c.$23()||q())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&r()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return m(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(c){return new a.Worker(b("createTrustedScriptURLForWebWorker")(c))}var n=b("memoize")(function(){var a;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=m(a);c.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),r=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("csx",[],(function(a,b,c,d,e,f){function a(a){throw new Error("csx: Unexpected class selector transformation.")}f["default"]=a}),66);
__d("BlueBar",["csx","CSS","DOMQuery","Style","ge"],(function(a,b,c,d,e,f,g,h){var i=document,j={};function k(a){return d("DOMQuery").scry(i,a)[0]}function l(a,b){return j[a]?j[a]:j[a]=k(b)}function a(){i=c("ge")("blueBarDOMInspector")||document,j={}}function b(){var a=this.getMaybeFixedRoot();return!a?!1:d("CSS").matchesSelector(a,"._5rmj")||c("Style").isFixed(a)}function m(){return l("bar","div._1s4v")}function e(){return l("navRoot","div._cx4")||m()}function f(){return l("maybeFixedRoot","div._26aw")}function h(){return l("maybeFixedRootLoggedOut","div._1pmx")}function n(){return l("maybeFixedRootLogin","div._53jh")}a();g.hasFixedBlueBar=b;g.getBar=m;g.getNavRoot=e;g.getMaybeFixedRoot=f;g.getLoggedOutRoot=h;g.getNewLoggedOutRoot=n}),98);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}f["default"]=a}),66);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function(a,b,c,d,e,f){var g=function(a){b("Bootloader").loadModules(["ReactDOM"],a,"BootloadedReact")};a={isValidElement:function(a){return b("isValidReactElement")(a)},render:function(a,b,c){g(function(d){d.render(a,b,function(){c&&c(this)})})},unmountComponentAtNode:function(a,b){g(function(c){c.unmountComponentAtNode(a),b&&b()})}};e.exports=a}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g){function a(a,b){a.setAttribute("data-ownerid",c("getOrCreateDOMID")(b))}function b(a,b){b=b;while(b){if(c("containsNode")(a,b))return!0;b=h(b)}return!1}function h(a){a=a;var b;while(a){if(a.getAttribute&&(b=a.getAttribute("data-ownerid")))return c("ge")(b);a=a.parentNode}return null}function e(a,b){a=a;var e;while(a&&!d("CSS").hasClass(a,b))a.getAttribute&&(e=a.getAttribute("data-ownerid"))?a=c("ge")(e):a=a.parentNode;return a}g.register=a;g.containsIncludingLayers=b;g.getContext=h;g.parentByClass=e}),98);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a?a.offsetHeight:0;a=a?a.offsetWidth:0;return{height:b,width:a}}function b(a){a=c("getDocumentScrollElement")(a);var b=a.scrollWidth||0;a=a.scrollHeight||0;return{width:b,height:a}}function d(a,b,d,e,f){var g;switch(b){case"left":case"right":case"top":case"bottom":g=[b];break;case"width":g=["left","right"];break;case"height":g=["top","bottom"];break;default:throw Error("Invalid plane: "+b)}b=function(b,d){var e=0;for(var f=0;f<g.length;f++)e+=parseFloat(c("Style").get(a,b+"-"+g[f]+d))||0;return e};return(d?b("padding",""):0)+(e?b("border","-width"):0)+(f?b("margin",""):0)}g.getElementDimensions=a;g.getDocumentDimensions=b;g.measureElementBox=d}),98);
__d("getElementText",["isElementNode","isTextNode"],(function(a,b,c,d,e,f,g){var h=null;function a(a){if(c("isTextNode")(a))return a.data;else if(c("isElementNode")(a)){if(h===null){var b=document.createElement("div");h=b.textContent!=null?"textContent":"innerText"}return a[h]}else return""}g["default"]=a}),98);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}f["default"]=a}),66);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),i=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var b=c("isContentEditable")(a),d=h.has(a.nodeName);a=a instanceof HTMLInputElement&&i.has(a.type);return(b||d)&&!a}g["default"]=a}),98);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f,g){var h=null,i={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},j=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);b=function(){function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var b=a.prototype;b.mapKey=function(a){if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=i[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};b.onkeyevent=function(a,b){b=c("Event").$E(b);var d=this.handlers[b.keyCode]||this.handlers[b.which];if(d)for(var e=0;e<d.length;e++){var f=d[e].callback,g=d[e].filter;try{if(!g||g(b,a)){g=function(){var d=f(b,a),e=b.which||b.keyCode;c("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(b.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",b.isTrusted).log()},"KeyEventController");if(d===!1)return{v:c("Event").kill(b)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};b.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return h||(h=new a())};a.defaultFilter=function(b,d){b=c("Event").$E(b);return a.filterEventTypes(b,d)&&a.filterEventTargets(b,d)&&a.filterEventModifiers(b,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,b){b=a.getTarget();return!c("isElementInteractive")(b)||a.keyCode in j&&(d("DOMQuery").isNodeOfType(b,["input","textarea"])&&b.value.length===0||c("isContentEditable")(b)&&c("getElementText")(b).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKeyAcrossTransitions=function(b,d,e,f){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);return a.registerKey(b,d,e,f,c("emptyFunction").thatReturnsTrue)};a.registerKey=function(b,e,f,g,h){f===void 0&&(f=a.defaultFilter);g===void 0&&(g=!1);h===void 0&&(h=c("emptyFunction").thatReturnsFalse);var i=a.getInstance(),j=b==null?[]:i.mapKey(b);c("isEmpty")(i.handlers)&&d("Run").onLeave(i.resetHandlers.bind(i));var k={};for(var l=0;l<j.length;l++){b=""+j[l];(!i.handlers[b]||g)&&(i.handlers[b]=[]);var m={callback:e,filter:f,preserve:h};k[b]=m;i.handlers[b].push(m)}return{remove:function(){for(var a in k){if(i.handlers[a]&&i.handlers[a].length){var b=i.handlers[a].indexOf(k[a]);b>=0&&i.handlers[a].splice(b,1)}delete k[a]}}}};return a}();g["default"]=b}),98);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h=null,i=null;function j(){i||(i=c("Event").listen(window,"blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=c("Event").getKeyCode(a),j()}function b(){h=null,k()}if(d("ExecutionEnvironment").canUseDOM){d=document.documentElement;if(d)if(d.addEventListener)d.addEventListener("keydown",a,!0),d.addEventListener("keyup",b,!0);else if(d.attachEvent){d=d.attachEvent;d("onkeydown",a);d("onkeyup",b)}}function e(){return!!h}function f(){return h}g.isKeyDown=e;g.getKeyDownCode=f}),98);
__d("BasicVector",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.x=a,this.y=b}var b=a.prototype;b.derive=function(b,c){return new a(b,c)};b.toString=function(){return"("+this.x+", "+this.y+")"};b.add=function(a,b){b===void 0&&(b=a.y,a=a.x);a=parseFloat(a);b=parseFloat(b);return this.derive(this.x+a,this.y+b)};b.mul=function(a,b){b===void 0&&(b=a);return this.derive(this.x*a,this.y*b)};b.div=function(a,b){b===void 0&&(b=a);return this.derive(this.x*1/a,this.y*1/b)};b.sub=function(a,b){if(arguments.length===1)return this.add(a.mul(-1));else return this.add(-a,-b)};b.distanceTo=function(a){return this.sub(a).magnitude()};b.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.rotate=function(a){return this.derive(this.x*Math.cos(a)-this.y*Math.sin(a),this.x*Math.sin(a)+this.y*Math.cos(a))};return a}();f["default"]=a}),66);
__d("DOMVector",["BasicVector","getDocumentScrollElement","getElementPosition","getUnboundedScrollPosition","getViewportDimensions"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b,c)||this;b.domain=d||"pure";return b}var d=b.prototype;d.derive=function(a,c,d){return new b(a,c,d||this.domain)};d.add=function(c,d){c instanceof b&&c.getDomain()!=="pure"&&(c=c.convertTo(this.domain));return a.prototype.add.call(this,c,d)};d.convertTo=function(a){if(a!="pure"&&a!="viewport"&&a!="document")return this.derive(0,0);if(a==this.domain)return this.derive(this.x,this.y,this.domain);if(a=="pure")return this.derive(this.x,this.y);if(this.domain=="pure")return this.derive(0,0);var c=b.getScrollPosition("document"),d=this.x,e=this.y;this.domain=="document"?(d-=c.x,e-=c.y):(d+=c.x,e+=c.y);return this.derive(d,e,a)};d.getDomain=function(){return this.domain};b.from=function(a,c,d){return new b(a,c,d)};b.getScrollPosition=function(a){a=a||"document";var b=c("getUnboundedScrollPosition")(window);return this.from(b.x,b.y,"document").convertTo(a)};b.getElementPosition=function(a,b){b=b||"document";a=c("getElementPosition")(a);return this.from(a.x,a.y,"viewport").convertTo(b)};b.getElementDimensions=function(a){return this.from(a.offsetWidth||0,a.offsetHeight||0)};b.getViewportDimensions=function(){var a=c("getViewportDimensions")();return this.from(a.width,a.height,"viewport")};b.getLayoutViewportDimensions=function(){var a=c("getViewportDimensions").layout();return this.from(a.width,a.height,"viewport")};b.getViewportWithoutScrollbarDimensions=function(){var a=c("getViewportDimensions").withoutScrollbars();return this.from(a.width,a.height,"viewport")};b.getDocumentDimensions=function(a){a=c("getDocumentScrollElement")(a);return this.from(a.scrollWidth,a.scrollHeight,"document")};return b}(c("BasicVector"));g["default"]=a}),98);
__d("Vector",["DOMVector","Event","Scroll"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,parseFloat(b),parseFloat(c),d)||this}var e=b.prototype;e.derive=function(a,c,d){return new b(a,c,d||this.domain)};e.setElementPosition=function(a){var b=this.convertTo("document");a.style.left=parseInt(b.x,10)+"px";a.style.top=parseInt(b.y,10)+"px";return this};e.setElementDimensions=function(a){return this.setElementWidth(a).setElementHeight(a)};e.setElementWidth=function(a){a.style.width=parseInt(this.x,10)+"px";return this};e.setElementHeight=function(a){a.style.height=parseInt(this.y,10)+"px";return this};e.scrollElementBy=function(a){a==document.body?window.scrollBy(this.x,this.y):(d("Scroll").setLeft(a,d("Scroll").getLeft(a)+this.x),d("Scroll").setTop(a,d("Scroll").getTop(a)+this.y));return this};b.from=function(a,c,d){return new b(a,c,d)};b.getEventPosition=function(a,b){b===void 0&&(b="document");a=c("Event").getPosition(a);a=this.from(a.x,a.y,"document");return a.convertTo(b)};b.getTouchEventPosition=function(a,b){b===void 0&&(b="document");a=a.touches[0];a=this.from(a.pageX,a.pageY,"document");return a.convertTo(b)};b.deserialize=function(a){a=a.split(",");return this.from(a[0],a[1])};return b}(c("DOMVector"));g["default"]=a}),98);
__d("Rect",["invariant","$","Vector","react"],(function(a,b,c,d,e,f,g,h){d("react");a=function(){function a(b,d,e,f,g){if(arguments.length===1){if(b instanceof a)return b;if(b instanceof c("Vector"))return new a(b.y,b.x,b.y,b.x,b.domain);typeof b==="string"&&(b=c("$")(b));return a.getElementBounds(b)}typeof b==="number"&&typeof d==="number"&&typeof e==="number"&&typeof f==="number"&&(!g||typeof g==="string")||h(0,1087);Object.assign(this,{t:b,r:d,b:e,l:f,domain:g||"pure"});return this}var b=a.prototype;b.w=function(){return this.r-this.l};b.h=function(){return this.b-this.t};b.getWidth=function(){return this.w()};b.getHeight=function(){return this.h()};b.toString=function(){return"(("+this.l+", "+this.t+"), ("+this.r+", "+this.b+"))"};b.contains=function(b){b=new a(b).convertTo(this.domain);var c=this;return c.l<=b.l&&c.r>=b.r&&c.t<=b.t&&c.b>=b.b};b.intersection=function(b){b=b.convertTo(this.domain);var c=Math.min(this.b,b.getBottom()),d=Math.max(this.l,b.getLeft()),e=Math.min(this.r,b.getRight());b=Math.max(this.t,b.getTop());return c>b&&e>d?new a(b,e,c,d):null};b.isEqualTo=function(a){return this.t===a.t&&this.r===a.r&&this.b===a.b&&this.l===a.l&&this.domain===a.domain};b.add=function(b,d){if(arguments.length==1){b instanceof a&&b.domain!="pure"&&(b=b.convertTo(this.domain));return b instanceof c("Vector")?this.add(b.x,b.y):this}var e=parseFloat(b),f=parseFloat(d);return new a(this.t+f,this.r+e,this.b+f,this.l+e,this.domain)};b.sub=function(a,b){if(arguments.length==1&&a instanceof c("Vector"))return this.add(a.mul(-1));else if(typeof a==="number"&&typeof b==="number")return this.add(-a,-b);return this};b.rotateAroundOrigin=function(b){var c=this.getCenter().rotate(b*Math.PI/2),d=0;b%2?(d=this.h(),b=this.w()):(d=this.w(),b=this.h());var e=c.y-b/2;c=c.x-d/2;b=e+b;d=c+d;return new a(e,d,b,c,this.domain)};b.boundWithin=function(a){var b=0,c=0;this.l<a.l?b=a.l-this.l:this.r>a.r&&(b=a.r-this.r);this.t<a.t?c=a.t-this.t:this.b>a.b&&(c=a.b-this.b);return this.add(b,c)};b.getCenter=function(){return new(c("Vector"))(this.l+this.w()/2,this.t+this.h()/2,this.domain)};b.getTop=function(){return this.t};b.getRight=function(){return this.r};b.getBottom=function(){return this.b};b.getLeft=function(){return this.l};b.getArea=function(){return(this.b-this.t)*(this.r-this.l)};b.getPositionVector=function(){return new(c("Vector"))(this.l,this.t,this.domain)};b.getDimensionVector=function(){return new(c("Vector"))(this.w(),this.h(),"pure")};b.convertTo=function(b){if(this.domain==b)return this;if(b=="pure")return new a(this.t,this.r,this.b,this.l,"pure");if(this.domain=="pure")return new a(0,0,0,0);var d=new(c("Vector"))(this.l,this.t,this.domain).convertTo(b);return new a(d.y,d.x+this.w(),d.y+this.h(),d.x,b)};a.deserialize=function(b){b=b.split(":");return new a(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(b[0]))};a.newFromVectors=function(b,c){return new a(b.y,b.x+c.x,b.y+c.y,b.x,b.domain)};a.getElementBounds=function(b){return a.newFromVectors(c("Vector").getElementPosition(b),c("Vector").getElementDimensions(b))};a.getViewportBounds=function(){return a.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportDimensions())};a.getViewportWithoutScrollbarsBounds=function(){return a.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportWithoutScrollbarDimensions())};a.minimumBoundingBox=function(b){var c=new a(Infinity,-Infinity,-Infinity,Infinity),d;for(var e=0;e<b.length;e++)d=b[e],c.t=Math.min(c.t,d.t),c.r=Math.max(c.r,d.r),c.b=Math.max(c.b,d.b),c.l=Math.min(c.l,d.l);return c};return a}();g["default"]=a}),98);
__d("tooltipPropsFor",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(!a)return{};a={"data-tooltip-content":a,"data-hover":"tooltip"};b&&(a["data-tooltip-position"]=b);c&&(a["data-tooltip-alignh"]=c);return a}f["default"]=a}),66);
__d("TooltipData",["DOM","DataStore","FBLogger","URI","getElementText","ifRequired","isStringNullOrEmpty","isTextNode","killswitch","tooltipPropsFor"],(function(a,b,c,d,e,f){var g;function h(a){var c=a.getAttribute("data-tooltip-delay");c=c?parseInt(c,10)||1e3:0;if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),content:a.getAttribute("data-tooltip-content"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction")},b("DataStore").get(a,"tooltip"));else{var d;d=(d=b("DataStore").get(a,"tooltip"))!=null?d:{};var e=d.content;d=babelHelpers.objectWithoutPropertiesLoose(d,["content"]);var f=a.getAttribute("data-tooltip-content");!b("isStringNullOrEmpty")(e)&&!b("isStringNullOrEmpty")(f)&&b("FBLogger")("tooltip").warn('Getting DataStore tooltip content on an element that has both a "data-tooltip-content" attribute value (set to %s) and a value coming from the DataStore',a.getAttribute("data-tooltip-content"));return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction"),content:(a=(c=f)!=null?c:e)!=null?a:null},d)}}function i(a,c){var d=h(a);if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))b("DataStore").set(a,"tooltip",{content:c.content||d.content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick});else{!b("isStringNullOrEmpty")(c.content)&&!b("isStringNullOrEmpty")(a.getAttribute("data-tooltip-content"))&&b("FBLogger")("tooltip").warn('Setting DataStore tooltip content on an element that already has the "data-tooltip-content" attribute (set to %s) is invalid',a.getAttribute("data-tooltip-content"));b("DataStore").set(a,"tooltip",{content:c.content||((a=b("DataStore").get(a,"tooltip"))!=null?a:{}).content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick})}}function j(a,b){i(a,b),a.setAttribute("data-hover","tooltip")}function k(a,b){}var l={remove:function(a,c){c=c===void 0?{}:c;c=c.onlyCleanupDataStore;c=c===void 0?!1:c;b("DataStore").remove(a,"tooltip");c||(a.removeAttribute("data-hover"),a.removeAttribute("data-tooltip-position"),a.removeAttribute("data-tooltip-alignh"),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.hide()}))},set:function(a,c,d,e){k(a,c);if(c instanceof(g||(g=b("URI"))))a.setAttribute("data-tooltip-uri",c),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.fetchIfNecessary(a)});else if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT")){var f=l._store({context:a,content:c,position:d,alignH:e});typeof f.content!=="string"?a.setAttribute("data-tooltip-content",b("getElementText")(f.content)):a.setAttribute("data-tooltip-content",f.content);l.refreshIfActive(a)}else a.removeAttribute("data-tooltip-content"),l._store({context:a,content:c,position:d,alignH:e}),l.refreshIfActive(a)},refreshIfActive:function(a){b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.show(a)})},_store:function(a){var c=a.context,d=a.content,e=a.position;a=a.alignH;k(c,d);b("isTextNode")(d)&&(d=b("getElementText")(d));var f=!1;typeof d!=="string"?d=b("DOM").create("div",{},d):f=d==="";a={alignH:a,content:d,position:e,suppress:f};j(c,a);return a},propsFor:b("tooltipPropsFor"),enableDisplayOnOverflow:function(a){a.removeAttribute("data-tooltip-display"),j(a,{overflowDisplay:!0})},enablePersistOnClick:function(a){a.removeAttribute("data-pitloot-persistOnClick"),j(a,{persistOnClick:!0})},suppress:function(a,b){i(a,{suppress:b})},_get:h};e.exports=l}),null);
__d("ViewportBounds",["Arbiter","ArbiterMixin","BlueBar","ExecutionEnvironment","PageEvents","Vector","emptyFunction","removeFromArray"],(function(a,b,c,d,e,f){var g={top:[],right:[],bottom:[],left:[]};function a(a){return function(){return g[a].reduce(function(a,b){return Math.max(a,b.getSize())},0)}}function c(a,b){return function(c){return new h(a,c,b)}}var h=function(){"use strict";function a(a,c,d){d===void 0&&(d=!1),this.getSide=b("emptyFunction").thatReturns(a),this.getSize=function(){return typeof c==="function"?c():c},this.isPersistent=b("emptyFunction").thatReturns(d),g[a].push(this),i.inform("change")}var c=a.prototype;c.remove=function(){b("removeFromArray")(g[this.getSide()],this),i.inform("change")};return a}();b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONUNLOAD,function(){["top","right","bottom","left"].forEach(function(a){a=g[a];for(var b=a.length-1;b>=0;b--){var c=a[b];c.isPersistent()||c.remove()}})});var i=babelHelpers["extends"]({},b("ArbiterMixin"),{getTop:a("top"),getRight:a("right"),getBottom:a("bottom"),getLeft:a("left"),getElementPosition:function(a){a=b("Vector").getElementPosition(a);a.y-=i.getTop();return a},addTop:c("top"),addRight:c("right"),addBottom:c("bottom"),addLeft:c("left"),addPersistentTop:c("top",!0),addPersistentRight:c("right",!0),addPersistentBottom:c("bottom",!0),addPersistentLeft:c("left",!0)});i.addPersistentTop(function(){if(b("ExecutionEnvironment").canUseDOM&&b("BlueBar").hasFixedBlueBar()){var a=b("BlueBar").getMaybeFixedRoot();return a?a.offsetHeight:0}return 0});e.exports=i}),null);
__d("getOverlayZIndex",["Style"],(function(a,b,c,d,e,f,g){function a(a,b){b=b;a=a;b=b||document.body;var d=[];while(a&&a!==b)d.push(a),a=a.parentNode;if(a!==b)return 0;for(var a=d.length-1;a>=0;a--){b=d[a];if(c("Style").get(b,"position")!="static"){b=parseInt(c("Style").get(b,"z-index"),10);if(!isNaN(b))return b}}return 0}g["default"]=a}),98);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){var g=function(){function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};b=a;f["default"]=b}),66);
__d("Layer",["invariant","ArbiterMixin","BehaviorsMixin","BootloadedReact","CSS","ContextualThing","DOM","DataStore","Event","FBLogger","HTML","KeyEventController","KeyStatus","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g,h){b("KeyStatus");var i=[],j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,d){var e;e=b.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else c("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var e=a.prototype;e.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};e._configure=function(a,b){var e=this;if(b){var f=c("isNode")(b),g=typeof b==="string"||c("HTML").isHTML(b);this.containsReactComponent=d("BootloadedReact").isValidElement(b);!f&&!g&&!this.containsReactComponent&&c("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(g)b=c("HTML")(b).getRootNode();else if(this.containsReactComponent){f=document.createElement("div");var h=!0;d("BootloadedReact").render(b,f,function(){e.inform("reactshow"),h||e.updatePosition()});h=!1;b=this._reactContainer=f}}this._root=this._buildWrapper(a,b);a.attributes&&c("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(d("CSS").addClass.bind(null,this._root));d("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=c("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);d("DataStore").set(this._root,"layer",this)};e._getDefaultBehaviors=function(){return[]};e.getCausalElement=function(){return this._causalElement};e.setCausalElement=function(a){this._causalElement=a;return this};e.getInsertParent=function(){return this._insertParent||document.body};e.getRoot=function(){this._root||(this._destroyed?c("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):c("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};e.getContentRoot=function(){return this.getRoot()};e._buildWrapper=function(a,b){return b};e.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(c("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};e.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};e.show=function(){var b=this;if(this._shown)return this;var e=this.getRoot();e!=null||h(0,5142);this.inform("beforeshow");c("Style").set(e,"visibility","hidden");c("Style").set(e,"overflow","hidden");d("CSS").show(e);c("DOM").appendContent(this.getInsertParent(),e);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){b._shown&&i.push(b)},0)):d("CSS").hide(e);c("Style").set(e,"visibility","");c("Style").set(e,"overflow","");c("Style").set(e,"opacity","1");this.inform("aftershow");return this};e.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};e._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};e.conditionShow=function(a){return a?this.show():this._hide()};e.finishHide=function(){if(this._shown){this._permanent||c("removeFromArray")(i,this);this._hiding=!1;this._shown=!1;var b=this.getRoot();b!=null||h(0,5143);d("CSS").hide(b);this.inform("hide");a.inform("hide",this)}};e.isShown=function(){return this._shown};e.updatePosition=function(){return!0};e.destroy=function(){this.containsReactComponent&&d("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var b=this.getRoot();c("DOM").remove(b);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);d("DataStore").remove(b,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return i[i.length-1]};a.informBlur=function(a){k=null;l=null;var b=i.length;if(!b)return;while(b--){var c=i[b],e=c.getContentRoot();e!=null||h(0,5144);if(d("ContextualThing").containsIncludingLayers(e,a))return;if(c.inform("blur",{target:a})===!1||c.isShown())return}};return a}(c("mixin")(d("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(j,d("ArbiterMixin"));Object.assign(j.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(a){if(c("KeyEventController").filterEventTargets(a,"keydown"))for(var b=i.length-1;b>=0;b--)if(i[b].inform("key",a)===!1)return!1;return!0},c("Event").Priority.URGENT);var k;c("Event").listen(document.documentElement,"mousedown",function(a){k=a.getTarget()});var l;c("Event").listen(document.documentElement,"mouseup",function(a){l=a.getTarget(),c("setImmediate")(function(){k=null,l=null})});c("Event").listen(document.documentElement,"click",function(a){var b=k,e=l;k=null;l=null;var f=i.length;if(!f)return;f=a.getTarget();if(f!==e||f!==b)return;if(!c("DOM").contains(document.documentElement,f))return;if(f.offsetWidth!=null&&!f.offsetWidth)return;if(d("Parent").byClass(f,"generic_dialog"))return;j.informBlur(f)});g["default"]=j}),98);
__d("ReactComposerJSONCollageLayoutData",[],(function(a,b,c,d,e,f){e.exports={1:[{validActors:3,photoLayouts:[[0,1,1,0]]}],2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]}}),null);
__d("CometAlbumGridLayoutChild_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAlbumGridLayoutChild_photo",selections:[{args:null,kind:"FragmentSpread",name:"useCometPhotoViewerPlaceholderPassthroughProps_photo"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedAlbumGridWarningScreen_media"},{alias:null,args:null,concreteType:"CopyrightBannerInfo",kind:"LinkedField",name:"copyright_banner_info",plural:!1,selections:[{args:null,documentName:"CometAlbumGridLayoutChild_photo",fragmentName:"CometCopyrightBlockOverlay_copyrightBannerInfo",fragmentPropName:"copyrightBannerInfo",kind:"ModuleImport"}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometAlbumGridLayoutChild_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAlbumGridLayoutChild_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{args:null,kind:"FragmentSpread",name:"CometFeedVideoPlayerPlaceholder_video"},{args:null,kind:"FragmentSpread",name:"CometFeedAlbumGridWarningScreen_media"},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"timeline"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"timeline")'},{alias:null,args:null,concreteType:"CopyrightBannerInfo",kind:"LinkedField",name:"copyright_banner_info",plural:!1,selections:[{args:null,documentName:"CometAlbumGridLayoutChild_video",fragmentName:"CometCopyrightBlockOverlay_copyrightBannerInfo",fragmentPropName:"copyrightBannerInfo",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryAlbumAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};c=[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[b,c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStoryAlbumAttachment_attachment",selections:[{alias:null,args:null,kind:"ScalarField",name:"mediaset_token",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:584}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[b,{args:null,kind:"FragmentSpread",name:"CometAlbumGridLayoutChild_photo"},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[b,{args:null,kind:"FragmentSpread",name:"CometAlbumGridLayoutChild_video"}],type:"Video",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"getCometMediaURL_media",selections:[a,{kind:"InlineFragment",selections:c,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:c,type:"Video",abstractKey:null}]}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],storageKey:"all_subattachments(first:5)"}],type:"StoryAttachment",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedAlbumGridWarningScreen_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"timeline"}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedAlbumGridWarningScreen_media",selections:[{alias:"viewer_image",args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:"video_cix_screen",args:a,concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedAlbumGridWarningScreen_media__video_cix_screen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"timeline")'}],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"photo_cix_screen",args:a,concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedAlbumGridWarningScreen_media__photo_cix_screen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"timeline")'}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometFeedAlbumGridWarningScreen.react",["CometFeedAlbumGridWarningScreen_media.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var c,e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedAlbumGridWarningScreen_media.graphql"),a.media),f=(e==null?void 0:e.photo_cix_screen)!=null?e==null?void 0:e.photo_cix_screen:e==null?void 0:e.video_cix_screen;f=f==null?void 0:f.view_model;if((e==null?void 0:(c=e.viewer_image)==null?void 0:c.uri)==null)return null;else return i.jsx(d("CometRelay").MatchContainer,{match:f,props:{alwaysShowCoverComponent:!0,alwaysShowDetails:!1,alwaysUseSmallLayout:!0,data:f,mediaUri:e==null?void 0:e.viewer_image.uri,url:a.mediaUrl}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedFocusImage.react",["CometFeedFocusMedia.react","CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.alt,d=a.focusX,e=a.focusY,f=a.imageHeight,g=a.imageWidth,i=a.src;a=a.viewportAspectRatio;return h.jsxs("div",{className:"stjgntxs ni8dbmo4",children:[h.jsx(c("CometFeedFocusMedia.react"),{focusX:d,focusY:e,mediaHeight:f,mediaWidth:g,viewportAspectRatio:a,children:function(a){return h.jsx(c("CometImage.react"),{alt:b,src:i,xstyle:a})}}),h.jsx("div",{className:"hzruof5a opwvks06 linmgsc8 kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb"})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("ReactComposerCollageLayoutActor",[],(function(a,b,c,d,e,f){a=Object.freeze({USER:1,PAGE:2});f["default"]=a}),66);
__d("ReactComposerMediaAspectTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"});f["default"]=a}),66);
__d("ReactComposerMediaAspect",["ReactComposerMediaAspectTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return this._fromWidthAndHeight(a.w(),a.h())}function b(a){return this._fromWidthAndHeight(a[0],a[1])}function d(a,b){if(a>b)return c("ReactComposerMediaAspectTypes").LANDSCAPE;else if(a<b)return c("ReactComposerMediaAspectTypes").PORTRAIT;else return c("ReactComposerMediaAspectTypes").SQUARE}g.fromRect=a;g.fromDimensions=b;g._fromWidthAndHeight=d}),98);
__d("ReactComposerCollageLayoutModel",["ReactComposerCollageLayoutActor","ReactComposerMediaAspect","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("regeneratorRuntime").mark(j),i=b("regeneratorRuntime").mark(k);function j(a,c){var d,e;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d=a.next();e=c.next();if(!(d.done||e.done)){b.next=5;break}return b.abrupt("break",9);case 5:b.next=7;return[d.value,e.value];case 7:b.next=0;break;case 9:case"end":return b.stop()}},h,this)}function k(a){var c,d;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c=0;case 1:if(!(c<a.length)){b.next=8;break}d=a[c];b.next=5;return d;case 5:c++;b.next=1;break;case 8:case"end":return b.stop()}},i,this)}a=function(){function a(a,b){this.$1=!!(a&c("ReactComposerCollageLayoutActor").USER),this.$2=!!(a&c("ReactComposerCollageLayoutActor").PAGE),this.$3=[],b&&this.addPhotoLayouts(b)}var b=a.prototype;b.addPhotoLayout=function(a){this.$3.push(a);return this};b.addPhotoLayouts=function(a){var b=this;a.forEach(function(a){return b.$3.push(a)});return this};b.getNumPhotoLayouts=function(){return this.$3.length};b.getPhotoLayouts=function(){return this.$3};b.getIsValidForPages=function(){return this.$2};b.getIsValidForUsers=function(){return this.$1};b.getIsValidFor=function(a){switch(a){case c("ReactComposerCollageLayoutActor").USER:return this.getIsValidForUsers();case c("ReactComposerCollageLayoutActor").PAGE:return this.getIsValidForPages()}return!1};b.hasMatchingCollagePhotoLayoutType=function(a){var b=d("ReactComposerMediaAspect").fromRect(this.$3[0]);a=d("ReactComposerMediaAspect").fromDimensions(a);return b===a};b.score=function(a){var b=0;for(var a=j(k(this.getPhotoLayouts()),a.values()),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];if(!e)continue;var g=f.w();f=f.h();var h=e[0];e=e[1];var i=0;if(h===0||e===0)i=0;else if(g*e/h>=f){var l=g*e/h;i=(l-f)/l}else if(f*h/e>g){l=f*h/e;i=(l-g)/l}b-=i*100;e===h?b-=i*5:g>f?h>e?b+=i*25:b-=i*25:g<f?h<e?b+=i*25:b-=i*25:g===f&&(b-=i*5)}b+=200*this.getNumPhotoLayouts();return b};return a}();g["default"]=a}),98);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerJSONCollageLayoutData","Rect"],(function(a,b,c,d,e,f,g){"use strict";var h=[];Object.keys(c("ReactComposerJSONCollageLayoutData")).forEach(function(a){c("ReactComposerJSONCollageLayoutData")[a].forEach(function(a){h.push(new(c("ReactComposerCollageLayoutModel"))(a.validActors,a.photoLayouts.map(function(a){return babelHelpers.construct(c("Rect"),a)})))})});a=h;g["default"]=a}),98);
__d("ReactComposerCollageLayoutSelection",["FBIDCheck","ReactComposerCollageLayoutActor","ReactComposerCollageLayoutData"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=6;function a(a){return c("ReactComposerCollageLayoutData").filter(function(b){return b.getIsValidFor(a)})}function b(){return Math.max.apply(Math,c("ReactComposerCollageLayoutData").map(function(a){return a.getNumPhotoLayouts()}))}function e(a){return Math.max.apply(Math,this._getCollageLayoutsFor(a).map(function(a){return a.getNumPhotoLayouts()}))}function f(a,b){if(!b)return this.getBestUserCollageLayout(a);b=d("FBIDCheck").isUser_deprecated(b)?this.getBestUserCollageLayout(a):this.getBestPageCollageLayout(a);return b}function j(a){if(a.size==0)return new Map();var b=a.values().next().value,d=Math.min(this.getMaxPhotosSupportedFor(c("ReactComposerCollageLayoutActor").PAGE),a.size),e=this._getCollageLayoutsFor(c("ReactComposerCollageLayoutActor").PAGE).filter(function(a){return a.getNumPhotoLayouts()===d});if(!e.length)throw new Error("no valid layout for these media");e=e.filter(function(a){return a.hasMatchingCollagePhotoLayoutType(b)});if(!e.length)throw new Error("no valid layout for these media starts with a suitable aspect");e=e[0];var f=new Map(),g=0;e=e.getPhotoLayouts();for(var a=a.keys(),h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var k=e[g++];k&&f.set(j,k)}return f}function k(a){var b=this._getCollageLayoutsFor(c("ReactComposerCollageLayoutActor").USER).filter(function(b){return b.getNumPhotoLayouts()<=a.size});if(!b.length)throw new Error("no valid layout for these media");b=this._bestLayoutByScore(b,a);if(!b)throw new Error("no best layout? Should not happen!");var d=new Map(),e=0;b=b.getPhotoLayouts();for(var f=a.keys(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=b[e++];j&&d.set(i,j)}return d}function l(a,b){a=a.map(function(a){return[a,a.score(b)]});a=a.reduce(function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return a===null||b>a?[d,b]:[c,a]},[null,null]);a=a[0];return a}g.MAX_NUM_COLS=h;g.MAX_NUM_ROWS=i;g._getCollageLayoutsFor=a;g.getMaxPhotosSupported=b;g.getMaxPhotosSupportedFor=e;g.getCollageLayout=f;g.getBestPageCollageLayout=j;g.getBestUserCollageLayout=k;g._bestLayoutByScore=l}),98);
__d("CometAlbumGridLayout.react",["fbt","CometAlbumGridLayoutChild_photo.graphql","CometAlbumGridLayoutChild_video.graphql","CometFeedAlbumGridWarningScreen.react","CometFeedFocusImage.react","CometFeedUnitQueryVariablesContext","CometFeedVideoPlayerPlaceholder.react","CometPressable.react","CometProductTagFunnelIDContext","CometProductTagLoggingUtils","CometRelay","CometTrackingCodeContext","CometTrackingNodeProvider.react","CometTrackingNodesContext","CometVisualCompletionAttributes","ReactComposerCollageLayoutSelection","VideoPlayerDefaultControls.react","VideoPlayerInteractionOverlay.react","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerRelay.react","VideoPlayerSurface.react","getAggregatedStoryTrackingNodeIndex","gkx","react","stylex","useCometPhotoViewerPlaceholderPassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react"),l=d("react"),m=l.useCallback,n=l.useContext,o=l.useEffect,p=l.useLayoutEffect,q=l.useState,r={grid:{position:"l9j0dhe7"},gridCell:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg"},imageButton:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",":active":{transform:"tm8avpzi"}},mediaPressed:{backgroundColor:"r9n4d945"},overlay:{alignItems:"bp9cbjyn",backgroundColor:"d6rk862h",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},overlayText:{color:"qrtewk5h",fontSize:"mhxlubs3",fontWeight:"lrazzd5p",textAlign:"oqcyycmt"},root:{position:"l9j0dhe7"}},s=2,t=c("gkx")("708253");function a(a){var b=a.adID,e=a.attachments,f=a.firstItemRef,g=a.hasProductMatch,h=a.hasProductTags,i=a.initialTracePolicy,j=a.isUntagged,l=a.isUser;l=l===void 0?!0:l;var m=a.subOrigin,n=a.totalNumItems,o=a.urls;a=e.reduce(function(a,b,c){a.set(c,[b.width,b.height]);return a},new Map());var p=a.size;l=l||p<2?d("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(a):d("ReactComposerCollageLayoutSelection").getBestPageCollageLayout(a);var q=Array.from(l.entries()).map(function(a){var b=a[0];a=a[1];return{attachment:e[b],columnSpan:a.getWidth(),columnStart:a.getLeft(),rowSpan:a.getHeight(),rowStart:a.getTop()}}),s=n===q.length?0:n-q.length+1,t=q.reduce(function(a,b){return Math.max(a,b.columnStart+b.columnSpan)},0),u=q.reduce(function(a,b){return Math.max(a,b.rowStart+b.rowSpan)},0);return k.jsx("div",{className:c("stylex")(r.root),"data-testid":void 0,children:k.jsx("div",{className:c("stylex")(r.grid),style:{paddingTop:"calc("+u*100+"% / "+t+")"},children:k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:110,children:q.map(function(a,c){return k.jsx(v,{adID:b,cell:a,gridCellLength:q.length,hasProductMatch:g,hasProductTags:h,i:c,initialTracePolicy:i,isUntagged:j,numColumns:t,numItemsNotShown:s,numRows:u,ref:c===0?f:void 0,subOrigin:m,urls:o},(c=a.attachment)==null?void 0:c.id)})})})})}a.displayName=a.name+" [from "+f.id+"]";function u(a){var b=a.setPortableVideoID;a=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo();var e=a.currentVideoID;p(function(){b(e)},[e,b]);return k.jsxs(c("VideoPlayerSurface.react"),{children:[k.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}),k.jsx(c("VideoPlayerDefaultControls.react"),{})]})}u.displayName=u.name+" [from "+f.id+"]";function e(a,e){var f,g,l,p=a.adID,v=a.cell,w=a.gridCellLength,x=a.hasProductMatch,y=a.hasProductTags,z=a.i,A=a.initialTracePolicy,B=a.isUntagged,C=a.numColumns,D=a.numItemsNotShown,E=a.numRows,F=a.subOrigin;a=a.urls;var G=n(c("CometTrackingCodeContext")),H=n(c("CometTrackingNodesContext")),I=n(c("CometFeedUnitQueryVariablesContext")),J=n(c("CometProductTagFunnelIDContext"));H=c("getAggregatedStoryTrackingNodeIndex")(H);f=d("CometRelay").useFragment(i!==void 0?i:i=b("CometAlbumGridLayoutChild_photo.graphql"),(f=v.attachment)==null?void 0:f.photo);var K=d("CometRelay").useFragment(j!==void 0?j:j=b("CometAlbumGridLayoutChild_video.graphql"),(g=v.attachment)==null?void 0:g.video);g=c("useCometPhotoViewerPlaceholderPassthroughProps")({photo:f,placeholderImageSrc:(g=v.attachment)==null?void 0:g.uri});var L=q(null),M=L[0];L=L[1];var N=q(!1),O=N[0],P=N[1];o(function(){P(!0)},[]);N=m(function(){return K!=null&&k.jsx(c("CometFeedVideoPlayerPlaceholder.react"),{video:K})},[K]);var Q=v.attachment;if(Q==null)return null;var R=Q.accessibilityCaption,S=Q.focusX,T=Q.focusY,U=Q.height,V=Q.id,W=Q.uri,X=Q.url;Q=Q.width;R=(R=R)!=null?R:h._(/*FBT_CALL*/"Imagem em um \u00e1lbum"/*FBT_CALL*/);var Y=f!=null?f==null?void 0:f.id:K==null?void 0:K.id;f=f!=null?f:K;l=(K==null?void 0:(l=K.cix_screen)==null?void 0:l.view_model)==null?"respect_user_settings":"do_not_autoplay";O=K!=null?O?k.jsx("span",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE,{children:k.jsx(c("VideoPlayerRelay.react"),{canAutoplay:l,portalingEnabled:!0,portalingRenderPlaceholder:N,subOrigin:(O=F)!=null?O:"media_collage",video:K,children:k.jsx(u,{setPortableVideoID:L})})})):k.jsx(c("CometFeedVideoPlayerPlaceholder.react"),{video:K}):k.jsx(c("CometFeedFocusImage.react"),{focusX:(l=S)!=null?l:.5,focusY:(N=T)!=null?N:.5,imageHeight:U,imageWidth:Q,src:W,viewportAspectRatio:v.columnSpan/v.rowSpan});L=v.columnSpan;S=v.columnStart;l=v.rowSpan;T=v.rowStart;N=D>0&&z===w-1;U=s/2+.01;Q=function(){if((y===!0||x===!0||B===!0)&&Y!=null){var a=x===!0?"unconnected_commerce_product_match_on_newsfeed_"+Y:B===!0?"unconnected_commerce_seller_admin_on_newsfeed_"+Y:"product_tag_on_newsfeed_"+Y;d("CometProductTagLoggingUtils").logProductTagPostClick(p,"CometAlbumGridLayout",J,"newsfeed",Y,a)}};return k.jsxs("div",{className:c("stylex")(r.gridCell),"data-testid":void 0,style:{bottom:"calc(("+(E-(T+l))*100+"% / "+E+") + "+(T+l<E?U:0)+"px)",left:"calc(("+S*100+"% / "+C+") + "+(S>0?U:0)+"px)",right:"calc(("+(C-(S+L))*100+"% / "+C+") + "+(S+L<C?U:0)+"px)",top:"calc(("+T*100+"% / "+E+") + "+(T>0?U:0)+"px)"},children:[k.jsxs(c("CometPressable.react"),{"aria-label":K!=null?h._(/*FBT_CALL*/"V\u00eddeo em um \u00e1lbum"/*FBT_CALL*/):R,display:"block",hideHoverOverlay:!0,linkProps:{passthroughProps:babelHelpers["extends"]({index:H,initialTracePolicy:A,portableVideoID:M,productTagFunnelID:J,storyRenderLocation:I==null?void 0:I.renderLocation,subOrigin:F,trackingCode:G},g),rel:t?void 0:"theater",url:a?z<a.length?a[z]:X:X},onPress:Q,overlayPressedStyle:r.mediaPressed,ref:e,xstyle:r.imageButton,children:[O,N?k.jsx("div",{className:c("stylex")(r.overlay),children:k.jsx("div",{className:c("stylex")(r.overlayText),children:h._(/*FBT_CALL*/"+{num}"/*FBT_CALL*/,[h._param("num",D)])})}):null]}),f&&Y!=null&&k.jsx(c("CometFeedAlbumGridWarningScreen.react"),{media:f,mediaUrl:X}),k.jsx(d("CometRelay").MatchContainer,{match:f==null?void 0:f.copyright_banner_info})]},V)}e.displayName=e.name+" [from "+f.id+"]";var v=k.forwardRef(e);g["default"]=a}),98);
__d("CometFeedStoryAlbumAttachment.react",["CometAlbumGridLayout.react","CometFeedStoryAlbumAttachment_attachment.graphql","CometFeedStoryAttachmentCommandWidget","ConstUriUtils","RelayHooks","StoryAttachmentActorContext","cometGetKeyCommandConfig","getCometMediaURL","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useMemo,l=e.useRef;function m(){var a=l(null),b=j(function(){var b=a.current;b!=null&&b.click()},[]),e=k(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","openAttachment",b)]},[b]);c("CometFeedStoryAttachmentCommandWidget").useKeyCommands(e);return a}function n(a,b){var c=a==null?void 0:a.deduplication_key;if(c!=null)return c;c=a==null?void 0:(c=a.media)==null?void 0:(a=c.image)==null?void 0:a.uri;return c!=null?c:"attachment-"+b}function o(a,b){return b==null?[]:b.map(function(b,e){var f,g,h,i;f=(f=b.media)==null?void 0:f.image;var j=b==null?void 0:b.url;g=(g=b.media)==null?void 0:g.is_playable;if(f==null||j==null)return null;var k=j,l=c("getCometMediaURL")(b.media,a);j=d("ConstUriUtils").getUri(j);if(l&&j){l=(l=d("ConstUriUtils").getUri(l))==null?void 0:(l=l.setProtocol(j==null?void 0:j.getProtocol()))==null?void 0:(l=l.setDomain(j==null?void 0:j.getDomain()))==null?void 0:(j=l.getQualifiedUri())==null?void 0:j.toString();l!==null&&l!==void 0&&(k=l)}j=f.height;l=f.uri;f=f.width;if(l==null||j==null||f==null)return null;e=n(b,e);h=(h=b==null?void 0:b.media)!=null?h:null;return{accessibilityCaption:(i=b.media)==null?void 0:i.accessibility_caption,focusX:(i=b.media)==null?void 0:(i=i.focus)==null?void 0:i.x,focusY:(i=b.media)==null?void 0:(b=i.focus)==null?void 0:b.y,height:j,id:e,isPlayable:g===!0,photo:(h==null?void 0:h.__typename)==="Photo"?h:null,uri:l,url:k,video:(h==null?void 0:h.__typename)==="Video"?h:null,width:f}}).filter(Boolean)}var p=h!==void 0?h:h=b("CometFeedStoryAlbumAttachment_attachment.graphql");function a(a){var b=d("RelayHooks").useFragment(p,a.attachment),e=m(),f=d("StoryAttachmentActorContext").useStoryAttachmentActor();if(b==null){var g;g=(g=a.attachmentStrategy_UNSTABLE_DO_NOT_USE)!=null?g:"";return c("recoverableViolation")("attachment cannot be nullish in CometFeedStoryAlbumAttachmentStyle. Attachment style: "+g,"comet_feed")}g=b==null?void 0:b.all_subattachments;b=b==null?void 0:b.mediaset_token;b=o(b,g==null?void 0:g.nodes);if(g==null||b.length<1){var h;h=(h=a.attachmentStrategy_UNSTABLE_DO_NOT_USE)!=null?h:"";return c("recoverableViolation")("subattachments cannot be nullish or empty in CometFeedStoryAlbumAttachmentStyle. Attachment style: "+h,"comet_feed")}h=g.count||0;f=((g=f==null?void 0:f.__typename)!=null?g:"User")==="User";return i.jsxs("div",{children:[i.jsx(c("CometAlbumGridLayout.react"),{adID:a.adID,attachments:b,firstItemRef:e,hasProductMatch:a.hasProductMatch,hasProductTags:a.hasProductTags,initialTracePolicy:a.initialTracePolicy,isUntagged:a.isUntagged,isUser:f,subOrigin:a.subOrigin,totalNumItems:h,urls:a.urls}),a.productTagOverlay]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EntPhotoCollageItemContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"EntPhotoCollageItemContainerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"EntPhotoCollageItem_media"}],type:"Photo",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"EntPhotoCollageItemContainerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"3825262914227511",metadata:{},name:"EntPhotoCollageItemContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EntPhotoCollageItem_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"EntPhotoCollageItem_media",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometComposerEditMediaAttachmentItemButton.react",["fbt","ix","CometMediaEditorPageResource","CometVideoToolsLoggingContext","MediaEditorViewStateContext","TetraButton.react","emptyFunction","fbicon","gkx","lazyLoadComponent","react","useCometComposerPushPage","useComposerPluginIneligibility"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext,l=c("lazyLoadComponent")(c("CometMediaEditorPageResource"));function a(a,b){var e=a.buttonLabel;e=e===void 0?h._(/*FBT_CALL*/"Editar"/*FBT_CALL*/):e;var f=a.index,g=a.isOnVideoLiteComposer,m=a.onClickLog,n=m===void 0?c("emptyFunction"):m,o=a.isVideoBeingEdited,p=c("useCometComposerPushPage")();m=c("useComposerPluginIneligibility")().has("MEDIA_EDIT");var q=k(c("CometVideoToolsLoggingContext"));a=(a=k(c("MediaEditorViewStateContext")))==null?void 0:a.isEditingPreExistingStory;a===!0&&(q=babelHelpers["extends"]({},q,{dialogMode:"video_edit"}));return m&&!c("gkx")("1915661")?null:j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("477825"),16),label:e,onPress:function(){p!=null&&(n(),p(h._(/*FBT_CALL*/"Detalhe da foto"/*FBT_CALL*/),function(a){a=a.onReturn;return j.jsx(c("CometVideoToolsLoggingContext").Provider,{value:q,children:j.jsx(l,{index:f,isDialog:!0,isOnVideoLiteComposer:g,isVideoBeingEdited:o,onBack:a})})},{hasCustomHeader:!0}))},ref:b,testid:void 0,type:"overlay"})}a.displayName=a.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("CometComposerRemoveMediaAttachmentItemButton.react",["fbt","ix","TetraCircleButton.react","cometIsMimeTypeForMedia","fbicon","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.attachment,e=c("useComposerViewStateDispatcher")();a=k(function(){e({attachment:b,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})},[b,e]);return j.jsx("div",{className:"a7x4jqbc gwewmpg2 pmk7jnqg jaqpu5ht",children:j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478238"),20),label:d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(b==null?void 0:b.fileType)?h._(/*FBT_CALL*/"Remover foto"/*FBT_CALL*/):h._(/*FBT_CALL*/"Remover v\u00eddeo"/*FBT_CALL*/),onPress:a,size:36,type:"overlay"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometVideoEditorUtils.react",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){if(!a||!a.length)return null;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;switch(d.state){case"UPLOADING":switch(d.fileType){case"VIDEO":return d;default:}break;case"UPLOADED":switch(d.fileType){case"VIDEO":return d;default:}break;case"PREEXISTING":switch(d.fileType){case"VIDEO":return d;default:}default:}}return null};a=function(a){if(!a)return null;a=g(a.mediaAttachments);return(a==null?void 0:a.videoAttachmentMetadata)||null};b=function(a){a=h(a);return(a==null?void 0:a.videoAttachmentMetadata)||null};c=function(a){if(a.fileType==="VIDEO"&&(a.state==="UPLOADED"||a.state==="PREEXISTING")){return(a==null?void 0:(a=a.videoAttachmentMetadata)==null?void 0:a.thumbnailPreviewURL)||""}return""};function h(a){if(a==null)return;switch(a.state){case"UPLOADING":switch(a.fileType){case"VIDEO":return a;default:}return;case"UPLOADED":switch(a.fileType){case"VIDEO":return a;default:}return;default:}}f.getFirstVideoAttachment=g;f.getVideoAttachmentMetaDataFromForFirstVideoComposerState=a;f.getVideoAttachmentMetadata=b;f.getThumbnailURLFromVideoMetadata=c}),66);
__d("ComposerMediaDeepDiveUploadFailedItem.react",["CometColumn.react","CometColumnItem.react","CometNullState.react","NullStateMedia","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.errorMessage,d=a.fileName;a=a.small;a=a===void 0?!1:a;return h.jsx("div",{className:"datstx6m j83agx80 gigke590 l36b2tei mvoc3dfa zonuqk10 ljqcmsvz bp9cbjyn",children:h.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",children:h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("CometNullState.react"),{body:(b=b)!=null?b:"",bodyColor:"negative",headline:d,icon:a?null:c("NullStateMedia"),small:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerPhotoLayoutItem.react",["CometBackgroundImage.react","CometComposerFocusImage.react","CometPhotoLayoutMediaOverlay.react","ComposerCometPhotoLayoutMediaAttachmentContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.alt,e=a.height,f=a.numPhotosNotShown,g=a.onError,j=a.shouldShowOverlay,k=a.src,l=a.viewportAspectRatio;a=a.width;var m=i(c("ComposerCometPhotoLayoutMediaAttachmentContext")),n=m.focusX;m=m.focusY;if(e==null||a==null)return h.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:k});else return h.jsxs(h.Fragment,{children:[h.jsx(d("CometComposerFocusImage.react").CometComposerFocusImage,{alt:b,focusX:n,focusY:m,imageHeight:e,imageWidth:a,onError:g,src:k,viewportAspectRatio:l}),j===!0&&f!=null?h.jsx(c("CometPhotoLayoutMediaOverlay.react"),{numItemsNotShown:f}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EntPhotoCollageItem.react",["CometBackgroundImage.react","CometComposerPhotoLayoutItem.react","CometRelay","ComposerCometPhotoLayoutMediaAttachmentContext","ComposerCometSelectedPhotoLayoutContext","EntPhotoCollageItem_media.graphql","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useEffect;function a(a){var e;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var f=c("useComposerViewStateDispatcher")(),g=d("CometRelay").useFragment(h!==void 0?h:h=b("EntPhotoCollageItem_media.graphql"),a.media);k(function(){var b,c;b=g==null?void 0:(b=g.image)==null?void 0:b.height;c=g==null?void 0:(c=g.image)==null?void 0:c.width;b!=null&&c!=null&&f({entID:a.id,height:b,type:"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS",width:c})},[g,f,a.id]);e=g==null?void 0:(e=g.image)==null?void 0:e.uri;var l=j(c("ComposerCometSelectedPhotoLayoutContext")),m=j(c("ComposerCometPhotoLayoutMediaAttachmentContext")),n=m.numPhotosNotShown,o=m.setFocusX,p=m.setFocusY,q=m.shouldShowOverlay;m=m.viewportAspectRatio;var r=g==null?void 0:g.image,s=r==null?void 0:r.height;r=r==null?void 0:r.width;var t=g==null?void 0:g.focus,u=t==null?void 0:t.x,v=t==null?void 0:t.y;k(function(){o&&p&&u!=null&&v!=null&&(o(u),p(v))},[o,p,u,v]);if(e==null)return null;else if(!!l.layout&&l.layout!=="classic")return i.jsx(c("CometComposerPhotoLayoutItem.react"),{height:s,numPhotosNotShown:n,shouldShowOverlay:q,src:e,viewportAspectRatio:m,width:r});else return i.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EntPhotoCollageItemContainer.react",["CometRelay","EntPhotoCollageItem.react","EntPhotoCollageItemContainerQuery.graphql","WebPixelRatio","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("EntPhotoCollageItemContainerQuery.graphql"),{id:a.id,scale:d("WebPixelRatio").get()});return i.jsx(c("EntPhotoCollageItem.react"),{id:a.id,media:e==null?void 0:e.node})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDNPreviewPhotoCollageItem.react",["CollageItemFallback.react","CometPlaceholder.react","EntPhotoCollageItemContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entID,d=a.filename,e=a.fileType;a=a.percentComplete;e=h.jsx(c("CollageItemFallback.react"),{fileType:e,filename:d,percentComplete:a});if(b!=null)return h.jsx(c("CometPlaceholder.react"),{fallback:e,children:h.jsx(c("EntPhotoCollageItemContainer.react"),{id:b})});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PlayableCollageItemOverlay.react",["CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{className:"hyc5pup2 rr1tmaxi pmk7jnqg",children:h.jsx(c("CometImage.react"),{height:72,src:"/images/video/play_72dp.png",width:72})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("OptimisticallyUploadedPhotoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CometBackgroundImage.react","JSResourceForInteraction","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("OptimisticallyUploadedPhotoCollageItem.react"));function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.sphericalEncoding?h.jsx(i,{}):null;return b.fileObjectURL!=null&&b.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBackgroundImage.react"),{draggable:!1,onError:function(){d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:b.fileObjectURL}),b.fileType==="VIDEO"?h.jsx(c("PlayableCollageItemOverlay.react"),{}):null,a]}):h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:b.entID,fileType:b.fileType,filename:b.fileName,percentComplete:b.percentComplete}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("OptimisticallyUploadedVideoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CircularProgressBar.react","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.fileObjectURL;var e=b.percentComplete;return b.fileObjectURL!=null&&b.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx("video",{className:"k4urcfbm bixrwtb6 datstx6m",onLoadedMetadata:function(a){a.target.videoWidth===0&&a.target.videoHeight===0&&d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:a}),h.jsx(c("PlayableCollageItemOverlay.react"),{}),e!=null&&h.jsx(c("CircularProgressBar.react"),{percentComplete:e*100})]}):h.jsx(c("CDNPreviewPhotoCollageItem.react"),{fileType:b.fileType,filename:b.fileName,percentComplete:b.percentComplete})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("OptimisticallyUploadedCollageItem.react",["OptimisticallyUploadedPhotoCollageItem.react","OptimisticallyUploadedVideoCollageItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;var b=a.fileType==="PHOTO"||a.fileType==="UNKNOWN"||a.fileType==="VIDEO"&&a.fileMimeType==="image/gif";return b?h.jsx(c("OptimisticallyUploadedPhotoCollageItem.react"),{attachment:a}):h.jsx(c("OptimisticallyUploadedVideoCollageItem.react"),{attachment:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PreexistingPhotoLayoutItem.react",["CDNPreviewPhotoCollageItem.react","CometPlaceholder.react","JSResourceForInteraction","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("PreexistingPhotoLayoutItem.react"));function a(a){a=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var b=a.sphericalEncoding?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;return h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:a.entID,fileType:a.fileType,filename:null}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PreexistingPhotoCollageItem.react",["CometBackgroundImage.react","PreexistingPhotoLayoutItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;return a.fileType!=="UNKNOWN"?h.jsx(c("PreexistingPhotoLayoutItem.react"),{attachment:a}):h.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:a.url})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedPhotoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CometBackgroundImage.react","CometPlaceholder.react","JSResourceForInteraction","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("UploadingOrUploadedPhotoCollageItem.react"));function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.sphericalEncoding?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;var e=b.file;return b.fileObjectURL!=null&&b.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx(c("CometBackgroundImage.react"),{alt:e.name,draggable:!1,onError:function(){d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:b.fileObjectURL}),b.fileType==="VIDEO"?h.jsx(c("PlayableCollageItemOverlay.react"),{}):null,a]}):h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:b.state==="UPLOADED"?b.entID:void 0,fileType:b.fileType,filename:e.name}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedPhotoLayoutItem.react",["CDNPreviewPhotoCollageItem.react","CometComposerPhotoLayoutItem.react","CometPlaceholder.react","ComposerCometPhotoLayoutMediaAttachmentContext","JSResourceForInteraction","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("UploadingOrUploadedPhotoLayoutItem.react")),k=500,l=261;function a(a){var b=a.attachment;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var d=c("useComposerViewStateDispatcher")();a=b.sphericalEncoding?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{})}):null;var e=function(){d({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},f=b.width!=null?b.width:null,g=b.height!=null?b.height:null;(f==null||g==null)&&(f=k,g=l);var m=i(c("ComposerCometPhotoLayoutMediaAttachmentContext")),n=m.numPhotosNotShown,o=m.shouldShowOverlay;m=m.viewportAspectRatio;var p=b.file;if(b.useCDNPreview!==!0&&b.fileObjectURL!=null)return h.jsxs("div",{children:[h.jsx(c("CometComposerPhotoLayoutItem.react"),{alt:p.name,height:g,numPhotosNotShown:n,onError:e,shouldShowOverlay:o,src:b.fileObjectURL,viewportAspectRatio:m,width:f}),a]});else return h.jsxs(h.Fragment,{children:[h.jsx(c("CDNPreviewPhotoCollageItem.react"),{entID:b.state==="UPLOADED"?b.entID:void 0,fileType:b.fileType,filename:p.name}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDNPreviewVideoCollageItem.react",["CollageItemFallback.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.filename;a=a.fileType;return h.jsx(c("CollageItemFallback.react"),{fileType:a,filename:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedVideoCollageItem.react",["CDNPreviewVideoCollageItem.react","CometVideoEditorUtils.react","PlayableCollageItemOverlay.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.attachment;if(a.fileType==="VIDEO"){var b=a.file,e=d("CometVideoEditorUtils.react").getThumbnailURLFromVideoMetadata(a);return a.fileObjectURL!=null&&a.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx("video",{className:"k4urcfbm bixrwtb6 datstx6m",poster:e,src:a.fileObjectURL}),h.jsx(c("PlayableCollageItemOverlay.react"),{})]}):h.jsx(c("CDNPreviewVideoCollageItem.react"),{entID:a.state==="UPLOADED"?a.entID:void 0,fileType:a.fileType,filename:b.name})}else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UploadingOrUploadedCollageItem.react",["ComposerCometSelectedPhotoLayoutContext","UploadingOrUploadedPhotoCollageItem.react","UploadingOrUploadedPhotoLayoutItem.react","UploadingOrUploadedVideoCollageItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){a=a.attachment;var b=a.fileType==="PHOTO"||a.fileType==="VIDEO"&&a.file.type==="image/gif",d=i(c("ComposerCometSelectedPhotoLayoutContext"));d=!!d.layout&&d.layout!=="classic";if(b)return d?h.jsx(c("UploadingOrUploadedPhotoLayoutItem.react"),{attachment:a}):h.jsx(c("UploadingOrUploadedPhotoCollageItem.react"),{attachment:a});else return h.jsx(c("UploadingOrUploadedVideoCollageItem.react"),{attachment:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerMediaAttachmentItem.react",["fbt","CollageItemFallback.react","CometBackgroundImage.react","CometComposerRemoveMediaAttachmentItemButton.react","CometPlaceholder.react","CometVideoEditorUtils.react","ComposerMediaDeepDiveUploadFailedItem.react","JSResourceForInteraction","OptimisticallyUploadedCollageItem.react","PlayableCollageItemOverlay.react","PreexistingPhotoCollageItem.react","UploadingOrUploadedCollageItem.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("CometComposerMediaAttachmentItem.react"));function a(a){var b=a.attachment;a=a.withRemoveButton;var e=a===void 0?!0:a;a=b.sphericalEncoding?i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{})}):null;var f=function(a){return e?i.jsx(c("CometComposerRemoveMediaAttachmentItemButton.react"),{attachment:a}):null};switch(b.state){case"PREEXISTING":var g;switch(b.fileType){case"VIDEO":var k=d("CometVideoEditorUtils.react").getThumbnailURLFromVideoMetadata(b);g=i.jsxs(i.Fragment,{children:[i.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:k.length>0?k:b.imageURL}),i.jsx(c("PlayableCollageItemOverlay.react"),{}),a]});break;case"PHOTO":g=i.jsx(c("PreexistingPhotoCollageItem.react"),{attachment:b});break;default:g=i.jsxs(i.Fragment,{children:[i.jsx(c("CometBackgroundImage.react"),{draggable:!1,src:b.url}),a]});break}return i.jsxs(i.Fragment,{children:[g,f(b)]});case"NEW":case"CLIENT_PROCESSING":case"CLIENT_PROCESSING_COMPLETE":return i.jsxs(i.Fragment,{children:[i.jsx(c("CollageItemFallback.react"),{fileType:b.fileType,filename:b.file.name}),a]});case"QUEUED":case"UPLOADING":case"UPLOADED":return b.file==null?null:i.jsxs(i.Fragment,{children:[i.jsx(c("UploadingOrUploadedCollageItem.react"),{attachment:b}),b.state==="UPLOADED"?f(b):i.jsx("div",{className:"g7nl5sj3 kr520xx4 pmk7jnqg datstx6m n7fi1qx3 m96f97by",style:{width:(1-(b.percentComplete||0))*100+"%"},children:f(b)})]});case"FAILED":k=b.error;if(k==null)switch(b.fileType){case"VIDEO":k=h._(/*FBT_CALL*/"N\u00e3o \u00e9 poss\u00edvel carregar o v\u00eddeo"/*FBT_CALL*/);break;default:k=h._(/*FBT_CALL*/"N\u00e3o \u00e9 poss\u00edvel carregar a imagem"/*FBT_CALL*/);break}return i.jsx(c("ComposerMediaDeepDiveUploadFailedItem.react"),{errorMessage:k,fileName:b.file.name,small:!0});case"OPTIMISTIC_UPLOADED":return b.fileObjectURL==null?null:i.jsx(c("OptimisticallyUploadedCollageItem.react"),{attachment:b});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerMediaAttachmentItemContainer.react",["CometComposerMediaAttachmentItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=h.jsx(c("CometComposerMediaAttachmentItem.react"),babelHelpers["extends"]({},a));return b?h.jsx("div",{className:"l9j0dhe7 jm1wdb64"+(a.attachment.state==="failed"?" a64ryyup ku5f423u hmw3o7ox jw3uvs1e":"")+" k4urcfbm datstx6m",children:b}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerMediaAttachmentUploadFileButton.react",["fbt","ix","CometFileSelector.react","CometPressable.react","TetraButton.react","composerMediaAttachmentReducer","fbicon","fileInputAcceptValues","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.activateMediaAttachment,e=b===void 0?!1:b;b=a.disableVideo;a=b===void 0?!1:b;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var f=c("useComposerViewStateDispatcher")();b=k(function(a){a.length>0&&(f({files:Array.from(a),type:"ADD_MEDIA_ATTACHMENT_ITEMS"}),e&&f({attachmentType:"MEDIA",type:"ACTIVATE_ATTACHMENT_TYPE"}))},[f,e]);return j.jsx(c("CometFileSelector.react"),{accept:a?d("fileInputAcceptValues").PHOTO:d("fileInputAcceptValues").PHOTO_AND_VIDEO,multiple:!0,onFilesSelected:b,children:function(a){return j.jsx(c("CometPressable.react"),{display:"inline",label:h._(/*FBT_CALL*/"Carregar outra foto\/v\u00eddeo"/*FBT_CALL*/),onPress:a,overlayDisabled:!0,children:j.jsx("div",{className:"tj6ad7yx l9j0dhe7 jm1wdb64 f9o22wc5 dicw6rsg ad2k81qe rs0gx3tq taijpn5t qzj7cv8z pfnyh3mw kb5gq1qc j83agx80 bp9cbjyn",children:j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("481779"),16),label:h._(/*FBT_CALL*/"Adicionar fotos\/v\u00eddeos"/*FBT_CALL*/),onPress:a,testid:void 0,type:"secondary"})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerCometMediaAttachmentClassicLayout.react",["fbt","CometComposerHeadlessMediaUploader.react","CometComposerMediaAttachmentItemContainer.react","CometComposerStylingConstants","CometPlaceholder.react","composerMediaAttachmentReducer","react","useComposerViewStateReducer","useMediaCollage","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=5;function a(a){var b=a.composerDialogWidth,e=a.mediaAttachments,f=a.mediaUploadLoggingMetadata,g=a.width;a=a.withoutUploader;b=((b=b)!=null?b:d("CometComposerStylingConstants").COMPOSER_ORIGINAL_WIDTH)-d("CometComposerStylingConstants").COMPOSER_PADDING_SIDE*2-d("CometComposerStylingConstants").COMPOSER_ATTACHMENT_AREA_BORDER*2;b=c("useMediaCollage")(b,e,g);g=b.height;var k=b.itemStyleInfos,l=b.numItemsNotShown;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));return i.jsxs("div",{style:{height:g},children:[a!==!0&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:f})}),k.map(function(a,b){var d=(e||[])[b];if(d==null)return null;var f=b===j-1&&l>0;return i.jsxs("div",{className:"pmk7jnqg stjgntxs ni8dbmo4 taijpn5t j83agx80 bp9cbjyn","data-testid":void 0,style:a,children:[i.jsx(c("CometComposerMediaAttachmentItemContainer.react"),{attachment:d,withRemoveButton:!1},"media-"+b),f?i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg taijpn5t cbu4d94t n7fi1qx3 j83agx80 i09qtzwb sx5rzos5 bp9cbjyn",children:i.jsx("div",{className:"oqcyycmt lrazzd5p mhxlubs3 qrtewk5h",children:h._(/*FBT_CALL*/"+{num}"/*FBT_CALL*/,[h._param("num",l+1)])})}):null]},"media-"+b+"-container")})]})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{composerDialogWidth:(a=a.composerSizeAndStyleMetadata)==null?void 0:a.composerDialogWidth}});g["default"]=b}),98);
__d("ComposerCometMediaAttachmentCollageLayoutRenderer.react",["ComposerCometMediaAttachmentClassicLayout.react","cr:1661928","cr:1674490","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.selectedPhotoLayout,e=babelHelpers.objectWithoutPropertiesLoose(a,["selectedPhotoLayout"]);a=c("gkx")("1609581");var f=function(){return h.jsx(c("ComposerCometMediaAttachmentClassicLayout.react"),babelHelpers["extends"]({},e))};if(!d||!a)return f();switch(d){case"classic":return f();case"columns":if(b("cr:1661928"))return h.jsx(b("cr:1661928"),{mediaAttachments:e.mediaAttachments});else throw new(c("unrecoverableViolation"))("ComposerCometMediaAttachmentCollageLayoutRenderer was unable to render Column Photo Layout","comet_composer");case"banner":return i(d);case"frame":if(b("cr:1674490"))return h.jsx(b("cr:1674490"),{mediaAttachments:e.mediaAttachments});else throw new(c("unrecoverableViolation"))("ComposerCometMediaAttachmentCollageLayoutRenderer was unable to render Frame Photo Layout","comet_composer");default:d;throw c("unrecoverableViolation")("photo layout not supported in ComposerCometMediaAttachmentCollageLayoutRenderer","comet_composer")}}a.displayName=a.name+" [from "+f.id+"]";function i(a){return h.jsx("div",{className:"sgwjjusx",children:a})}i.displayName=i.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryOptimisticProgressBar.react",["fbt","Actor","ComposerMediaFileUploader","RunComet","cometComposerLogger","react","useOnBeforeUnload"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState,m=95;function a(){var a=l(0),b=a[0],e=a[1];a=d("Actor").useActor();a=a[0];var f=c("ComposerMediaFileUploader").getInstance(a),g=k(!1),n=function(a){a=Array.from(a.values()).reduce(function(a,b){a.bytesLoaded+=b.bytesLoaded;a.bytesTotal+=b.bytesTotal;return a},{bytesLoaded:0,bytesTotal:0});a.bytesLoaded===a.bytesTotal&&(g.current=!0);var b=a.bytesTotal!==0?a.bytesLoaded/a.bytesTotal*m:0;e(function(a){return Math.max(b,a)})};c("useOnBeforeUnload")(function(){if(!g.current)return{warnMessage:h._(/*FBT_CALL*/"Sua publica\u00e7\u00e3o ainda est\u00e1 sendo carregada. Deseja sair sem concluir o carregamento?"/*FBT_CALL*/)}});j(function(){f&&f.uploadStatusChangeObserver.subscribe(n);var a=function(){if(!g.current){var a;c("cometComposerLogger")({fields:{terminalReason:"shutdown"},type:"COMPOSER_POST_TERMINAL"},(a=f==null?void 0:f.getCreationSessionID())!=null?a:"")}},b=d("RunComet").onUnload(a);return function(){f&&f.uploadStatusChangeObserver.unsubscribe(n);return b.remove()}},[f]);return i.jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 kgtf8isp ed3p1gfi mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 cwj9ozl2","data-testid":void 0,children:i.jsx("div",{className:"stjgntxs ni8dbmo4 qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3",children:i.jsx("div",{className:"b7h9ocf4 flx89l3n tn0ko95a qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 nfl8ryma",style:{transform:"translateX(calc(-100% + "+b+"%))"}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Comet360PhotoTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Cylindrical","Equirectangular","TiledCubemap"]);f.Comet360PhotoProjection=a}),66);
__d("CometSphericalPhotoUtils",["Comet360PhotoTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getPhotoSphereMetadata();return a==null?null:h(a)}function h(a){var b=Number(a.CroppedAreaImageWidthPixels)/Number(a.CroppedAreaImageHeightPixels),c=Number(a.CroppedAreaImageWidthPixels)/Number(a.FullPanoWidthPixels)*Math.PI*2,e=Number(a.CroppedAreaImageHeightPixels)/Number(a.FullPanoHeightPixels)*Math.PI*2,f=Number(a.InitialViewHeadingDegrees),g=Number(a.InitialViewPitchDegrees),h=Number(a.InitialViewVerticalFOVDegrees),j=Number(a.CroppedAreaImageHeightPixels)===Number(a.CroppedAreaImageWidthPixels)*2?d("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular:d("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;switch(a.ProjectionType){case"equirectangular":j=d("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular;break;case"cylindrical":j=d("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;break}a={aspectRatio:b,horizontalFov:c,projectionType:j,startingView:{heading:i(f),horizontalFov:null,pitch:i(g),verticalFov:h!==0?i(h):null},verticalFov:e};return a}function i(a){return a/180*Math.PI}g.createEncodingFromSphericalImage=a}),98);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(b("Promise"))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f["default"]=a}),66);
__d("EndianAwareDataView",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=0),this.$2=new DataView(a,c),this.$1=b}var b=a.prototype;b.getByteLength=function(){return this.$2.byteLength};b.getU8=function(a){return this.$2.getUint8(a)};b.getI8=function(a){return this.$2.getInt8(a)};b.getU16=function(a){return this.$2.getUint16(a,this.$1)};b.getI16=function(a){return this.$2.getInt16(a,this.$1)};b.getU32=function(a){return this.$2.getUint32(a,this.$1)};b.getI32=function(a){return this.$2.getInt32(a,this.$1)};b.getF32=function(a){return this.$2.getFloat32(a,this.$1)};return a}();f["default"]=a}),66);
__d("EndianAwareDataReader",["EndianAwareDataView"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$2=new(c("EndianAwareDataView"))(a,b),this.$1=0}var b=a.prototype;b.canReadU8=function(){return this.$1<this.$2.getByteLength()};b.canReadU16=function(){return this.$1<this.$2.getByteLength()-1};b.canReadU32=function(){return this.$1<this.$2.getByteLength()-3};b.seekTo=function(a){this.$1=a};b.seekRelative=function(a){this.$1+=a};b.readU8=function(){var a=this.$2.getU8(this.$1);this.$1+=1;return a};b.peekU8=function(){return this.$2.getU8(this.$1)};b.readI8=function(){var a=this.$2.getI8(this.$1);this.$1+=1;return a};b.peekI8=function(){return this.$2.getI8(this.$1)};b.readU16=function(){var a=this.$2.getU16(this.$1);this.$1+=2;return a};b.peekU16=function(){return this.$2.getU16(this.$1)};b.readI16=function(){var a=this.$2.getI16(this.$1);this.$1+=2;return a};b.peekI16=function(){return this.$2.getI16(this.$1)};b.readU32=function(){var a=this.$2.getU32(this.$1);this.$1+=4;return a};b.peekU32=function(){return this.$2.getU32(this.$1)};b.readI32=function(){var a=this.$2.getI32(this.$1);this.$1+=4;return a};b.peekI32=function(){return this.$2.getI32(this.$1)};b.readF32=function(){var a=this.$2.getF32(this.$1);this.$1+=4;return a};b.peekF32=function(){return this.$2.getF32(this.$1)};return a}();g["default"]=a}),98);
__d("parseIFDEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.readU16(),c=a.readU16(),d=a.readU32(),e=Object.freeze({offset:a.peekU32(),type:"offset"});switch(c){case 1:case 2:case 7:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU8())}break;case 6:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI8())}break;case 3:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU16())}break;case 8:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI16())}break;case 4:d<2&&(e={type:"data",values:[a.readU32()]});break;case 9:d<2&&(e={type:"data",values:[a.readI32()]});break;case 11:d<2&&(e={type:"data",values:[a.readF32()]});break;case 5:case 10:case 12:a.seekRelative(4);break}return{format:c,tag:b,value:e}}f["default"]=a}),66);
__d("parseIFDTable",["parseIFDEntry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.readU16(),d=[];for(var e=0;e<b;e++)d.push(c("parseIFDEntry")(a));b=a.readU32();return{entries:d,nextTableOffset:b}}g["default"]=a}),98);
__d("parseTIFFHeader",["EndianAwareDataReader","parseIFDTable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=0);var d=new Uint8Array(a,b),e=!0;if(d[0]===77&&d[1]===77)e=!1;else if(d[0]!==73||d[1]!==73)return null;d=new(c("EndianAwareDataReader"))(a,e);d.seekTo(b+2);if(d.readU16()!==42)return null;a=d.readU32();d.seekRelative(a-8);e=c("parseIFDTable")(d);return[e]}g["default"]=a}),98);
__d("extractJPEGOrientationData",["genArrayBufferFromFile","parseTIFFHeader"],(function(a,b,c,d,e,f,g){"use strict";var h=65496,i=65498,j=1165519206;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){var b=new DataView(a);if(b.getUint16(0,!1)!==h)return null;var d=2;while(d<a.byteLength-2&&b.getUint16(d)!==i){var e=b.getUint16(d),f=e&65280;e=e&255;if(f===65280)if(e===225){if(b.getUint32(d+4)!==j||b.getUint16(d+8)!==0)return null;f=c("parseTIFFHeader")(a,d+10);if(f!=null){f=f[0];for(var f=f.entries,g=Array.isArray(f),k=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(g){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;if(l.tag===274){l=l.value;if(l.type==="data"){l=l.values[0];if(l==null)return null;return l===0||l===1||l===2||l===3||l===4||l===5||l===6||l===7||l===8?l:null}return null}}}return null}else if(e!==0&&(e<208||e>217)){l=b.getUint16(d+2,!1);d+=l+2}}return null})}g["default"]=a}),98);
__d("genDimensionsFromImageFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Image(),d=new(b("Promise"))(function(a,b){c.onload=function(){a({height:c.height,width:c.width})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}f["default"]=a}),66);
__d("genDimensionsFromVideoFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=document.createElement("video"),d=new(b("Promise"))(function(a,b){c.onloadedmetadata=function(){a({height:c.videoHeight,width:c.videoWidth})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}f["default"]=a}),66);
__d("genIsHEICFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[102,116,121,112],d=[104,101,105,99],e=[104,101,105,120];return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var c=a.slice(4,8).reduce(function(a,c,d){return a&&c===b[d]},!0);if(!c)return!1;c=a.slice(8,12).reduce(function(a,b,c){return a&&b===d[c]},!0);if(c)return!0;c=a.slice(8,12).reduce(function(a,b,c){return a&&b===e[c]},!0);return c?!0:!1})}g["default"]=a}),98);
__d("genIsNonAnimatedGifFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a[b]===0&&a[b+1]===33&&a[b+2]===249&&a[b+3]===4&&a[b+8]===0&&(a[b+9]===44||a[b+9]===33)}function a(a){var b=[71,73,70,56,55,97],d=[71,73,70,56,57,97];return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var c=a.slice(0,6).reduce(function(a,c,d){return a&&c===b[d]},!0);if(c)return!0;c=a.slice(0,6).reduce(function(a,b,c){return a&&b===d[c]},!0);if(!c)return!1;c=0;for(var e=6;e+9<a.length;++e){h(a,e)&&c++;if(c>1)return!1}return!0})}g["default"]=a}),98);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";var h=8;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(12,16).reduce(function(a,b,c){return a+String.fromCharCode(b)},"");if(b==="VP8X"){b=a[20];b=b.toString(2).padStart(8,"0");if(b[6]==="1")return!i(a)}return!0})}function i(a){var b=12,c=0;while(c<2&&b+h<a.length){var d=j(a,b);d==="ANMF"&&c++;d=k(a,b+4);var e=d%2;d=h+d+e;b+=d}return c>1}function j(a,b){return a.slice(b,b+4).reduce(function(a,b,c){return a+String.fromCharCode(b)},"")}function k(a,b){return parseInt(a.slice(b,b+4).reduce(function(a,b,c){return b.toString(2).padStart(8,"0")+a},""),2)}g["default"]=a}),98);
__d("readVINT",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=0;b=Math.min(a.length,(b=b)!=null?b:Number.MAX_VALUE);var d=0;while(c<b){var e=a[c];if(e===0)d+=8,c++;else{d+=8-Math.floor(Math.log2(e));if(d>b||d<0)return null;e=g(a,d);return{vintData:e,nextReadOffset:d}}}return null}function g(a,b){var c=Math.floor(b/8),d=a[c],e=8-b%8;e<8&&(d^=1<<e);e=new Uint8Array(new ArrayBuffer(b-c));e[0]=d;e.set(a.slice(c+1,b),1);return e}f["default"]=a}),66);
__d("readEBMLHeader",["$InternalEnum","readVINT"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a*256+b},0)}function i(a){return String.fromCharCode.apply(String,Array.from(a))}var j=b("$InternalEnum")({EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxSizeLength:17139,EBMLMaxIDLength:17138,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029});function k(a){var b=c("readVINT")(a,4);if(b==null)return null;var d=h(a.slice(0,b.nextReadOffset));d=j.cast(d);var e=c("readVINT")(a.slice(b.nextReadOffset));if(e==null)return null;var f=h(e.vintData);b=b.nextReadOffset+e.nextReadOffset;e=b+f;if(e>a.length)return null;f=a.slice(b,e);return{id:d,data:f,nextReadOffset:e}}function l(a){a=k(a);if(a==null||a.id!==j.EBML)return null;a=a.data;var b=new Map(),c=k(a);while(c!=null)c.id!=null&&b.set(c.id,c.data),a=a.slice(c.nextReadOffset),c=k(a);return b}function a(a){var b,c=l(new Uint8Array(a));if(c==null)return null;a=function(a,b){a=c.get(a);if(a==null)return null;else return b(a)};var d=a(j.DocType,i);return d==null?null:{ebmlVersion:(b=a(j.EBMLVersion,h))!=null?b:1,ebmlReadVersion:(b=a(j.EBMLReadVersion,h))!=null?b:1,ebmlMaxIDLength:(b=a(j.EBMLMaxIDLength,h))!=null?b:4,ebmlMaxSizeLength:(b=a(j.EBMLMaxSizeLength,h))!=null?b:8,docType:d,docTypeVersion:(b=a(j.DocTypeVersion,h))!=null?b:1,docTypeReadVersion:(d=a(j.DocTypeReadVersion,h))!=null?d:1}}g["default"]=a}),98);
__d("isValidMKV",["Promise","readEBMLHeader"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=c("readEBMLHeader")(a);if(a==null)return!1;else return a.ebmlMaxIDLength===4&&a.ebmlMaxSizeLength>=1&&a.ebmlMaxSizeLength<=8&&a.docType==="matroska"}function a(a){return new(b("Promise"))(function(b,c){var d=new FileReader();d.onerror=function(){return c(d.error)};d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(h(a)):c()};d.readAsArrayBuffer(a)})}g["default"]=a}),98);
__d("usePagesCometComposerMultiMediaRestrictions",["fbt","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a,b){var c=i(function(a){a!=null&&a.map(function(a){return b({attachment:a,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})})},[b]);return i(function(){if(a!=null){var b=a.filter(function(a){return a.fileType==="PHOTO"}),e=a.filter(function(a){return a.fileType==="VIDEO"});b.length>0&&e.length>0&&(e.length===1&&e[0].state==="NEW"&&!b.some(function(a){return a.state==="NEW"})?c(b):c(e),d("cometPushToast").cometPushSimpleToast(h._(/*FBT_CALL*/"N\u00e3o \u00e9 poss\u00edvel adicionar fotos e um v\u00eddeo ao mesmo tempo"/*FBT_CALL*/)));e.length>1&&(c(e.slice(1)),d("cometPushToast").cometPushSimpleToast(h._(/*FBT_CALL*/"Selecione somente um arquivo de v\u00eddeo de cada vez."/*FBT_CALL*/)))}},[a,c])}g["default"]=a}),98);
__d("CometComposerHeadlessMediaUploaderImpl.react",["CometSphericalPhotoUtils","PagesCometComposerContext","Promise","cr:1506337","extractJPEGOrientationData","genDimensionsFromImageFile","genDimensionsFromVideoFile","genIsHEICFile","genIsNonAnimatedGifFile","genIsNonAnimatedWebPFile","gkx","isValidMKV","promiseDone","react","recoverableViolation","useCometComposerLoggerDispatcher","usePagesCometComposerMultiMediaRestrictions"],(function(a,b,c,d,e,f,g){"use strict";d("react");e=d("react");var h=e.useCallback,i=e.useContext,j=e.useEffect;function a(a){var e=a.composerUploader,f=a.dispatch,g=a.mediaAttachments,k=a.mediaUploadStatuses,l=a.preventDefaultErrorHandler,m=a.useOptimisticMediaPost,n=c("useCometComposerLoggerDispatcher")(),o=i(c("PagesCometComposerContext")),p=c("usePagesCometComposerMultiMediaRestrictions")(g,f),q=h(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_STARTED"},a))},[f]),r=h(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_PROGRESS"},a))},[f]),s=h(function(a){var b=k&&k[a.uploadID];b!=null&&b.resolveFileUpload({attachmentID:a.entID,attachmentType:a.attachmentType})},[k]),t=h(function(a){f({entID:a.entID,imageURL:a.attachmentType==="PHOTO"?a.imageURL:void 0,takenTime:a.attachmentType==="PHOTO"?a.takenTime:void 0,type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:a.uploadID})},[f]),u=h(function(a){f(babelHelpers["extends"]({type:"MEDIA_UPLOAD_FAILED"},a))},[f]),v=h(function(a){if(a.isSpherical){var b=d("CometSphericalPhotoUtils").createEncodingFromSphericalImage(a.sphericalImage);b&&f({sphericalEncoding:b,type:"SET_MEDIA_ATTACHMENT_ITEM_SPHERICAL_ENCODING",uploadID:a.uploadID})}},[f]);j(function(){o!=null&&g!=null&&p();e.startedObserver.subscribe(q);e.progressObserver.subscribe(r);e.successObserver.subscribe(t);e.errorObserver.subscribe(u);e.sphericalImageDetectedObserver.subscribe(v);m&&e.successObserver.subscribe(s);return function(){e.startedObserver.unsubscribe(q),e.progressObserver.unsubscribe(r),e.successObserver.unsubscribe(t),e.errorObserver.unsubscribe(u),e.sphericalImageDetectedObserver.unsubscribe(v)}});var w=function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"&&a.fileType!=="UNKNOWN"?[a.file,a.fileType]:null},x=h(function(a){var b=a.map(function(a){return a.file&&((a=a.file)==null?void 0:a.uploadID)}).filter(Boolean);f({type:"MARK_UPLOADS_CLIENT_PROCESSING",uploadIDs:b});a.forEach(function(a){var b;return n({fields:{media_id:(b=(b=a.file)==null?void 0:b.uploadID)!=null?b:"",media_type:a.fileType},type:"MEDIA_UPLOAD_PROCESS_START"})})},[f,n]),y=h(function(a){var d=a.file;if(d)return c("genIsHEICFile")(d).then(function(c){c&&f({type:"MARK_UNKNOWN_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),z=h(function(a){var d=a.file;if(d)return c("isValidMKV")(d).then(function(c){c&&f({type:"MARK_UNKNOWN_UPLOADS_AS_VIDEO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),A=h(function(a){var d=a.file;if(d)return c("genIsNonAnimatedGifFile")(d).then(function(c){c&&f({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),B=h(function(a){var d=a.file;if(d)return c("genIsNonAnimatedWebPFile")(d).then(function(c){c&&f({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[d==null?void 0:d.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[f]),C=h(function(a){var d=a.file;return d?c("extractJPEGOrientationData")(d).then(function(c){c!=null&&c>0&&f({attachment:a,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"});return b("Promise").resolve(a)})["catch"](function(d){c("recoverableViolation")("An error occurred when parsing an uploaded image","comet_composer",{error:d});return b("Promise").resolve(a)}):b("Promise").resolve(a)},[f]),D=h(function(a){var d=a.file?a.file:void 0,e=a.fileObjectURL,g;if(e!=null)switch(a.fileType){case"PHOTO":g=c("genDimensionsFromImageFile")(e);break;case"VIDEO":g=c("genDimensionsFromVideoFile")(e);break}else if(d!=null)switch(a.fileType){case"PHOTO":g=c("genDimensionsFromImageFile")(d);break;case"VIDEO":g=c("genDimensionsFromVideoFile")(d);break}else g=b("Promise").resolve({height:0,width:0});if(g!=null)return g.then(function(b){var c=b.height;b=b.width;f({attachment:a,height:c,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:b})},function(){f({attachment:a,height:0,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:0})})},[f]),E=h(function(){var a=(g||[]).map(function(a){return a.state==="NEW"?a:null}).filter(Boolean);a.forEach(function(a){var d=a.file.uploadID;d!=null&&(n({fields:{media_id:d,media_type:a.fileType},type:"MEDIA_UPLOAD_FLOW_START"}),n({fields:{media_id:d,media_type:a.fileType},type:"MEDIA_UPLOAD_START"}));d=[];x([a]);a.fileType==="UNKNOWN"&&a.file?(d.push(y(a)),d.push(z(a))):a.fileType==="PHOTO"?d.push(C(a)):a.fileType==="VIDEO"&&a.file.type==="image/gif"?d.push(A(a)):a.fileType==="VIDEO"&&a.file.type==="image/webp"&&d.push(B(a));d.push(D(a));c("promiseDone")(b("Promise").all(d).then(function(){var b=[a.file.uploadID].filter(Boolean),c=a.fileType;f({type:"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED",uploadIDs:b});b.forEach(function(a){return n({fields:{media_id:a,media_type:c},type:"MEDIA_UPLOAD_PROCESS_SUCCESS"})})}))})},[D,y,z,A,C,f,n,x,g]),F=h(function(){if(g!=null){var a=g.filter(function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"}).map(w).filter(Boolean);a.length>0&&(f({type:"QUEUE_UPLOADS",uploadIDs:a.map(function(a){var b=a[0];a[1];return b==null?void 0:b.uploadID}).filter(Boolean)}),e.upload(a,null,l));k&&g.forEach(function(a){if(a.state==="CLIENT_PROCESSING_COMPLETE"&&a.file.uploadID!=null){a=k[a.file.uploadID];a!=null&&c("promiseDone")(a.onUploadCancel,function(a){e.cancelUpload(a.attachmentID,a.attachmentType)})}})}},[e,f,g,k]),G=h(function(){b("cr:1506337")!==null&&b("cr:1506337")(g,f)},[f,g]);j(function(){E(),F(),c("gkx")("1488423")&&G()},[E,F,G]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useComposerMediaFileUploaderWithClientSideImageResizer",["getComposerMediaFileUploaderWithClientSideImageResizer","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo;function a(a,b,d,e){e===void 0&&(e=!1);var f=i(function(){return c("getComposerMediaFileUploaderWithClientSideImageResizer")(a,b,d,e)},[a,d,e,b]),g=f[0],j=f[1];h(function(){return c("gkx")("501")?j:void 0},[g,j]);return g}g["default"]=a}),98);
__d("CometComposerHeadlessMediaUploader.react",["Actor","CometComposerHeadlessMediaUploaderImpl.react","FBLogger","GroupCometComposerContext","gkx","react","useComposerMediaFileUploaderWithClientSideImageResizer","useComposerVideoUploaderConfig","useComposerViewStateDispatcher","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function a(a){var b=a.creationSessionID,e=a.isWorkDraftingFor,f=a.mediaAttachments,g=a.mediaUploadLoggingMetadata,k=g.composerEntrypoint,l=g.source;g=a.mediaUploadStatuses;a=a.workDraftFor;var m=c("useComposerViewStateDispatcher")(),n=d("Actor").useActor();n=n[0];var o,p=i(c("GroupCometComposerContext"));p=p.groupID;(a==null?void 0:a.originalActorID)!=null&&p!=null&&(o=p);var q=c("useComposerVideoUploaderConfig")(n,String(k),o),r=k==="feed"||c("gkx")("927");a=j(function(){return babelHelpers["extends"]({},q,{composer_entry_point_ref:k,silent_file_validation:r,source:l})},[k,r,l,q]);p=c("useComposerMediaFileUploaderWithClientSideImageResizer")(n,a,b,e);b==null&&c("FBLogger")("comet_composer").mustfix("creationSessionID must be defined for the media upload flow. [source]: "+String(l)+" [composerEntrypoint]: "+String(k));return h.jsx(c("CometComposerHeadlessMediaUploaderImpl.react"),{composerUploader:p,dispatch:m,mediaAttachments:f,mediaUploadStatuses:g,preventDefaultErrorHandler:c("gkx")("1078")&&l==="album_uploader",useOptimisticMediaPost:!0})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{creationSessionID:a.creationSessionID,isWorkDraftingFor:a.workDraftFor!=null,mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses,workDraftFor:a.workDraftFor}});g["default"]=e}),98);
__d("cometComposerCheckMediaAttachmentsForPhoto3d",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(!a)return;var d=a.reduce(function(a,b){b.state==="UPLOADED"&&b.fileType==="PHOTO"&&a.push(b);return a},[]);if(a.length!==2||d.length!==2)return;a=h(d);d=i(a);if(d==null)return;c("QPLUserFlow").start(c("qpl")._(37631558,"4977"));c("QPLUserFlow").addPoint(c("qpl")._(37631558,"4977"),"three_d_photo_creation_data_provided");b({colorImageIds:d.colorImageIds,depthImageIds:d.depthImageIds,placeholderImage:d.placeholderImage,type:"SET_PHOTO3D_CREATION_DATA"});b({attachmentType:"PHOTO3D",type:"ACTIVATE_ATTACHMENT_TYPE"})}function h(a){var b={},c=["jpg","jpeg","png"];a.forEach(function(a){var d=a.file.name;if(!d)return;var e=d.lastIndexOf(".");if(e<0)return;var f=d.split(".").pop().toLowerCase();if(!c.includes(f))return;f=d.substring(0,e).toLowerCase();d=f.split("_");if(d.length>1&&d.pop().toLowerCase()==="depth"){e=d.join("_");e in b||(b[e]={colorImage:null,depthImage:null});b[e].depthImage=a}else f in b||(b[f]={colorImage:null,depthImage:null}),b[f].colorImage=a});return b}function i(a){var b=Object.keys(a).sort();if(b.length===0)return null;var c=[],d=[],e=null;b.forEach(function(b){b=a[b];var f=b.colorImage;b=b.depthImage;if(!f||!b)return null;var g=f.entID;b=b.entID;if(g==null||b==null)return null;e==null&&(e=f);c.push(g);d.push(b)});return c.length===0||c.length!==d.length||e===null?null:{colorImageIds:c,depthImageIds:d,placeholderImage:e}}g["default"]=a}),98);
__d("CampusOnboardingRootQuery$Parameters",["CampusOnboardingRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CampusOnboardingRootQuery_facebookRelayOperation"),metadata:{},name:"CampusOnboardingRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"PrivacyRowInput_fragment"}],b={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:a,storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],kind:"Fragment",metadata:null,name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer",selections:[b,{alias:"scope",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},{kind:"Variable",name:"tags",variableName:"tags"}],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"PrivacySelectorRenderer",abstractKey:"__isPrivacySelectorRenderer"}}();e.exports=a}),null);
__d("CometPrivacySelectorEditableQuery.graphql",["CometPrivacySelectorEditable_renderer$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:!1,kind:"LocalArgument",name:"includePickerData"},d={defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},e={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"tags"},h=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"CometPrivacySelectorEditableQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"includePickerData",variableName:"includePickerData"},{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"tags",variableName:"tags"}],kind:"FragmentSpread",name:"CometPrivacySelectorEditable_renderer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,f,g,a],kind:"Operation",name:"CometPrivacySelectorEditableQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$includePickerData",variableName:"includePickerData"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$tags",variableName:"tags"}],fragment:b("CometPrivacySelectorEditable_renderer$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"4458696387531064",metadata:{},name:"CometPrivacySelectorEditableQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPrivacySelectorEditable_renderer.graphql",["CometPrivacySelectorEditableQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"tags",variableName:"tags"},c=[{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},a];return{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includePickerData"},{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("CometPrivacySelectorEditableQuery.graphql"),identifierField:"id"}},name:"CometPrivacySelectorEditable_renderer",selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer"},{args:c,kind:"FragmentSpread",name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:c,kind:"FragmentSpread",name:"CometPrivacySelectorEntryPointMatchContainer_renderer"},{condition:"includePickerData",kind:"Condition",passingValue:!0,selections:[{args:c,kind:"FragmentSpread",name:"CometPrivacySelectorPickerContainer_renderer"}]},{alias:"scope",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},a],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope"},{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorPushView_scope"},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null}],storageKey:null}],type:"PrivacyScopeEditableRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CampusOnboardingRoot.entrypoint",["CampusOnboardingRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{campusOnboardingRootQueryReference:{parameters:c("CampusOnboardingRootQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CampusOnboardingRoot.react").__setRef("CampusOnboardingRoot.entrypoint")};g["default"]=a}),98);
__d("CometUnavailableFeature.react",["fbt","CometTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.children;return i.jsx("div",{className:"du4w35lb l9j0dhe7 rj84mg9z iyyx5f41 dhp61c6y dp1hu0rb owwhemhu qowsmv63 cebpdrjk bipmatt0 pk4s997a q3lfd5jv k5wvi7nf t1p8iaqh a8s20v7p abs2jz4q a6sixzi8 tojvnm2t",children:i.jsxs(c("CometTooltip.react"),{position:"above",tooltip:h._(/*FBT_CALL*/"Indispon\u00edvel no momento"/*FBT_CALL*/),children:[i.jsx("div",{className:"tkr6xdv7 kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb"}),i.jsx("div",{className:"du4w35lb hzruof5a iyyx5f41 dhp61c6y dp1hu0rb owwhemhu qowsmv63 cebpdrjk bipmatt0 pk4s997a q3lfd5jv k5wvi7nf t1p8iaqh a8s20v7p abs2jz4q a6sixzi8 tojvnm2t",children:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeatureKillswitch.react",["CometUnavailableFeature.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.enableFeature;a=a.fallback;return d?b:h.jsx(c("CometUnavailableFeature.react"),{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsLWICoBEditingDialog.entrypoint",["JSResourceForInteraction","LWICometEditingRootContentQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{editingRootQueryRef:{parameters:b("LWICometEditingRootContentQuery$Parameters"),variables:{boostID:a.boostID,scale:d("WebPixelRatio").get(),shouldFetchBrandedTemplate:!1}}}}},root:c("JSResourceForInteraction")("AdsLWICoBEditingDialog.react").__setRef("AdsLWICoBEditingDialog.entrypoint")};g["default"]=a}),98);
__d("LWICometDuplicateAdUtils",["fbt","gkx","qex","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){var a=h._(/*FBT_CALL*/"Promover novamente"/*FBT_CALL*/);if(c("gkx")("524")){var b=c("qex")._("87");b!==!0&&c("recoverableViolation")("Trying to fetch duplicate ad content when not in BizWeb duplicate ad test!","pages_lwi");return a}b=c("qex")._("2002213");b!==!0&&c("recoverableViolation")("Trying to fetch duplicate ad content when not in duplicate ad test!","pages_lwi");b=c("qex")._("2002214");return b===!0?h._(/*FBT_CALL*/"Duplicar an\u00fancio"/*FBT_CALL*/):a}g.getDuplicateAdContent=a}),98);
__d("promisePool",["Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d){d===void 0&&(d=10);var e=a.reverse(),f=[],g=!1,h=0,i=function(a,b,c){f.push(a),h--,j(b,c)},j=function(a,b){if(g)return;e.length===0&&h===0&&(a(f),g=!0);while(e.length>0&&h<d){var j=e.pop();c("promiseDone")(j()["catch"](function(a){if(g)return;b(a);g=!0}).then(function(c){return i(c,a,b)}));h++}};return new(b("Promise"))(function(a,b){return j(a,b)})}g["default"]=a}),98);
__d("CometPhoneCountrySelect.react",["CometLeadGenNativeFormSingleSelect.react","PhoneCodes","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useState;function k(){return Object.keys(c("PhoneCodes")).map(function(a){var b=c("PhoneCodes")[a];return{primaryText:b.country_name,secondaryText:a+"+"+b.phone_code,value:a}})}function l(a,b){return a.filter(function(a){return!b.has(a.primaryText.toString().toLowerCase())})}function m(a,b){var d=b.replace("+","").trim().toLowerCase(),e=parseInt(d,10);return a.filter(function(a){if(isNaN(e))return a.primaryText.toString().toLowerCase().startsWith(d);else return c("PhoneCodes")[a.value].phone_code===e})}function n(a,b){var d;a=(d=(d=a==null?void 0:a.secondaryText)!=null?d:a==null?void 0:a.primaryText)!=null?d:b;return h.jsx(c("TetraTextPairing.react"),{body:a,level:3})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.buttonLabel;b=b===void 0?"-":b;var d=a.hasError;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;var f=a.isExpanded;f=f===void 0?!1:f;var g=a.onChange,o=a.unsupportedCountries;a=a.value;var p=j(""),q=p[0];p=p[1];var r=i(function(){return k()},[]),s=i(function(){return o?l(r,o):r},[r,o]);q=q!==""?m(s,q):s;return h.jsx("div",{className:d?"jcgfde61 afxsp9o4 ed0hlay0 frvqaej8 mk2mc5f4 s44p3ltw ccm00jje goun2846 kzx2olss aot14ch1 p86d2i9g beltcj47 a64ryyup ku5f423u hmw3o7ox jw3uvs1e":void 0,children:h.jsx(c("CometLeadGenNativeFormSingleSelect.react"),{defaultButtonLabel:b,disabled:e,isExpanded:f,onChange:g,onQueryChange:p,options:r,renderButtonLabel:n,selectableOptions:q,selectedValue:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometPrivacySelectorOnRowInputMismatchEffect",["CometPrivacySelectorContext","CometRelay","PrivacyRowInput","react","useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useContext,j=e.useEffect,k=e.useRef;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"),a);var f=k(e);f.current=e;e=a.scope;var g=i(c("CometPrivacySelectorContext")),l=g[0].localPrivacyRow,m=d("PrivacyRowInput").usePrivacyRowInput(e==null?void 0:e.selected_row_override),n=d("PrivacyRowInput").usePrivacyRowInput(a.privacy_row_input);a=d("PrivacyRowInput").usePrivacyRowInput(e==null?void 0:(g=e.selected_option)==null?void 0:g.privacy_row_input);var o=(e=l)!=null?e:a,p=k(o);j(function(){var a=p.current;p.current=o;if(!d("PrivacyRowInput").arePrivacyRowInputsEqual(l,m))return f.current();if(l!=null)return;if(!d("PrivacyRowInput").arePrivacyRowInputsEqual(a,o))return f.current();if(!d("PrivacyRowInput").arePrivacyRowInputsEqual(n,o))return f.current()},[m,o,l,n])}g["default"]=a}),98);
__d("useCometPrivacySelectorOnTagsChangedEffect",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function j(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;if(a.length!==b.length)return!1;var c=new Set(b);return a.every(function(a){return c.has(a)})}function a(a,b){var c=i(b);c.current=b;var d=i(a);h(function(){if(!j(d.current,a))return c.current(function(){d.current=a})},[a])}g["default"]=a}),98);
__d("CometPrivacySelectorEditable.react",["CometFeatureKillswitch.react","CometPrivacySelectorContext","CometPrivacySelectorEditable_renderer.graphql","CometPrivacySelectorEntryPointMatchContainer.react","CometRelay","WebPixelRatio","emptyFunction","killswitch","react","unrecoverableViolation","useCometPrivacySelectorDialog","useCometPrivacySelectorNotifyPrivacyOnInitEffect","useCometPrivacySelectorOnRowInputMismatchEffect","useCometPrivacySelectorOnTagsChangedEffect","useCometPrivacySelectorPushView"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useMemo,m=e.useRef,n=e.useState,o=e.useTransition;function a(a){var e=a.onPrivacyChange,f=a.onPrivacyChangeStart,g=a.renderer,p=babelHelpers.objectWithoutPropertiesLoose(a,["onPrivacyChange","onPrivacyChangeStart","renderer"]);a=p.pushPage;var q=p.renderLocation,r=p.tags;g=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("CometPrivacySelectorEditable_renderer.graphql"),g);var s=g[0],t=g[1],u=s.id;g=s.scope;var v=k(c("CometPrivacySelectorContext")),w=v[0];v=v[1];var x=w.localPrivacyRow;c("useCometPrivacySelectorNotifyPrivacyOnInitEffect")(s,x==null?e:null);var y=o(),z=y[0],A=y[1];y=n(!1);var B=y[0],C=y[1],D=m(!1);y=B||z||D.current;function E(a,b,c,e){a===void 0&&(a=null);b===void 0&&(b=!1);c===void 0&&(c=!0);e===void 0&&(e=null);if(u==null)return;if(B&&!b){D.current=!0;return}var f={id:u,includePickerData:!0,localPrivacyRow:(b=e)!=null?b:x,renderLocation:q,scale:d("WebPixelRatio").get(),tags:r};A(function(){t(f,{fetchPolicy:c?"network-only":"store-and-network",onComplete:function(){D.current=!1,a==null?void 0:a()}})})}c("useCometPrivacySelectorOnTagsChangedEffect")(r,E);c("useCometPrivacySelectorOnRowInputMismatchEffect")(s,E);var F=j(function(a){C(!0),f&&f(a)},[f]),G=m(E);G.current=E;var H=j(function(a){a.type==="success"&&G.current(null,!0,D.current,a.__newLocalPrivacyRow),C(!1),e&&e(a)},[e]);z=l(function(){return babelHelpers["extends"]({},p,{onPrivacyChange:H,onPrivacyChangeStart:F})},[p,H,F]);if(g==null)throw c("unrecoverableViolation")("Failed to render privacy selector. No scope was received.","comet_privacy_selector");E=g.can_viewer_edit;var I=g.privacy_write_id;if(E!==!0)throw c("unrecoverableViolation")("Trying to render an editable Privacy Selector that the user cannot edit","comet_privacy_selector");if(I==null)throw c("unrecoverableViolation")("Trying to render an editable Privacy Selector without a write ID","comet_privacy_selector");E=c("useCometPrivacySelectorDialog")(g,z,w,v);I=E[0];E=E[1];g=c("useCometPrivacySelectorPushView")(g,z,w,v);z=c("killswitch")("COMET_PRIVACY_SELECTOR_EDITABLE_DISABLED");w=null;z||(w=a!=null?g:I);a=(v=p.enabled)!=null?v:!0;I=i.jsx(c("CometPrivacySelectorEntryPointMatchContainer.react"),{props:{isEnabled:!z&&a,isSaving:y,onPress:(g=w)!=null?g:c("emptyFunction"),onPrivacyChange:H,onPrivacyChangeStart:F,renderLocation:q,triggerRef:E},renderer:s});return i.jsx(c("CometFeatureKillswitch.react"),{enableFeature:!z,fallback:I,children:I})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XUIDialogTitle.react",["cx","fbt","LeftRight.react","XUICloseButton.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=null,b=this.props,d=b.closeButtonText,e=b.showCloseButton,f=b.closeButtonSize,g=b.closeButtonClassName;b=babelHelpers.objectWithoutPropertiesLoose(b,["closeButtonText","showCloseButton","closeButtonSize","closeButtonClassName"]);e&&(a=j.jsx(c("XUICloseButton.react"),{size:f,"data-testid":void 0,label:d,className:c("joinClasses")(g,"layerCancel _51-t _9l15"),onClick:this.props.onCloseClick}));f=j.Children.toArray(this.props.children);return j.jsx("div",babelHelpers["extends"]({},b,{className:c("joinClasses")(this.props.className,"_4-i0 _9l16"+(e?" _2gb3":"")),children:j.jsxs(c("LeftRight.react"),{children:[j.jsx("h3",{className:"_52c9 _9l17","data-hover":"tooltip","data-tooltip-display":"overflow",children:f[0]}),j.jsxs("div",{className:"_51-u",children:[f.slice(1),a]})]})}))};return b}(j.Component);a.defaultProps={closeButtonText:i._(/*FBT_CALL*/"Fechar"/*FBT_CALL*/),showCloseButton:!0,closeButtonSize:"medium"};g["default"]=a}),98);
__d("XUITextInput.react",["cx","AbstractTextInput.react","XUIError.react","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=d("react").Component;b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=function(a){c.props.onFocus&&c.props.onFocus(a),c.setState({focused:!0})};c.$2=function(a){c.props.onBlur&&c.props.onBlur(a),c.setState({focused:!1})};c.state={focused:!1};return c}var d=b.prototype;d.render=function(){var a="_55r1"+(this.props.height==="tall"?" _55r2":"")+(this.props.disabled?" _53a0":"")+(this.state.focused?" _1488":"");return i.jsx(c("XUIError.react"),babelHelpers["extends"]({},this.props,{children:i.jsx(c("AbstractTextInput.react"),babelHelpers["extends"]({},this.props,{onFocus:this.$1,onBlur:this.$2,ref:"textInput",className:c("joinClasses")(this.props.className,a)}))}))};d.focusInput=function(){this.refs.textInput&&this.refs.textInput.focusInput()};d.blurInput=function(){this.refs.textInput&&this.refs.textInput.blurInput()};d.selectInput=function(){this.refs.textInput&&this.refs.textInput.selectInput()};d.getValue=function(){return this.refs.textInput&&this.refs.textInput.getValue()};d.getTextFieldDOM=function(){return this.refs.textInput?this.refs.textInput.getTextFieldDOM():null};return b}(a);b.defaultProps={height:"short"};b.propTypes=babelHelpers["extends"]({},c("AbstractTextInput.react").propTypes,c("XUIError.react").propTypes,{height:c("prop-types").oneOf(["short","tall"])});g["default"]=b}),98);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._(/*FBT_CALL*/"{value} B"/*FBT_CALL*/,[h._param("value",a)])},function(a){return h._(/*FBT_CALL*/"{value} KB"/*FBT_CALL*/,[h._param("value",a)])},function(a){return h._(/*FBT_CALL*/"{value} MB"/*FBT_CALL*/,[h._param("value",a)])},function(a){return h._(/*FBT_CALL*/"{value} GB"/*FBT_CALL*/,[h._param("value",a)])},function(a){return h._(/*FBT_CALL*/"{value} TB"/*FBT_CALL*/,[h._param("value",a)])},function(a){return h._(/*FBT_CALL*/"{value} PB"/*FBT_CALL*/,[h._param("value",a)])},function(a){return h._(/*FBT_CALL*/"{value} EB"/*FBT_CALL*/,[h._param("value",a)])}],j=0;function a(a){if(a==void 0)return null;if(a===0)return i[j](0);var b=Math.floor(Math.log(Math.abs(a))/Math.log(1024));a=a/Math.pow(1024,b);a=Math.round(a*100)/100;return i[b](a)}g["default"]=a}),98);
__d("useSimpleNUX",["SimpleNUXMessage","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(!d("SimpleNUXMessage").hasUserSeenMessage(a)),e=b[0],f=b[1];b=h(function(){d("SimpleNUXMessage").markMessageSeenByUser(a),f(!1)},[a]);return[e,e?b:c("emptyFunction")]}g["default"]=a}),98);
__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=null;a={get:function(){i==null&&(i=new h());i.state==="closed"&&(c("FBLogger")("project").warn("AudioContext Singleton has been closed"),i=new h());return i}};b=a;g["default"]=b}),98);
__d("InstantGamesPresenceProperties",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.addInstantGamePresence=function(){this.$1=!0};b.removeInstantGamePresence=function(){this.$1=!1};b.isActiveGamePresence=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c}),66);
__d("AdsHelpTrayFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2004113");c=b("FalcoLoggerInternal").create("ads_help_tray",a);e.exports=c}),null);
__d("EmojiPickerWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1836558");c=b("FalcoLoggerInternal").create("emoji_picker_web",a);e.exports=c}),null);
__d("CometCreationResponsiveToggle.react",["fbt","ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.layout,e=a.onChangeLayout;return j.jsxs("div",{className:"tr9rh885 dhix69tm wkznzc2l taijpn5t j83agx80",children:[j.jsx("div",{className:"wkznzc2l",children:j.jsx(c("CometIcon.react"),{"aria-label":h._(/*FBT_CALL*/"Mudar para layout de desktop"/*FBT_CALL*/),"aria-pressed":b==="desktop",color:b==="desktop"?"highlight":"secondary",icon:d("fbicon")._(i("607956"),20),onPress:function(){return e("desktop")},size:48})}),j.jsx(c("CometIcon.react"),{"aria-label":h._(/*FBT_CALL*/"Mudar para layout de dispositivo m\u00f3vel"/*FBT_CALL*/),"aria-pressed":b==="mobile",color:b==="mobile"?"highlight":"secondary",icon:d("fbicon")._(i("514772"),20),onPress:function(){return e("mobile")},size:48})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometCreationPreviewContainer.react",["fbt","CometCard.react","CometCreationResponsiveToggle.react","CometRouteRenderType","CometScreenReaderText.react","CometUnitHeader.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState;function a(a){var b=a.allowFocus;b=b===void 0?!1:b;var e=a.children,f=a.defaultLayout;f=f===void 0?"desktop":f;var g=a.extraHeaderContent,l=a.hasResponsiveToggle;l=l===void 0?!0:l;var m=a.logger,n=a.onChangeLayout;a=a.showHeadline;a=a===void 0?!0:a;f=k(f);var o=f[0],p=f[1];f=d("CometRouteRenderType").useIsPushView();var q=j(null),r=j(null),s=function(a){m&&m(a+"_view_toggle"),n&&n(a),p(a)},t=function(a){a.key==="Tab"&&!a.shiftKey&&r.current!=null&&r.current.focus(),a.stopPropagation()},u=function(a){a.key==="Tab"&&a.shiftKey&&q.current!=null&&q.current.focus(),a.stopPropagation()},v=function(){r.current!=null&&r.current.focus()},w=h._(/*FBT_CALL*/"Nota: elementos interativos como links n\u00e3o podem ser usados na pr\u00e9via a seguir."/*FBT_CALL*/),x=null,y;l?(a&&(x=o==="desktop"?h._(/*FBT_CALL*/"Pr\u00e9via no desktop"/*FBT_CALL*/):h._(/*FBT_CALL*/"Pr\u00e9via no celular"/*FBT_CALL*/)),y=o==="desktop"?h._(/*FBT_CALL*/"Pr\u00e9via no layout de desktop"/*FBT_CALL*/):h._(/*FBT_CALL*/"Pr\u00e9via no layout para dispositivos m\u00f3veis"/*FBT_CALL*/)):(y=h._(/*FBT_CALL*/"Pr\u00e9via"/*FBT_CALL*/),x=a?y:null);return i.jsxs("div",{"aria-label":y,className:c("stylex").dedupe({"background-color-1":"cwj9ozl2","border-top-start-radius-1":"ue3kfks5","border-top-end-radius-1":"pw54ja7n","border-bottom-end-radius-1":"uo3d90p7","border-bottom-start-radius-1":"l82x9zwi","box-shadow-1":"kmp5kqmu","box-sizing-1":"rq0escxv","display-1":"j83agx80","flex-direction-1":"cbu4d94t","flex-grow-1":"buofh1pr","flex-shrink-1":"g5gj957u","height-1":"datstx6m","margin-top-1":"bcvklqu9","margin-end-1":"gupp8or6","margin-bottom-1":"nzypyw8j","margin-start-1":"frluczxc","max-width-1":"rdhfdfv2","min-height-1":"tgvbjcpo","width-1":"ng3hk9f3"},o==="mobile"?{"width-1":"om55ty98"}:null,f?{"margin-top-1":"k9knd09w"}:null),role:"region",children:[i.jsxs("div",{className:"taijpn5t j83agx80 bp9cbjyn",children:[x&&i.jsx("div",{className:"g5gj957u buofh1pr rj1gh0hx",children:i.jsx(c("CometUnitHeader.react"),{headline:x,level:4})}),g&&i.jsx("div",{className:"tr9rh885"+(x?"":" dhix69tm"),children:g}),l&&i.jsx("div",{className:"f9o22wc5",children:i.jsx(c("CometCreationResponsiveToggle.react"),{layout:o,onChangeLayout:s})})]}),!b&&i.jsxs(i.Fragment,{children:[i.jsx(c("CometScreenReaderText.react"),{text:w}),i.jsx("div",{onKeyDownCapture:t,ref:q,tabIndex:"0"})]}),i.jsx("div",{className:"stjgntxs dhix69tm sjgh65i0 wkznzc2l tr9rh885 buofh1pr rj1gh0hx j83agx80 jcgfde61 afxsp9o4 ed0hlay0 frvqaej8 mk2mc5f4 s44p3ltw ccm00jje goun2846 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 rj06g9kl qc3rp1z7 bv6zxntz t51s4qs2",onFocus:b?null:v,onKeyDownCapture:b?null:t,tabIndex:b?-1:0,children:i.jsx(c("CometCard.react"),{background:"light-wash",expanding:!0,children:i.jsx("div",{className:"eg9m0zos ni8dbmo4 datstx6m",children:i.jsx("div",{className:"datstx6m"+(b?"":" hzruof5a"),children:e})})})}),!b&&i.jsx("div",{onKeyDownCapture:u,ref:r,tabIndex:"0"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getCometCreationLayoutBreadcrumbs",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a,b,c,d,e){var f=[b!=null?{label:a,replace:!0,url:b}:{label:a}];b=function(a){if(d[a].hideBreadcrumb!==!0){var b={label:d[a].title,onPress:void 0};a!==c&&(b.onPress=function(){return e(a)});f.push(b)}};for(var a=0;a<=c;a++)b(a);return f}g["default"]=a}),98);
__d("useScrollLeftRailToTopOnChange",["BaseScrollableAreaContext","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a){var b=h(c("BaseScrollableAreaContext")),d=b[b.length-1];i(function(){var a=d.getDOMNode();a!=null&&(a.scrollTop=0)},[d,a])}g["default"]=a}),98);
__d("CometCreationLayout.react",["CometContentArea.react","CometCreationContext","CometCreationPreviewContainer.react","CometErrorBoundary.react","CometLeftRailAndMainContentContainer.react","CometLeftRailBreadcrumbs.react","CometLeftRailComponent.react","CometLeftRailHeader.react","emptyFunction","getCometCreationLayoutBreadcrumbs","react","useScrollLeftRailToTopOnChange"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={isDraft:!0};function a(a){var b=a.actorSelector,d=a.breadcrumbsOverride,e=a.creationCategoryName,f=a.creationCategoryURL,g=a.currentFormStep;g=g===void 0?0:g;var k=a.customPreview,l=a.disableProportionalHeader;l=l===void 0?!1:l;var m=a.formAreaTitle,n=a.formSteps,o=a.onBreadcrumbPress;o=o===void 0?c("emptyFunction"):o;var p=a.previewAreaTitle,q=a.preview,r=a.previewContainerProps,s=a.previewErrorFallback;a=a.previewNullState;var t=n[g];d=(d=d)!=null?d:c("getCometCreationLayoutBreadcrumbs")(e,f,g,n,o);f=s!=null?function(a){return h.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:s(a)})}:function(){return null};n=b!=null?h.jsx("div",{className:"scb9dxdr dflh9lhu",children:b}):null;return h.jsx(c("CometLeftRailAndMainContentContainer.react"),{isLeftRailResponsive:!0,leftRailContent:h.jsx(c("CometLeftRailComponent.react"),{footer:t.footer,header:h.jsx(c("CometLeftRailHeader.react"),{auxiliary:t.titleAddOn,disableProportional:l,meta:h.jsx(c("CometLeftRailBreadcrumbs.react"),{breadcrumbs:d}),subTitle:t.subTitle,subTitleType:(o=t.subTitleType)!=null?o:"body1",title:t.title}),primaryNav:h.jsxs(j,{currentFormStep:g,label:e,children:[n,t.body]})}),leftRailHeading:m,leftRailPrimary:!0,leftRailRole:"main",mainContent:q!=null?h.jsx(c("CometContentArea.react"),{hasNoRole:!0,children:h.jsx(c("CometCreationContext").Provider,{value:i,children:h.jsxs(c("CometErrorBoundary.react"),{fallback:f,children:[k,h.jsx(c("CometCreationPreviewContainer.react"),babelHelpers["extends"]({},r,{children:q}))]})})}):h.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:a}),mainContentHeading:p})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.children,d=a.currentFormStep;a=a.label;c("useScrollLeftRailToTopOnChange")(d);return h.jsx("div",{"aria-label":a,role:"form",children:b})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CircularProgressBar.react",["cx","createReactClass_DEPRECATED","gkx","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=c("createReactClass_DEPRECATED")({displayName:"CircularProgressBar",propTypes:{animate:c("prop-types").bool,percentComplete:c("prop-types").number.isRequired,text:c("prop-types").string},render:function(){var a=this.props,b=a.animate,d=a.text;a=a.percentComplete;var e=360*a/100,f=Math.max(e,180)-180;e=Math.min(e,180);var g=a<100?"1":"0",h=c("gkx")("1217157")?"_1_br _9q5e":"_1_br";return i.jsxs("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,className:"_1_bj",role:"progressbar",style:{opacity:g},children:[!!d&&i.jsx("div",{className:"_22sa",children:d}),i.jsx("div",{className:"_1_bk",children:i.jsxs("div",{className:b?"_22sb":"",children:[i.jsx("div",{className:"_1_bl",style:{opacity:g}}),i.jsx("div",{className:"_1_bp _1_bq",children:i.jsx("div",{className:h,style:{transform:"translateX(-100%) rotate("+f+"deg)",opacity:g}})}),i.jsx("div",{className:"_1_bs _1_bq",children:i.jsx("div",{className:h,style:{transform:"translateX(-100%) rotate("+e+"deg)",opacity:g}})})]})})]})}});b=a;g["default"]=b}),98);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function(a,b,c,d,e,f,g){a="slice";(b=d("UserAgent_DEPRECATED").chrome())?b<21&&(a="webkitSlice"):(b=d("UserAgent_DEPRECATED").firefox())?b<13&&(a="mozSlice"):d("UserAgent_DEPRECATED").safari()||d("UserAgent_DEPRECATED").webkit()&&(a="webkitSlice");c=a;g["default"]=c}),98);
__d("fileSlice",["fileSliceName"],(function(a,b,c,d,e,f,g){b=a.File&&a.File.prototype[c("fileSliceName")];b||(b=a.Blob&&a.Blob.prototype[c("fileSliceName")]);d=b;g["default"]=d}),98);
__d("ResumableUploadService",["cr:720"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:720")}),98);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});f["default"]=a}),66);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function(a,b,c,d,e,f,g){function a(){return typeof c("fileSlice")==="function"&&this.supportsXHR()}function b(){return!d("UserAgent_DEPRECATED").firefox()}function e(){return"FileList"in window}function f(){return"FileReader"in window&&"DataView"in window}function h(){return"FormData"in window}g.supportsChunking=a;g.supportsFullProgress=b;g.supportsFileAPI=e;g.supportsFileReading=f;g.supportsXHR=h}),98);
__d("VideoUploadFile",["VideoUploadFeatureDetector","fileSlice","md5"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d==null?void 0:d.toLowerCase()}a.fromBlob=function(b){var c=b.type.indexOf("/")!=-1?"."+b.type.split("/").pop().toLowerCase():"";c="blob"+c;c=new File([b],c,{type:b.type});return a.fromFile(c)};a.fromFile=function(b){var c=a.getExtensionFromFileName(b.name);return new this(null,b,b.size,c)};a.fromFileInput=function(b){var c=null,e=null,f=a.getExtensionFromFileInput(b);d("VideoUploadFeatureDetector").supportsFileAPI()&&b.files.length&&(c=b.files[0],e=c.size);return new this(b,c,e,f)};var b=a.prototype;b.getFileInput=function(){return this.$1};b.getFile=function(){return this.$2};b.getSize=function(){return this.$3};b.getExtension=function(){return this.$4};b.getCreatorProduct=function(){return this.$4==="gif"?4:2};b.getChunk=function(a,b){return this.$2!==null&&this.$2!==void 0?c("fileSlice").call(this.$2,a,b):null};b.getFilePath=function(){var a;return(a=this.$2)==null?void 0:a.name};b.getStableAssetID=function(){var a;return(a=c("md5")(this.getFilePath()))!=null?a:"unknown"};a.getExtensionFromFileInput=function(a){return this.getExtensionFromFileName(a.value)};a.getExtensionFromFileName=function(a){return a!==null&&a!==void 0&&a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():""};return a}();g["default"]=a}),98);
__d("BrandedContentSponsorRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({WITH:0,PAID_RELATIONSHIP_WITH:1,PRESENTED_BY:2,SOCIAL_TAGGING:3,SUPPORT:4,BRAND_INLINE_AD_WITHOUT_CREATOR_PAGE:5,CREATOR_INLINE_AD_WITHOUT_SPONSOR_PAGE:6,SPONSORSHIP:7});f["default"]=a}),66);
__d("CallToActionTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({OPEN_LINK:"OPEN_LINK",LIKE_PAGE:"LIKE_PAGE",SHOP_NOW:"SHOP_NOW",PLAY_GAME:"PLAY_GAME",INSTALL_APP:"INSTALL_APP",USE_APP:"USE_APP",CALL:"CALL",CALL_ME:"CALL_ME",VIDEO_CALL:"VIDEO_CALL",GET_MOBILE_APP:"GET_MOBILE_APP",INSTALL_MOBILE_APP:"INSTALL_MOBILE_APP",INSTALL_FREE_MOBILE_APP:"INSTALL_FREE_MOBILE_APP",USE_MOBILE_APP:"USE_MOBILE_APP",MOBILE_DOWNLOAD:"MOBILE_DOWNLOAD",BOOK_TRAVEL:"BOOK_TRAVEL",LISTEN_MUSIC:"LISTEN_MUSIC",WATCH_VIDEO:"WATCH_VIDEO",LEARN_MORE:"LEARN_MORE",SIGN_UP:"SIGN_UP",DOWNLOAD:"DOWNLOAD",WATCH_MORE:"WATCH_MORE",NO_BUTTON:"NO_BUTTON",VISIT_PAGES_FEED:"VISIT_PAGES_FEED",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",DIAL_CODE:"DIAL_CODE",APPLY_NOW:"APPLY_NOW",CONTACT:"CONTACT",BUY_NOW:"BUY_NOW",GET_OFFER:"GET_OFFER",GET_OFFER_VIEW:"GET_OFFER_VIEW",BUY_TICKETS:"BUY_TICKETS",UPDATE_APP:"UPDATE_APP",GET_DIRECTIONS:"GET_DIRECTIONS",BUY:"BUY",SEE_DETAILS:"SEE_DETAILS",MESSAGE_PAGE:"MESSAGE_PAGE",MESSAGE_USER:"MESSAGE_USER",DONATE:"DONATE",SUBSCRIBE:"SUBSCRIBE",SAY_THANKS:"SAY_THANKS",SELL_NOW:"SELL_NOW",SHARE:"SHARE",DONATE_NOW:"DONATE_NOW",GET_QUOTE:"GET_QUOTE",CONTACT_US:"CONTACT_US",ORDER_NOW:"ORDER_NOW",START_ORDER:"START_ORDER",ADD_TO_CART:"ADD_TO_CART",VIDEO_ANNOTATION:"VIDEO_ANNOTATION",MOMENTS:"MOMENTS",RECORD_NOW:"RECORD_NOW",VOTE_NOW:"VOTE_NOW",GIVE_FREE_RIDES:"GIVE_FREE_RIDES",REGISTER_NOW:"REGISTER_NOW",OPEN_MESSENGER_EXT:"OPEN_MESSENGER_EXT",CIVIC_ACTION:"CIVIC_ACTION",SEND_INVITES:"SEND_INVITES",REFER_FRIENDS:"REFER_FRIENDS",SAVE:"SAVE",REQUEST_TIME:"REQUEST_TIME",SEE_MENU:"SEE_MENU",EMAIL_NOW:"EMAIL_NOW",PAY_OR_REQUEST:"PAY_OR_REQUEST",SEARCH:"SEARCH",GET_SHOWTIMES:"GET_SHOWTIMES",TRY_IT:"TRY_IT",LISTEN_NOW:"LISTEN_NOW",TRY_ON:"TRY_ON",WOODHENGE_SUPPORT:"WOODHENGE_SUPPORT",SOTTO_SUBSCRIBE:"SOTTO_SUBSCRIBE",SEARCH_MORE:"SEARCH_MORE",FOLLOW_USER:"FOLLOW_USER",BLOOD_DONATIONS:"BLOOD_DONATIONS",UNLIKE_PAGE:"UNLIKE_PAGE",BET_NOW:"BET_NOW",OPEN_MOVIES:"OPEN_MOVIES",EVENT_RSVP:"EVENT_RSVP",INTERESTED:"INTERESTED",GO_LIVE:"GO_LIVE",SEND_TIP:"SEND_TIP",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",GET_EVENT_TICKETS:"GET_EVENT_TICKETS",VIEW_INSTAGRAM_PROFILE:"VIEW_INSTAGRAM_PROFILE",INSTAGRAM_MESSAGE:"INSTAGRAM_MESSAGE",FOLLOW_NEWS_STORYLINE:"FOLLOW_NEWS_STORYLINE",LINK_CARD:"LINK_CARD",PRE_REGISTER:"PRE_REGISTER",SEE_MORE:"SEE_MORE",WATCH_APP_UPGRADE:"WATCH_APP_UPGRADE",LOYALTY_LEARN_MORE:"LOYALTY_LEARN_MORE",ACTIVATE_OFFER:"ACTIVATE_OFFER",BOOK_NOW:"BOOK_NOW",BOOK_TEST_DRIVE:"BOOK_TEST_DRIVE",CHECK_AVAILABILITY:"CHECK_AVAILABILITY",FIND_A_GROUP:"FIND_A_GROUP",FIND_YOUR_GROUPS:"FIND_YOUR_GROUPS",REMIND_ME:"REMIND_ME",SAVE_OFFER:"SAVE_OFFER",PAY_TO_ACCESS:"PAY_TO_ACCESS",PURCHASE_GIFT_CARDS:"PURCHASE_GIFT_CARDS",FOLLOW_PAGE:"FOLLOW_PAGE",SEND_A_GIFT:"SEND_A_GIFT",JOBS_APPLY_NOW:"JOBS_APPLY_NOW",VIEW_RESUME:"VIEW_RESUME",SWIPE_UP_SHOP:"SWIPE_UP_SHOP",SWIPE_UP_PRODUCT:"SWIPE_UP_PRODUCT",SEND_GIFT_MONEY:"SEND_GIFT_MONEY",SEND_GIFT:"SEND_GIFT",WATCH_MUSIC_VIDEO:"WATCH_MUSIC_VIDEO",TRY_IN_CAMERA:"TRY_IN_CAMERA"});f["default"]=a}),66);
__d("CometComposerStatusAreaRelayWithSwatches_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerStatusAreaRelayWithSwatches_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("useCometFocusedGlobeFilled16_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFocusedGlobeFilled16_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"globe_focus",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("PagesCometComposerPublishingToolBanner_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesCometComposerPublishingToolBanner_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_delegate_page_with_linked_profile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primary_platform_tool",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_pages_composer_cs_footer",storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("CometComposerStatusAreaRelayWithSwatches.react",["CometComposerStatusAreaRelayWithSwatches_profile.graphql","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","FeedComposerCometFormattedTextStatusArea.react","FeedComposerCometStatusArea.react","FeedComposerCometStatusAreaClickHandler.react","react","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useRef;function a(a){var e,f,g=j(null);e=(e=a.statusAreaRef)!=null?e:g;g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometComposerStatusAreaRelayWithSwatches_profile.graphql"),a.profile$key);f={autoFocus:a.autoFocus,isViewerFeed:a.isViewerFeed,onClose:a.onClose,placeholderText:(f=a.placeholderTextOverride)!=null?f:a.placeholderText,ref:e,testid:"FeedComposerCometStatusArea",typingPerformanceAnnotations:a.typingPerformanceAnnotations,userShortName:(f=g==null?void 0:g.short_name)!=null?f:g==null?void 0:g.name};g=i.jsx(c("FeedComposerCometStatusArea.react"),babelHelpers["extends"]({},f));return i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:159,children:i.jsx(c("FeedComposerCometStatusAreaClickHandler.react"),{hasFooterAttachment:a.hasActiveFooterAttachment,showSwatchPicker:(a.activeAttachmentType==null||a.activeAttachmentType==="FORMATTED_TEXT")&&a.hideBoostUnavailableFeatures!==!0,statusAreaRef:e,children:i.jsxs(c("CometPlaceholder.react"),{fallback:g,children:[i.jsx(c("FeedComposerCometFormattedTextStatusArea.react"),babelHelpers["extends"]({},f,{alwaysShrinkText:a.alwaysShrinkText,draftEditorRendering:a.draftEditorRendering,formattedTextPreset:a.formattedTextPreset,statusContainerRef:a.statusContainerRef})),a.plugins]})})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){var b;return{activeAttachmentType:(b=a.attachmentArea)==null?void 0:b.activeAttachmentType,formattedTextPreset:(b=a.formattedText)==null?void 0:b.currentFormattedTextPreset,hasActiveFooterAttachment:((b=a.footerAttachmentArea)==null?void 0:b.activeFooterAttachmentType)!=null,hideBoostUnavailableFeatures:a.hideBoostUnavailableFeatures,placeholderTextOverride:a.placeholderTextOverride}});g["default"]=e}),98);
__d("CometBloodDonationAttachmentStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._(/*FBT_CALL*/"Agendar"/*FBT_CALL*/)};b=function(){return h._(/*FBT_CALL*/"Reservar agora"/*FBT_CALL*/)};c=function(){return h._(/*FBT_CALL*/"Marcar hor\u00e1rio"/*FBT_CALL*/)};d=function(){return h._(/*FBT_CALL*/"Doe sangue"/*FBT_CALL*/)};e=function(a,b){return b==null?a:h._(/*FBT_CALL*/"{Facility name (e.g. American Red Cross)} \u00b7 {Category name (e.g. Blood Bank)}"/*FBT_CALL*/,[h._param("Facility name (e.g. American Red Cross)",a),h._param("Category name (e.g. Blood Bank)",b)])};g.getScheduleCTA=a;g.getBookNowCTA=b;g.getBookAppointmentCTA=c;g.getAttachmentTitle=d;g.getFacilityNameWithCategory=e}),98);
__d("useCometFocusedGlobeFilled16",["ix","CometRelay","fbicon","recoverableViolation","useCometFocusedGlobeFilled16_viewer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i!==void 0?i:i=b("useCometFocusedGlobeFilled16_viewer.graphql");function a(a){a=d("CometRelay").useFragment(j,a);a=a==null?void 0:a.globe_focus;switch(a){case"ASIA":return d("fbicon")._(h("482014"),16);case"EAST":return d("fbicon")._(h("482028"),16);case"WEST":return d("fbicon")._(h("560119"),16);default:c("recoverableViolation")("Got a null or invalid globe focus type.","comet_ui");return d("fbicon")._(h("560119"),16)}}g["default"]=a}),98);
__d("CometMediaEditorUtils",["cometMediaEditorCanEditWithAnyToolEligibilityChecker","orEmptyArray"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var d=c.index;a=h(a,d,b,c);return a.size!==0}function h(a,b,c,d){b=i(b,c,d.isOnVideoLiteComposer);c=new Set();if(b==null)return c;for(var a=a.current.keys(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;g=h==null?void 0:(g=h.saver)==null?void 0:g.checkerForPhoto;h=h==null?void 0:(h=h.saver)==null?void 0:h.checkerForVideo;if(b.fileType==="PHOTO"&&g){g=g(b,d);g!=null&&c.add(g)}if(b.fileType==="VIDEO"&&h){g=h(b);g!=null&&c.add(g)}}return c}function i(a,b,c){return a<0||b==null||a>=b.length?null:d("cometMediaEditorCanEditWithAnyToolEligibilityChecker").validateMediaForAnyMutations(b[a],c)}function j(a,b){if(b.length!==a.length)return!0;a=a.map(function(a){return JSON.stringify(a)});a=new Set(a);for(var c=0;c<b.length;c++){var d=b[c];if(!a.has(JSON.stringify(d)))return!0}return!1}function b(a,b){var d=c("orEmptyArray")(b==null?void 0:b.mediaAttachments);d=d[0];var e=c("orEmptyArray")(a==null?void 0:a.attachments);e=(e=e[0])==null?void 0:e.video;var f=e==null?void 0:e.additional_video_metadata,g={};if((d==null?void 0:d.fileType)==="VIDEO"){var h;if((b==null?void 0:(h=b.editorState)==null?void 0:h.__type)==="plain-text"&&(b==null?void 0:(h=b.editorState)==null?void 0:h.text)!==(a==null?void 0:(b=a.message)==null?void 0:b.text)){g=babelHelpers["extends"]({},g,{description:(b=a==null?void 0:(h=a.message)==null?void 0:h.text)!=null?b:""})}if((d==null?void 0:(a=d.data)==null?void 0:a.title)!==(e==null?void 0:e.title)){g=babelHelpers["extends"]({},g,{title:(h=e==null?void 0:e.title)!=null?h:""})}if(j(c("orEmptyArray")(d==null?void 0:(b=d.data)==null?void 0:(a=b.additional_video_metadata)==null?void 0:a.videoTags),c("orEmptyArray")(f==null?void 0:f.videoTags))){g=babelHelpers["extends"]({},g,{tags:(e=JSON.stringify(f==null?void 0:f.videoTags))!=null?e:""})}if((d==null?void 0:(h=d.data)==null?void 0:(b=h.additional_video_metadata)==null?void 0:b.thumbnailFileID)!==(f==null?void 0:f.thumbnailFileID)){g=babelHelpers["extends"]({},g,{thumbnail_file_id:(a=f==null?void 0:f.thumbnailFileID)!=null?a:"",thumbnail_type:(d=f==null?void 0:(e=f.thumbnailType)==null?void 0:e.toString())!=null?d:""})}}return g}g.checkForChanges=a;g.getToolsWithChanges=h;g.validateEditableMedia=i;g.checkChangesForTags=j;g.checkChangesForVideoData=b}),98);
__d("ProfilePlusAdminComposerUtils",["fbt","ix","$InternalEnum","ProfilePlusAdminActivitiesFalcoEvent","XBizSuiteControllerRouteBuilder","XMediaManagerControllerRouteBuilder","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j="profile_plus_intervention_comet_admin_composer",k="profile_plus_lar_banner",l=b("$InternalEnum")({CREATE_AD:"create_ad",CREATE_POST:"create_post",LEAD_ADS_FORMS:"lead_ads_forms",MANAGE_POST:"manage_post",REPLY_TO_COMMENTS:"reply_to_comments",SEND_MESSAGE:"send_message",VIEW_INSIGHTS:"view_insights",VIEW_MORE_OPTIONS:"view_more_options"});function a(a,b,c,d,e){var f=[];a.includes("Content")&&f.push(t(l.CREATE_POST,b,c,d));a.includes("Ads")&&f.push(t(l.CREATE_AD,b,c,d));a.includes("Content")&&f.push(t(l.MANAGE_POST,b,c,d));a.includes("Community Activity")&&f.push(t(l.REPLY_TO_COMMENTS,b,c,d),t(l.SEND_MESSAGE,b,c,d));f.push(t(l.VIEW_INSIGHTS,b,c,d));e===!0&&f.push(t(l.LEAD_ADS_FORMS,b,c,d));f.push(t(l.VIEW_MORE_OPTIONS,b,c,d));return f}function m(a,b,d,e){return b==="CREATOR_STUDIO"?c("XMediaManagerControllerRouteBuilder").buildURL({open_basic_post_composer:!0,reference:d,selected_single_page_id:a,tab:"content_posts_timeline"}):c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:a,modal:"composer",nav_ref:e,rest:"posts/published_posts"})}function n(a,b){return b==="CREATOR_STUDIO"?c("XMediaManagerControllerRouteBuilder").buildURL({open_promo_dialog:!0,reference:k,selected_single_page_id:a,tab:"content_posts_timeline"}):c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:a,auto_open_promote:!0,nav_ref:j,ref:"www_profile_plus_lar_admin_composer",rest:"ad_center"})}function o(a,b){return b==="CREATOR_STUDIO"?c("XMediaManagerControllerRouteBuilder").buildURL({reference:k,selected_single_page_id:a,tab:"content_posts_timeline"}):c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:a,nav_ref:j,rest:"posts/feed_and_grid",view:"facebook_feed"})}function p(a,b){var d='{"id":"","platform":"FACEBOOK","folder":"TODO"}';return b==="CREATOR_STUDIO"?c("XMediaManagerControllerRouteBuilder").buildURL({inbox_item:d,reference:k,selected_single_page_id:a,tab:"inbox_plus"}):c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:a,nav_ref:j,rest:"inbox/facebook"})}function q(a,b){return b==="CREATOR_STUDIO"?c("XMediaManagerControllerRouteBuilder").buildURL({reference:k,selected_single_page_id:a,tab:"inbox_plus"}):c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:a,nav_ref:j,rest:"inbox/all"})}function r(a,b){return b==="CREATOR_STUDIO"?c("XMediaManagerControllerRouteBuilder").buildURL({reference:k,selected_single_page_id:a,tab:"insights_performance"}):c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:a,nav_ref:j,rest:"insights/overview"})}function s(a,b){return b==="CREATOR_STUDIO"?c("XMediaManagerControllerRouteBuilder").buildURL({reference:k,selected_single_page_id:a,tab:"home"}):c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:a,nav_ref:j,rest:"home"})}function t(a,b,e,f){function g(a){return function(){c("ProfilePlusAdminActivitiesFalcoEvent").log(function(){return{additional_profile_id:f,event:"click",event_target:a,extra_data:{platform_tool:e},referrer_surface:"timeline",surface:"lar_composer"}})}}switch(a){case l.CREATE_POST:return{icon:d("fbicon")._(i("729679"),20),label:h._(/*FBT_CALL*/"Criar publica\u00e7\u00e3o"/*FBT_CALL*/),loggingClickAction:g("lar_composer_create_post_cta"),url:m(b,e,k,j)};case l.CREATE_AD:return{icon:d("fbicon")._(i("534265"),20),label:h._(/*FBT_CALL*/"Criar an\u00fancio"/*FBT_CALL*/),loggingClickAction:g("lar_create_ad_cta"),url:n(b,e)};case l.MANAGE_POST:return{icon:d("fbicon")._(i("482259"),20),label:h._(/*FBT_CALL*/"Gerenciar publica\u00e7\u00f5es"/*FBT_CALL*/),loggingClickAction:g("lar_composer_manage_post_cta"),url:o(b,e)};case l.REPLY_TO_COMMENTS:return{icon:d("fbicon")._(i("508559"),20),label:h._(/*FBT_CALL*/"Responder aos coment\u00e1rios"/*FBT_CALL*/),loggingClickAction:g("lar_composer_reply_to_comments_cta"),url:p(b,e)};case l.SEND_MESSAGE:return{icon:d("fbicon")._(i("610742"),20),label:h._(/*FBT_CALL*/"Responder \u00e0s mensagens"/*FBT_CALL*/),loggingClickAction:g("lar_composer_send_message_cta"),url:q(b,e)};case l.VIEW_INSIGHTS:return{icon:d("fbicon")._(i("489804"),20),label:h._(/*FBT_CALL*/"Ver insights"/*FBT_CALL*/),loggingClickAction:g("lar_composer_view_insights_cta"),url:r(b,e)};case l.LEAD_ADS_FORMS:return{icon:d("fbicon")._(i("1129790"),20),label:h._(/*FBT_CALL*/"Formul\u00e1rios de an\u00fancios de cadastro"/*FBT_CALL*/),loggingClickAction:g("profile_plus_lead_ads_forms"),url:c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:b,nav_ref:"page_insights_interruption",rest:"instant_forms/forms"})};case l.VIEW_MORE_OPTIONS:return{icon:d("fbicon")._(i("509934"),20),label:h._(/*FBT_CALL*/"Ver mais op\u00e7\u00f5es"/*FBT_CALL*/),loggingClickAction:g("lar_composer_view_more_options_cta"),url:s(b,e)}}}g.CometProfilePlusAdminComposerAction=l;g.getPrioritizedButtonActionsForPermissions=a;g.getCreatePostURL=m}),98);
__d("XCometPageVanityPublishingToolsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/publishing_tools/",Object.freeze({ref:""}),void 0);b=a;g["default"]=b}),98);
__d("PagesCometComposerPublishingToolBanner.react",["fbt","ix","CometContextualMessage.react","CometLink.react","CometRelay","PagesCometComposerPublishingToolBanner_page.graphql","ProfilePlusAdminActivitiesFalcoEvent","ProfilePlusAdminComposerUtils","ProfilePlusPlatformTool","TetraIcon.react","XCometPageVanityPublishingToolsControllerRouteBuilder","fbicon","getJSEnumSafe","gkx","qex","react","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l="composer_banner",m="lar_composer";e=c("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments}});function a(a){var e=a.mediaAttachments,f=a.page;a=a.videoLiteComposerEligible;f=d("CometRelay").useFragment(j!==void 0?j:j=b("PagesCometComposerPublishingToolBanner_page.graphql"),f);var g=k.jsx("div",{className:"dhix69tm bi6gxh9e wkznzc2l tr9rh885"});if(f==null||f.id==null||a&&(e==null?void 0:e.length)===1&&e[0].fileType==="VIDEO")return g;a=f.id;e=f.is_delegate_page_with_linked_profile;var l=f.primary_platform_tool;f=f.should_show_pages_composer_cs_footer;l=c("getJSEnumSafe")(c("ProfilePlusPlatformTool"),l);f=n(f,e,a,l);if(f==null)return g;a=e===!0&&c("qex")._("36");g=l==="CREATOR_STUDIO"?t(f,a):h._(/*FBT_CALL*/"A programa\u00e7\u00e3o da publica\u00e7\u00e3o est\u00e1 dispon\u00edvel no {Where user can find advanced publishing options}."/*FBT_CALL*/,[h._param("Where user can find advanced publishing options",f)]);return a===!0?k.jsx("div",{className:"dhix69tm oygrvhab wkznzc2l kvgmc6g5",children:k.jsx(c("CometContextualMessage.react"),{body:k.jsx("div",{className:"tvmbv18p",children:g}),type:"secondary"})}):k.jsx("div",{className:"dhix69tm bi6gxh9e wkznzc2l aov4n071",children:k.jsx(c("CometContextualMessage.react"),{body:k.jsx("div",{className:"w0hvl6rk",children:g}),icon:k.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(i("479178"),24),size:24}),type:"secondary"})})}a.displayName=a.name+" [from "+f.id+"]";function n(a,b,d,e){return e!=null&&(((b=b)!=null?b:!1)||((b=a)!=null?b:!1)||e==="BUSINESS_SUITE"&&c("gkx")("1061"))?o(d,e):r(d)}function o(a,b){var c=d("ProfilePlusAdminComposerUtils").getCreatePostURL(a,b,"comet_composer","page_composer_interruption");if(b==="BUSINESS_SUITE")return p(a,c);return b==="CREATOR_STUDIO"?q(a,c):null}function p(a,b){var d="bizweb_entrypoint_cta";return k.jsx(c("CometLink.react"),{href:b,onClick:function(){s(a,d,"BUSINESS_SUITE")},target:"_blank",children:h._(/*FBT_CALL*/"Facebook Business Suite"/*FBT_CALL*/)})}p.displayName=p.name+" [from "+f.id+"]";function q(a,b){var d="creator_studio_entrypoint_cta";return k.jsx(c("CometLink.react"),{href:b,onClick:function(){s(a,d,"CREATOR_STUDIO")},target:"_blank",children:h._(/*FBT_CALL*/"Est\u00fadio de Cria\u00e7\u00e3o"/*FBT_CALL*/)})}q.displayName=q.name+" [from "+f.id+"]";function r(a){return k.jsx(c("CometLink.react"),{href:c("XCometPageVanityPublishingToolsControllerRouteBuilder").buildURL({vanity:a}),target:"_blank",children:h._(/*FBT_CALL*/"Ferramentas de publica\u00e7\u00e3o"/*FBT_CALL*/)})}r.displayName=r.name+" [from "+f.id+"]";function s(a,b,d){return c("ProfilePlusAdminActivitiesFalcoEvent").log(function(){var c;return{additional_profile_id:(c=a)!=null?c:"",event:"click",event_target:b,extra_metadata:{platform_tool:d},referrer_surface:l,surface:m}})}function t(a,b){return b===!0?h._(/*FBT_CALL*/"A programa\u00e7\u00e3o da publica\u00e7\u00e3o est\u00e1 dispon\u00edvel no {Where user can find advanced publishing options}."/*FBT_CALL*/,[h._param("Where user can find advanced publishing options",a)]):h._(/*FBT_CALL*/"Acesse mais op\u00e7\u00f5es de publica\u00e7\u00e3o e obtenha mais insights sobre o desempenho das suas publica\u00e7\u00f5es em {Where user can find advanced publishing options}."/*FBT_CALL*/,[h._param("Where user can find advanced publishing options",a)])}g["default"]=e}),98);
__d("PagePostAgeRestrictionThresholds",[],(function(a,b,c,d,e,f){a=Object.freeze({OVER_13:13,OVER_15:15,OVER_18:18,OVER_21:21,OVER_25:25});f["default"]=a}),66);
__d("PagesCometComposerPrivacySelectorUtils",["fbt","ix","PagePostAgeRestrictionThresholds","fbicon","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(){var a=Object.values(c("PagePostAgeRestrictionThresholds"));return a.map(function(a){var b=a===13?h._(/*FBT_CALL*/"Todos"/*FBT_CALL*/):h._(/*FBT_CALL*/"{ageInYears}+"/*FBT_CALL*/,[h._param("ageInYears",a)]);b={label:b,value:Number(a)};return b})}function b(a){switch(a){case"restricted_audience":return h._(/*FBT_CALL*/"P\u00fablico restrito"/*FBT_CALL*/);case"public":return h._(/*FBT_CALL*/"P\u00fablico"/*FBT_CALL*/);case"supporters_only":return h._(/*FBT_CALL*/"Apoiadores"/*FBT_CALL*/);default:a;throw new(c("unrecoverableViolation"))("Got an invalid privacy selector audience type. Flow should have caught this.","pages_consumer_experience_www")}}function e(a,b){switch(a){case"restricted_audience":return d("fbicon")._(i("487557"),16);case"public":return b;case"supporters_only":return d("fbicon")._(i("495344"),16);default:a;throw new(c("unrecoverableViolation"))("Got an invalid privacy selector audience type. Flow should have caught this.","pages_consumer_experience_www")}}g.getTargetedPrivacyAgeOptions=a;g.getPrivacyOptionLabel=b;g.getPrivacyOptionIcon=e}),98);
__d("BloodDonationPartnerPrimaryBookingMethod",[],(function(a,b,c,d,e,f){a=Object.freeze({BOOKING_URL:"booking_url",PHONE:"phone"});f["default"]=a}),66);
__d("XCometPageCommunityTabControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/community/",Object.freeze({ref:""}),void 0);b=a;g["default"]=b}),98);